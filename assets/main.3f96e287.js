var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,r=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(e,t)=>{for(var i in t||(t={}))a.call(t,i)&&r(e,i,t[i]);if(n)for(var i of n(t))s.call(t,i)&&r(e,i,t[i]);return e},o=(e,n)=>t(e,i(n));import{d as c,c as u,a as d,F as h,o as p,r as m,v as b,s as g,p as f,b as v,w,m as y,e as k,t as S,f as D,g as A,h as L,i as W,j as V,k as T,l as P,n as M,u as z,q as C}from"./vendor.0d034384.js";var E=c({});const U=d("h1",null,"#ich-kann-klima",-1);E.render=function(e,t,i,n,a,s){const r=m("router-view");return p(),u(h,null,[U,d(r)],64)};const I=new Intl.DateTimeFormat("de-DE");class O{constructor(e){this.url=new URL(e.url),this.title=e.title,this.publisher=e.publisher,this.authors=e.authors,this.date=e.date?new Date(e.date):void 0,this.comment=e.comment,this.internalComment=e.internalComment,this.localCopy=e.localCopy,this.referringUrl=e.referringUrl?new URL(e.referringUrl):void 0,this.archiveUrl=e.archiveUrl?new URL(e.archiveUrl):void 0,this.archiveNotPossible=e.archiveNotPossible}dateString(){const e=this.date;return e?" ("+I.format(e)+")":""}toString(){return[this.authors?this.authors+this.dateString():void 0,this.title?'"'+this.title+'"':void 0,this.url,this.publisher].filter((e=>e)).join(", ")}}const B=new O({url:"https://www.umweltrat.de/SharedDocs/Downloads/DE/01_Umweltgutachten/2016_2020/2020_Umweltgutachten_Kap_02_Pariser_Klimaziele.pdf?__blob=publicationFile&v=22",title:"Umweltgutachten 2020 Kapitel 2 Pariser Klimaziele",publisher:"Umweltrat"}),G=new O({url:"https://energy-charts.info/charts/energy/chart.htm?l=en&c=DE&interval=year&year=2020",title:"Energy-Charts: Annual electricity generation in Germany in 2020",publisher:"Fraunhofer ISE",archiveNotPossible:!0,localCopy:"Bar Charts Electricity Generation Energy-Charts.pdf"}),_=new O({url:"https://www.welt.de/wirtschaft/article173181909/Mineraloelsteuer-Einnahmen-auf-hoechstem-Stand-seit-14-Jahren.html",title:"Bund kassiert so viel Mineralölsteuer wie seit Jahren nicht",publisher:"welt.de",authors:"Birger Nicolai",date:"2018-02-04",archiveUrl:"https://web.archive.org/web/20201113072050/https://www.welt.de/wirtschaft/article173181909/Mineraloelsteuer-Einnahmen-auf-hoechstem-Stand-seit-14-Jahren.html"}),N=new O({url:"https://www.umweltbundesamt.de/sites/default/files/medien/361/dokumente/2021_03_10_trendtabellen_thg_nach_sektoren_v1.0.xlsx",referringUrl:"https://www.umweltbundesamt.de/daten/klima/treibhausgas-emissionen-in-deutschland#nationale-und-europaische-klimaziele",title:"Vorjahreschätzung der deutschen Treibhausgas-Emissionen für das Jahr 2020",publisher:"Umweltbundesamt",date:"2021-03-15",archiveUrl:"https://web.archive.org/web/20210712115357/https://www.umweltbundesamt.de/sites/default/files/medien/361/dokumente/2021_03_10_trendtabellen_thg_nach_sektoren_v1.0.xlsx",comment:'Soweit nicht anders angegeben, werden die Werte aus Blatt "THG" Spalte 2019 verwendet'}),x=new O({url:"https://www.vdv.de/vdv-statistik-2019.pdfx",title:"2019 Statistik",publisher:"VDV",date:"2020-10-01",archiveUrl:"https://web.archive.org/web/20210714151304/https://www.vdv.de/vdv-statistik-2019.pdfx",comment:"Seite 11 enthält CO2e-Emissions-Werte pro Personenkilometer [g/Pkm] für mehrere Verkehrsmittel"}),F=new O({url:"https://www.umweltbundesamt.de/daten/verkehr/emissionen-des-verkehrs#strassenguterverkehr",title:"Emissionen des Verkehrs - Straßengüterverkehr",publisher:"UBA",archiveUrl:"https://web.archive.org/web/20210712110744if_/https://www.umweltbundesamt.de/daten/verkehr/emissionen-des-verkehrs#strassenguterverkehr"}),K=new O({url:"https://www.bmvi.de/SharedDocs/DE/Publikationen/G/verkehr-in-zahlen-2020-pdf.pdf?__blob=publicationFile",title:"Emissionen des Verkehrs - Straßengüterverkehr",publisher:"BMVI",date:"2021-04-13",archiveUrl:"https://web.archive.org/web/20210520124742/https://www.bmvi.de/SharedDocs/DE/Publikationen/G/verkehr-in-zahlen-2020-pdf.pdf?__blob=publicationFile",comment:"Seite 219 enthält Personenkilometer-Jahreswerte für mehrere Verkehrsmittel. Soweit nicht anders angegeben, werden die Werte aus Spalte 2019 verwendet"});class j{constructor(e){this.unit=e.unit,this.citations=e.citations?e.citations:[],this.details=e.details?e.details:"",this.internals=e.internals?e.internals:""}citationsDesc(){return this.citations.map((e=>e.toString())).join("; ")}}const H={MioTons:e=>e<0?0:e,TWh:e=>e<0?0:e,MrdEuro:e=>e,TsdPeople:e=>e<0?0:e,Percent:e=>e>100?100:e<0?0:e,GramPerPsgrKm:e=>e<0?0:e,MioPsgrKm:e=>e<0?0:e};class R extends j{constructor(e){super(e),this.writable=!0,this.initialValue=e.initialValue,this.applyBounds=H[e.unit]}}class Y extends j{constructor(e){super(e),this.writable=!1,this.valueGetter=e.valueGetter,this.shouldInitiallyBe=e.shouldInitiallyBe}}const J=new R({unit:"MioTons",initialValue:6700,citations:[B],details:"",internals:""}),$=new R({unit:"MioTons",initialValue:186.793,citations:[N]}),Z=new Y({unit:"MioTons",valueGetter:e=>e.carUsage*(1-e.carRenewablePercentage/100)*e.carEmissionFactor/1e6+14.4,citations:[x,F],details:"",internals:"\n    TODO: #72 Source [ubaEmissionenDesVerkehrs] claims 47,4 MioTons emissions by trucks per year in 2019.\n    We use 14.4 MioTons to adjust to the correct total emissions street sehicles."}),q=new Y({unit:"MioTons",valueGetter:e=>e.co2emissionsStreetVehicles+65*e.publicLocalCapacity/1e6+32*e.publicNationalCapacity/1e6+222*e.airDomesticUsage/1e6+1.641,citations:[x,N],details:"",internals:"\n    <p>[vdv2019Statistik] states: 65 g/Pkm for local public transport, 32 g/Pkm for inter-city public transport, 230 g/Pkm for domestic air traffic.</p>\n    <p>From [uba2020DeutscheTreibhausgasEmissionen] we calculate backward 222 g/Pkm for domestic air traffic. (currently used)</p>\n    <p>[uba2020DeutscheTreibhausgasEmissionen] states 1.641 Mio t CO2e emissions by costal and inland water transport.</p>\n    <p>Unit conversion: 1 MioPsgrKm * 1 GramPerPsgrKm = 1 MioGram = 1 Ton. Target unit: MioTons. Devide by 1000000</p>\n    "}),Q=new Y({unit:"MioTons",valueGetter:e=>0*e.buildingsSourceBio+.247*e.buildingsSourceGas+.318*e.buildingsSourceOil+.16*e.buildingsSourceTele,citations:[N],details:"",internals:"shouldInitiallyBe: 123.461 according to [uba2020DeutscheTreibhausgasEmissionen]."}),X={co2budget:J,co2emissionsIndustry:$,co2emissionsStreetVehicles:Z,co2emissionsMobility:q,co2emissionsAgriculture:new R({unit:"MioTons",initialValue:67.936,citations:[N],details:"",internals:""}),co2emissionsBuildings:Q,co2emissionsOthers:new R({unit:"MioTons",initialValue:9.243,citations:[N],details:"",internals:""}),co2emissionsEnergy:new Y({unit:"MioTons",valueGetter:e=>.399*e.electricityGas+.058*e.electricitySolar+.005*e.electricityWind+.02*e.electricityWater+.835*e.electricityHardCoal+1.137*e.electricityBrownCoal+0*e.electricityBiomass+.005*e.electricityNuclear,citations:[],details:"",internals:""}),co2emissions:new Y({unit:"MioTons",valueGetter:e=>e.co2emissionsEnergy+e.co2emissionsIndustry+e.co2emissionsMobility+e.co2emissionsBuildings+e.co2emissionsAgriculture+e.co2emissionsOthers,details:"",internals:""}),electricityDemand:new R({unit:"TWh",initialValue:480.54,citations:[G],details:"",internals:""}),electricitySolar:new R({unit:"TWh",initialValue:51.42,citations:[G],details:"",internals:""}),electricityWind:new R({unit:"TWh",initialValue:131.85,citations:[G],details:"",internals:""}),electricityWindOnshoreMaxNew:new R({unit:"TWh",initialValue:6,citations:[G],details:"",internals:""}),electricityWater:new R({unit:"TWh",initialValue:14.99,citations:[G],details:"",internals:""}),electricityBiomass:new R({unit:"TWh",initialValue:43.19,citations:[G],details:"",internals:""}),electricityNuclear:new R({unit:"TWh",initialValue:60.91,citations:[G],details:"",internals:""}),electricityHardCoal:new R({unit:"TWh",initialValue:35.46,citations:[G],details:"",internals:""}),electricityBrownCoal:new R({unit:"TWh",initialValue:82.13,citations:[G],details:"",internals:""}),electricityCoal:new Y({unit:"TWh",valueGetter:e=>e.electricityHardCoal+e.electricityBrownCoal,details:"",internals:""}),electricityGas:new Y({unit:"TWh",valueGetter:e=>e.electricityDemand-e.electricitySolar-e.electricityWind-e.electricityWater-e.electricityHardCoal-e.electricityBrownCoal-e.electricityBiomass-e.electricityNuclear,details:"",internals:""}),carEmissionFactor:new R({unit:"GramPerPsgrKm",initialValue:160,citations:[x],details:"",internals:"[vdv2019Statistik] page 11 would lead to about 160 g/Pkm"}),carUsage:new R({unit:"MioPsgrKm",initialValue:917e3,citations:[K],details:"",internals:""}),carRenewablePercentage:new R({unit:"Percent",initialValue:1,citations:[],details:"",internals:"https://de.motor1.com/news/401639/autos-in-deutschland-zahlen-und-fakten/ (very rough estimate)"}),publicLocalUsage:new R({unit:"MioPsgrKm",initialValue:112600,citations:[K],details:"",internals:""}),publicLocalCapacity:new R({unit:"MioPsgrKm",initialValue:112600,citations:[K],details:"",internals:"Our definition: current situation is 100%"}),publicNationalUsage:new R({unit:"MioPsgrKm",initialValue:67300,citations:[K],details:"",internals:"public - local - air = 251700 - 71800 - 112600 = 67300"}),publicNationalCapacity:new R({unit:"MioPsgrKm",initialValue:67300,citations:[K],details:"",internals:"Our defionition current situation is 100%"}),airDomesticUsage:new R({unit:"MioPsgrKm",initialValue:10100,citations:[K],details:"",internals:""}),airIntlUsage:new R({unit:"MioPsgrKm",initialValue:61700,citations:[K],details:"",internals:""}),passengerTransportUsage:new Y({unit:"MioPsgrKm",valueGetter:e=>e.carUsage+e.publicLocalUsage+e.publicNationalUsage+e.airDomesticUsage+e.airIntlUsage,details:"",internals:""}),buildingsIndustryDemand:new R({unit:"TWh",initialValue:226,citations:[],details:"",internals:"TODO#78: Find source of initialValue."}),buildingsPrivateDemand:new R({unit:"TWh",initialValue:544,citations:[],details:"",internals:"TODO#78: Find source of initialValue."}),buildingsDemand:new Y({unit:"TWh",valueGetter:e=>e.buildingsPrivateDemand+e.buildingsIndustryDemand,details:"",internals:"TODO#78: Find source of initialValue."}),buildingsSourceBio:new R({unit:"TWh",initialValue:130,citations:[],details:"",internals:"TODO#78: Find source of initialValue."}),buildingsSourceOil:new R({unit:"TWh",initialValue:219,citations:[],details:"",internals:"TODO#78: Find source of initialValue."}),buildingsSourceTele:new R({unit:"TWh",initialValue:58,citations:[],details:"",internals:"TODO#78: Find source of initialValue."}),buildingsSourceGas:new Y({unit:"TWh",valueGetter:e=>e.buildingsDemand-(e.buildingsSourceBio+e.buildingsSourceOil+e.buildingsSourceTele),details:"",internals:"TODO#78: Find value for shouldInitiallyBe."}),popularity:new R({unit:"Percent",initialValue:50,citations:[],details:"",internals:"50% of all people accept you as their chancellor."}),numberOfCitizens:new R({unit:"TsdPeople",initialValue:83157,citations:[],details:"",internals:"in 2020, source https://www.destatis.de/DE/Themen/Gesellschaft-Umwelt/Bevoelkerung/Bevoelkerungsstand/Tabellen/zensus-geschlecht-staatsangehoerigkeit-2020.html."}),unemployment:new R({unit:"TsdPeople",initialValue:2695,citations:[],details:"",internals:"in 2020, source https://www.arbeitsagentur.de/news/arbeitsmarkt-vorjahre"}),gdp:new R({unit:"MrdEuro",initialValue:3332,citations:[],details:"",internals:"in 2020, source http://www.statistikportal.de/de/bruttoinlandsprodukt-vgr"}),stateDebt:new R({unit:"MrdEuro",initialValue:1899,citations:[],details:"",internals:"In 2019, source https://de.wikipedia.org/wiki/Staatsverschuldung_Deutschlands"})},ee=Object.entries(X).filter((e=>e[1]instanceof R)).map((e=>e)).reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),te=Object.entries(X).filter((e=>e[1]instanceof Y)).map((e=>e)).reduce(((e,t)=>(e[t[0]]=t[1],e)),{});class ie extends R{constructor(e,t){super(e),this.name=t}}const ne=Object.entries(ee).map((e=>new ie(e[1],e[0])));class ae extends Y{constructor(e,t){super(e),this.name=t}}Object.entries(te).map((e=>new ae(e[1],e[0])));const se=Object.entries(X).map((e=>e[1]instanceof R?new ie(e[1],e[0]):new ae(e[1],e[0]))),re=ne.reduce(((e,t)=>o(l({},e),{[t.name]:t.initialValue})),{});function le(e){const t=l({},e);return Object.entries(te).forEach((e=>Object.defineProperty(t,e[0],{get:()=>e[1].valueGetter(t)}))),t}function oe(e){return{name:e,value:0,percent:0,absolute:void 0,condition:!0,byPercent(e){return this.percent=e,this},byValue(e){return this.value=e,this},setValue(e){return this.absolute=e,this},if(e){return this.condition=e,this},getOldNew(e){const t=this.name,i=e[t];if(!this.condition)return{oldVal:i,newVal:i};const n=X[t],a=null!=this.absolute?this.absolute:i+(this.value||i*this.percent/100);return{oldVal:i,newVal:n.applyBounds(a)}},getChange(e){if(!this.condition)return 0;const{oldVal:t,newVal:i}=this.getOldNew(e);return i-t},getNewVal(e){return this.condition?this.getOldNew(e).newVal:e[this.name]}}}function ce(e,t){return t.filter((e=>e.condition)).forEach((t=>{e[t.name]=t.getNewVal(e)})),e}const ue={currentYear:2021,values:re,acceptedLaws:[],proposedLaws:[],rejectedLaws:[]};function de(e=ue,t=b()){return{id:t,currentYear:e.currentYear,acceptedLaws:e.acceptedLaws,proposedLaws:e.proposedLaws,rejectedLaws:e.rejectedLaws,values:le(e.values),events:[],over:!1}}function he(e){return Object.entries(e).map((([e,t])=>o(l({},t),{id:e.replace(/\W/g,"_")})))}function pe(e){return he(e)}var me={title:"Alles bleibt wie es ist",description:"Die vorhandenen Gesetze haben sich lange bewährt. Wir lassen sie so, wie sie sind.",effects:()=>[],priority:e=>Math.random()};function be(e,t,i){const n=i-e,a=t-e;if(0===a)throw new Error("Linear interpolation requested with the same value for zero and hundred: "+e);return n/a*100}function ge(e,t){if(!Je.map((e=>e.id)).includes(t))throw new Error("Unknown law ID "+t+" used in a law.");return e.acceptedLaws.some((i=>i.lawId===t&&i.effectiveSince<=e.currentYear))}var fe={title:"Kohleverstromung einstellen",description:"Die Verbrennung von Kohle zur Erzeugung von Strom wird verboten.",effects(e,t,i){const n=i-t,a=n<18?4.3/18:0,s=(10-n)/55,r=Math.max(50*s,0);return[oe("electricityHardCoal").setValue(0),oe("electricityBrownCoal").setValue(0),oe("stateDebt").byValue(2.5-a),oe("unemployment").byValue(r)]},priority:e=>e.values.electricityCoal/e.values.electricityDemand<=.1?0:be(1e4,0,e.values.unemployment)},ve={title:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt.",effects:e=>[oe("stateDebt").byValue(-37),oe("electricityHardCoal").byPercent(-10),oe("electricityBrownCoal").byPercent(-5),oe("electricityWind").byValue(5),oe("electricitySolar").byValue(3),oe("electricityWater").byValue(.5)],priority:e=>be(2050,2021,e.currentYear)};const we=le(re).electricityGas;var ye={title:"Kernenergienutzung verlängern",description:"Kernkraftwerke länger nutzen, wieder in Betrieb nehmen und neu bauen.",removeLawsWithLabels:["Kernenergie"],effects:e=>[oe("electricityNuclear").setValue(104.3),oe("stateDebt").byValue(-2.5),oe("popularity").byValue(-4)],priority:e=>be(we,1.1*we,e.values.electricityGas)},ke={title:"Initial: Atomausstieg",description:"Atomausstieg finded wie beschlossen 2022 statt",labels:["hidden","initial","Kernenergie"],effects(e,t,i){const n={2021:60.45,2022:30.21}[i]||0;return[oe("electricityNuclear").setValue(n)]},priority:e=>0},Se={title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit vergünstigten Krediten gefördert.",effects(e,t,i){const n=i-t>2;return[oe("stateDebt").byValue(.5),oe("buildingsSourceBio").byPercent(-1).if(n),oe("buildingsSourceOil").byPercent(-1).if(n),oe("buildingsSourceTele").byPercent(-1).if(n),oe("buildingsPrivateDemand").byPercent(-1).if(n)]},priority:e=>be(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},De={title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit einem zinslosen Kredit und einem Zuschuss von 20% der Kosten gefördert.",effects(e,t,i){const n=i-t>2;return[oe("stateDebt").byValue(1),oe("buildingsSourceBio").byPercent(-2).if(n),oe("buildingsSourceOil").byPercent(-2).if(n),oe("buildingsSourceTele").byPercent(-2).if(n),oe("buildingsPrivateDemand").byPercent(-2).if(n),oe("popularity").byValue(5).if(n)]},priority:e=>be(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},Ae={title:"Dämmung von Wohngebäuden sehr stark fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit 50% der Kosten bezuschusst. Gleichzeitig werden Ausbildungsplätze im Handwerk geschaffen durch einen Zuschuss von 500€ pro Monat, damit der zu erwartende Bauboom bewältigt werden kann.",effects(e,t,i){const n=i-t,a=n>=2;return[oe("stateDebt").byValue(3),oe("buildingsSourceBio").byPercent(-4).if(a),oe("buildingsSourceOil").byPercent(-4).if(a),oe("buildingsSourceTele").byPercent(-4).if(a),oe("buildingsPrivateDemand").byPercent(-4).if(a),oe("popularity").byValue(10).if(1===n),oe("popularity").byValue(5).if(a)]},priority:e=>be(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},Le={title:"Dämmung von Wohngebäuden abschaffen",description:"Wir geben den Bürgern die Freiheit zurück, selbst zu entscheiden, ob sie ihr Haus dämmen wollen und lassen die Förderung auslaufen",effects:()=>[oe("stateDebt").byValue(-.5),oe("buildingsSourceBio").byPercent(-.5),oe("buildingsSourceOil").byPercent(-.5),oe("buildingsSourceTele").byPercent(-.5),oe("buildingsPrivateDemand").byPercent(-.5)],priority(e){const t=function(e,t){const i=e.sort(((e,t)=>t.effectiveSince-e.effectiveSince)).find((e=>t.test(e.lawId)));return null==i?void 0:i.lawId}(e.acceptedLaws,/^DaemmungAltbau/);if(!t||"DaemmmungAltbauAbschaffen"===t)return 0;return be(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)}},We={title:"Nahverkehr Ausbauen",description:"Der Ausbau des Nahverkehrs wird bundesweit stärker bezuschusst.",effects(e,t,i){const n=e.publicLocalCapacity/e.publicLocalUsage*100,a=oe("carUsage").byValue(-.01*e.publicLocalUsage).if(n>=105),s=a.getChange(e),r=i-t;return[oe("stateDebt").byValue(3),oe("publicLocalCapacity").byPercent(1),oe("publicLocalUsage").byValue(-s),a,oe("popularity").byValue(2).if(r>=5)]},priority:e=>be(20,35,e.values.co2emissionsMobility/e.values.co2emissions*100)},Ve={title:"Förderung für Tierhaltung abschaffen",description:"Subventionen für Tierhaltung werden ersatzlos gestrichen",effects:(e,t,i)=>[oe("stateDebt").byValue(-10),oe("co2emissionsAgriculture").byValue(-10).if(t===i),oe("popularity").byValue(-20).if(t===i)],priority:e=>be(1e4,0,e.values.unemployment)},Te={title:"Nahverkehr Kostenlos",description:"Die Kosten für den Nahverkehr werden bundesweit bezuschusst, so dass keine Tickets mehr benötigt werden.",effects(e,t,i){const n=t===i?10:1,a=oe("carUsage").byValue(-n/100*e.publicLocalUsage),s=a.getChange(e);return[oe("stateDebt").byValue(10),oe("publicLocalUsage").byValue(-s),a,oe("popularity").byValue(10).if(t===i),oe("unemployment").byValue(20).if(t===i)]},priority:e=>be(0,10,e.values.co2emissionsMobility/e.values.co2emissions*100)},Pe={title:"Autos in Innenstädten verbieten",description:"Die Innenstädte der großen Städte werden zu Autofreien Zonen erklärt und begrünt, sowie Fahrrad und Fußgängerzonen eingerichtet.",effects(e,t,i){var n=-2;e.publicLocalCapacity>1.2*e.publicLocalUsage&&(n=-1,t+2<i&&(n=2));const a=oe("carUsage").byValue(-.1*e.publicLocalUsage).if(t===i),s=a.getChange(e);return[oe("popularity").byValue(n),a,oe("publicLocalUsage").byValue(-s)]},priority:e=>be(90,120,e.values.publicLocalCapacity/e.values.publicLocalUsage*100)},Me={title:"Fernverkehr Verbindungen ausbauen",description:"Der Ausbau des öffentlichen Fernverkehrs wird bundesweit stärker Bezuschusst und Vorangetrieben",effects(e){const t=e.publicNationalCapacity/e.publicNationalUsage*100,i=oe("carUsage").byValue(.015*e.publicNationalUsage).if(t>=105),n=i.getChange(e);return[oe("stateDebt").byValue(6),oe("publicNationalCapacity").byPercent(1),i,oe("publicNationalUsage").byValue(.667*-n),oe("publicLocalUsage").byValue(.333*-n),oe("popularity").byValue(2)]},priority:e=>be(150,80,e.values.publicNationalCapacity/e.values.publicNationalUsage*100)},ze={title:"Wasserstofftechnologie fördern",description:"Forschung und Entwicklung von wasserstoffbasierter Antriebs- und Produktionstechnologie wird stark gefördert.",effects:(e,t,i)=>[oe("stateDebt").byValue(3),oe("carRenewablePercentage").byValue(1).if(t+5<=i)],priority(e){const t=e.values;return be(40,90,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}};const Ce=new g.exports.Converter;function Ee(e){return e>0?[...Array(e)].map(((e,t)=>t)):[]}function Ue(e,t){const i=e-t-1;return[...Ee(t),Math.max(t,i),...Ee(i).reverse()]}function Ie(e,...t){let i=e.map(((e,i)=>e+(t[i]||""))).join("").split("\n");0===i[0].length&&i.shift();const n=i[0].match(/^(\s+)/);return n&&!i.filter((e=>e.trim())).some((e=>!e.startsWith(n[1])))&&(i=i.map((e=>e.replace(n[1],"")))),Ce.makeHtml(i.join("\n"))}var Oe={title:"Tempolimit 130 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 130 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=oe("carEmissionFactor").byValue(157.9),i=t.getChange(e);return[oe("popularity").byValue(2).if(i<0),t]},priority(e){if(!ge(e,"Tempolimit100AufAutobahnen"))return 0;const t=e.values;return be(10,60,t.carUsage/t.passengerTransportUsage*100)}},Be={title:"Tempolimit 120 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 120 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=oe("carEmissionFactor").byValue(157.1),i=t.getChange(e);return[oe("popularity").byValue(2).if(i<0),t]},priority(e){if(!ge(e,"Tempolimit130AufAutobahnen"))return 0;const t=e.values;return be(10,60,t.carUsage/t.passengerTransportUsage*100)}},Ge={title:"Tempolimit 100 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 100 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=oe("carEmissionFactor").byValue(154.1),i=t.getChange(e);return[oe("popularity").byValue(-1).if(i<0),t]},priority(e){if(!ge(e,"Tempolimit120AufAutobahnen"))return 0;const t=e.values;return be(10,60,t.carUsage/t.passengerTransportUsage*100)}},_e={title:"Generelles Tempolimit nicht umsetzen",description:"Die EU hat das generelle Tempolkmit zwar beschlossen, wir setzen es aber nicht um. Das könnte zwar Strafen oder gar Zwangsmaßnahmen bewirken, aber das Risiko der gefährdeten Wiederwahl ist zu groß.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects:()=>[oe("stateDebt").byValue(-10),oe("popularity").byValue(-2)],priority(e){const t=e.values;return be(10,60,t.carUsage/t.passengerTransportUsage*100)}},Ne={title:"Abstandsregeln für Windkraft wie bisher",description:"Das Land / Die Kommune bestimmem über Abstände zwischen den Windkraftanlagen und Wohngebäuden.",labels:["initial","hidden","WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:e=>[oe("electricityWindOnshoreMaxNew").setValue(6)],priority(e){const t=e.values;return be(30,100,t.electricityWind/t.electricityDemand*100)}},xe={title:"Abstandsregeln für Windkraft lockern",description:"Bundesweite gelockerte Abstandsregeln für Windkraftanlagen sowie Bauerlaubniss in Wäldern. Ja auch Bayern wird jetzt gezwungen Windkraftanlagen zuzulassen, sowie andere nicht bauwillige Kommunen.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[oe("popularity").byValue(-3).if(t===i),oe("electricityWindOnshoreMaxNew").setValue(30)],priority(e){const t=e.values;return be(70,30,t.electricityWind/t.electricityDemand*100)}},Fe={title:"Abstandsregeln für Windkraft abschaffen",description:"Jeder der Land besitzt kann seine Windkraftanlage dahin bauen wo er will.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[oe("popularity").byValue(-40).if(t===i),oe("electricityWindOnshoreMaxNew").setValue(1e3)],priority(e){const t=e.values;return be(80,40,t.electricityWind/t.electricityDemand*100)}},Ke={title:"Abstandsregeln für Windkraft verschärfen",description:"Der Mindestabstand zwischen Wind Energie Anlagen und Wohngebäuden im Innenbereich muss das Zehnfache der Gesamthöhe der Wind Energie Anlagen betragen (10H-Regel)",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[oe("popularity").byValue(5).if(t===i),oe("electricityWindOnshoreMaxNew").setValue(.42)],priority(e){const t=e.values;return be(0,100,t.electricityWind/t.electricityDemand*100)}},je={title:"Ausschreibungsverfahren für Windkraft wie bisher",description:"Windkraft Betreiber können sich mehrmals im Jahr auf ein eine bestimte Leistung von Windkraft bewerben. Der Betreiber, der das Projekt mit der kleinstmöglichen Subventionierung umsetzen kann bekommt den Zuschlag. Insgesamt werden 8,1 TWh pro Jahr ausgeschrieben.",labels:["initial","hidden","WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e){const t=Math.min(6.9,e.electricityWindOnshoreMaxNew);return[oe("electricityWind").byValue(t+1.2)]},priority:e=>be(100,30,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)},He={title:"Ausschreibungsverfahren für Windkraft verdoppeln",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 16,2TWh verdoppelt.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(13.8,e.electricityWindOnshoreMaxNew);return[oe("popularity").byValue(-1).if(t===i),oe("unemployment").byValue(-20).if(t===i),oe("electricityWind").byValue(n+2.4)]},priority(e){if(!ge(e,"AusschreibungsverfahrenfuerWindkraftWieBisher"))return 0;return be(100,50,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},Re={title:"Ausschreibungsverfahren für Windkraft vervierfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 32,4TWh vervierfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(27.6,e.electricityWindOnshoreMaxNew);return[oe("popularity").byValue(-2).if(t===i),oe("unemployment").byValue(-100).if(t===i),oe("electricityWind").byValue(n+4.8)]},priority(e){if(!ge(e,"AusschreibungsverfahrenfuerWindkraftVerdoppeln"))return 0;return be(100,40,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},Ye={title:"Ausschreibungsverfahren für Windkraft verachtfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 64,8TWh verachtfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(55.2,e.electricityWindOnshoreMaxNew);return[oe("popularity").byValue(-20).if(t===i),oe("unemployment").byValue(-100).if(t===i),oe("electricityWind").byValue(n+9.6)]},priority(e){if(!ge(e,"AusschreibungsverfahrenfuerWindkraftVervierfachen"))return 0;return be(100,0,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}};const Je=pe({AllesBleibtBeimAlten:me,InitialAtomausstieg:ke,KohleverstromungEinstellen:fe,EnergiemixRegeltDerMarkt:ve,KernenergienutzungVerlaengern:ye,AbstandsregelnFuerWindkraftVerschaerfen:Ke,AbstandsregelnFuerWindkraftWieBisher:Ne,AbstandsregelnFuerWindkraftLockern:xe,AbstandsregelnFuerWindkraftAbschaffen:Fe,AusschreibungsverfahrenfuerWindkraftWieBisher:je,AusschreibungsverfahrenfuerWindkraftVerdoppeln:He,AusschreibungsverfahrenfuerWindkraftVervierfachen:Re,AusschreibungsverfahrenfuerWindkraftVerachtfachen:Ye,DaemmungAltbau1Percent:Se,DaemmungAltbau2Percent:De,DaemmungAltbau4Percent:Ae,DaemmungAltbauAbschaffen:Le,NahverkehrKostenlos:Te,AutosInInnenstaedtenVerbieten:Pe,WasserstofftechnologieFoerdern:ze,NahverkehrAusbauen:We,FernverkehrVerbindungenAusbauen:Me,AusbauVonStrassen:{title:"Ausbau von Straßen",description:"Autobahnen und Straßen werden intensiver ausgebaut.",effects(e){const t=oe("publicLocalUsage").byPercent(-1),i=oe("publicNationalUsage").byPercent(-1),n=t.getChange(e),a=i.getChange(e);return[oe("stateDebt").byValue(5),oe("popularity").byValue(.5),oe("carUsage").byValue(-n-a),t,i]},priority(e){const t=e.values;return be(60,100,t.carUsage/t.passengerTransportUsage*100)}},AbschaffungDerMineraloelsteuer:{title:"Abschaffung der Mineralölsteuer",description:"Die Steuer auf sämtliche erdölbasierten Treibstoffe wird abgeschafft.",effects(e,t,i){const n=oe("publicLocalUsage").byPercent(-20).if(t===i),a=oe("publicNationalUsage").byPercent(-20).if(t===i),s=n.getChange(e),r=a.getChange(e);return[oe("stateDebt").byValue(41),oe("popularity").byValue(5).if(t===i),oe("popularity").byValue(-3).if(t<i),oe("carUsage").byValue(-s-r).if(t===i),n,a]},priority(e){const t=e.values;return be(60,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)},citations:[_],details:"",internals:Ie`
    # Folgen

    Staatsschulden steigen um 41 Mrd € pro Jahr ${function(e){const t=e.publisher||e.authors;return`[[${null!=t?t+": ":""}${e.title||e.url.toString()}](${e.url.toString()})]`}(_)}
    Im ersten Jahr steigen 20% der Nutzer von öffentlichen Verkehrsmitteln aufs Auto um.
    Popularität steigt im ersten Jahr um 5% und sinkt danach um 3% pro Jahr.

    # Vorbedingungen

    - Priorität über 0%.

    # Priorität

    - 0% bei einem Anteil von nichterneuerbaren PKW von 60%.
    - 100% bei einem Anteil von nichterneuerbaren PKW von 100%. (Zu Beginn: 78%)
    - linear interpoliert
  `},DieselPrivilegAbgeschaffen:{title:"Diesel Privileg abgeschaffen",description:"Diesel wird jetzt genauso besteuert wie Benzin.",effects:(e,t,i)=>[oe("stateDebt").byValue(-7.35),oe("popularity").byValue(-1).if(t===i)],priority(e){const t=e.values;return be(10,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},DienstwagenPrivilegAbgeschaffen:{title:"Dienstwagen Privileg abgeschaffen",description:"Steuererleichterungen für Dienstwagen werden abgeschafft.",effects(e,t,i){const n=oe("carUsage").byPercent(-.05),a=n.getChange(e);return[oe("stateDebt").byValue(-18),oe("popularity").byValue(-1).if(t===i),n,oe("publicLocalUsage").byValue(-a)]},priority(e){const t=e.values;return be(50,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},Tempolimit130AufAutobahnen:Oe,Tempolimit120AufAutobahnen:Be,Tempolimit100AufAutobahnen:Ge,TempolimitAufAutobahnenAussitzen:_e,FoerderungFuerTierhaltungAbschaffen:Ve});function $e(e,t=Je){const i=t.filter((t=>{var i;return!(null==(i=e.acceptedLaws)?void 0:i.some((e=>e.lawId===t.id)))})).filter((t=>{var i;return!(null==(i=e.rejectedLaws)?void 0:i.includes(t.id))})).filter((e=>{var t;return!(null==(t=e.labels)?void 0:t.includes("hidden"))})).map((t=>({law:t,priority:t.priority?t.priority(e):1}))).filter((e=>e.priority>0)).sort(((e,t)=>t.priority-e.priority)).map((e=>e.law.id)).slice(0,6),n=[...e.proposedLaws];!function(e,t){const i=t.filter((t=>e.includes(t))),n=t.filter((e=>!i.includes(e)));var a=0;for(;a<e.length;)i.includes(e[a])?a++:0!==n.length?(e[a]=n.shift(),a++):e.splice(a,1);e.push(...n.slice(0,6-e.length))}(n,i),e.proposedLaws=n}function Ze(e){const t=Je.find((t=>t.id===e));if(t)return t;throw Error(`Law #${e} not found`)}function qe(e){const t=Ze(e.lawId);if(t)return o(l({},t),{effectiveSince:e.effectiveSince});throw Error(`Law #${e.lawId} not found`)}function Qe(e){return Math.max(0,Math.min(100,e))}function Xe(e,t,i=Math.random){let n;function a(t){const n=t.probability(e);return n>=i()?n:0}function s(){return t.map((e=>o(l({},e),{priority:a(e)}))).filter((e=>e.priority)).sort(((e,t)=>t.priority-e.priority))}function r(){if(e.state.game){const t=s();t.length&&e.dispatch("applyEvent",{event:t[0]})}}return{start(){this.pause(),n=setTimeout(r,1e4*i()+5e3)},pause(){n&&clearTimeout(n),n=void 0},initiateEvent:r,getPriorizedEvents:s}}let et;function tt(e,t){return et||(et=Xe(e,t))}function it(e){return e.find((e=>e.title.match(/subvention/i)&&e.title.match(/abbau/i)))}const nt=he({AbstandsregelnWindkraft:{title:"Abstandsregeln für Windkraft erneut im Fokus",description:"Anwohner wollen, dass der Abstand zu Windkraftanlagen erhöht wird. Das führte zu einer Auseinandersetzung des Wirtschaftsministers mit der Umweltministerin.",laws:pe({AbstandsregelnFuerWindkraftVerschaerfen:Ke,AbstandsregelnFuerWindkraftWieBisher:Ne,AbstandsregelnFuerWindkraftLockern:xe,AbstandsregelnFuerWindkraftAbschaffen:Fe}),apply(){},probability:()=>Math.random()},Altbausanierung:{title:"Gesetzesinitiative zur Sanierung von Altbauten",description:"Zur Einhaltung der Pariser Klimaschutzvereinbarung halten Experten es für unausweichlich, dass in die Sanierung von Altbauten investiert werden muss. Die konkrete Ausgestaltung wird kontrovers diskutiert.",laws:pe({DaemmungAltbauAbschaffen:Le,AllesBleibtBeimAlten:me,DaemmungAltbau1Percent:Se,DaemmungAltbau2Percent:De,DaemmungAltbau4Percent:Ae}),apply(){},probability(e){const t=e.state.game;return be(15,25,t.values.co2emissionsBuildings/t.values.co2emissions*100)/100}},Bestechung:{title:"Anruf von befreundetem Unternehmer",description:"Klaus, ein Unternehmer, den du auf einer Dienstreise kennen gelernt hast, ruft an und möchte dich in seine\n    Ferienvilla auf Sardinien einladen. Er verlässt sich natürlich darauf, dass du dem Gesetzentwurf zum Abbau von Subventionen\n    nicht zustimmen wirst.\n  ",apply(e){const t=it(e.getters.proposedLaws);t&&e.dispatch("rejectLaw",{lawId:t.id})},probability:e=>it(e.getters.proposedLaws)?Math.random():0},EnergieStrategie:{title:"Grundsatzdebatte zur Stromerzeugung",description:"Der Bundestag debattierte heute über die Strategie zur Stromerzeugung in Deutschland. Die Meinungen der Parteien gingen dabei stark auseinander.",laws:pe({KohleverstromungEinstellen:fe,EnergiemixRegeltDerMarkt:ve,KernenergienutzungVerlaengern:ye}),apply(){},probability:()=>Math.random()},FinanzKollaps:{title:"Zusammenbruch des Finanzsystems",description:"Deine Staatsfinanzen sind desaströs. Kein Land der Welt, keine Institutionen oder Privatpersonen trauen dir zu, dass du deine Schulden\n    jemals wieder wirst zurückahlen können. Daher gibt dir auch niemand mehr Geld, mit dem du die Staatsangestellten oder die offenen Verpflichtungen zahlen\n    könntest. Das Spiel ist damit leider beendet.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.stateDebt>2*re.stateDebt?1:0},"Hitzehölle":{title:"Hitzehölle",description:"Die CO2-Werte sind soweit gestiegen, dass die Erde nur noch an wenigen Orten bewohnbar ist. Die ehemaligen Küstenregionen\n  stehen unter Wasser, ganze Landstriche sind verschwunden. In den trockeneren Gebieten ist die Temperatur so hoch, dass nichts mehr wächst.\n  Um die verbleibdenden Teile sind erbitterte Kämpfe ausgebrochen.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.co2budget<=0?1:0},NewYear:{title:"Happy New Year!",description:"Mal wieder geht ein ereignisreiches Jahr zuende. Die Regierung hat eine Bilanz ihrer bisherigen Tätigkeit aufgestellt\n    und kommt zu dem nicht weiter überraschenden Ergebnis, dass sie sehr wirkungsvolle Gesetze beschlossen hat. Die Opposition -\n    ebenfalls nicht überraschend - sieht die Sache anders und verurteilt die Regierungserklärung als haltlos.\n  ",apply(e){e.dispatch("advanceYear")},probability(e){const t=e.state.game,i=null==t?void 0:t.acceptedLaws.map(qe).filter((e=>{var i;return!(null==(i=e.labels)?void 0:i.includes("initial"))&&e.effectiveSince==t.currentYear+1})),n=i&&i.length||0;if(n<3)return 0;const a=Math.round(33.3*(n-2))/100;return Math.min(1,a)}},SocialMedia:{title:"Social Media Alarm!",description:"Deine Wahlkampfberaterin ruft dich völlig aufgelöst an. Ob denn an den Geschichten was dran sein, die da im\n    Netz kursieren, dass du vor einigen Jahren bei einer Demo dabei warst, bei der die Gewalt eskaliert ist.\n    Die Zeitungen haben die Meldung schon aufgegriffen und es gibt Spekulationen, ob man dir das Misstrauen aussprechen wird.\n  ",apply(e){e.dispatch("applyEffects",[oe("popularity").byPercent(-20)])},probability:()=>Math.random()},TempolimitAufAutobahnen:{title:"Generelles Tempolimit beschlossen",description:"Die EU hat ein einheitliches, generelles Tempolimit von 120km/h auf Autobahnen beschlossen. Bis auf Deutschland müssen die Mitgliedsstaaten ihr bereits bestehendes generelles Tempolmit nur noch anpassen.",laws:pe({Tempolimit130AufAutobahnen:Oe,Tempolimit120AufAutobahnen:Be,Tempolimit100AufAutobahnen:Ge,TempolimitAufAutobahnenAussitzen:_e}),apply(){},probability:()=>Math.random()},TimesUp:{title:"Du hast durchgehalten",description:"Es ist vielleicht nicht alles optimal nach deiner inzwischen sehr langen Amtszeit, aber du hast es geschafft,\n    bis hierhin durchzuhalten! Das ist wunderbar, denn noch immer ist der Planet bewohnbar, deine Maßnahmen waren zu finanzieren\n    und die Menschen hast du auf diesem Weg auch mitgenommen. Gratulation!\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&2050===e.state.game.currentYear?1:0},WahlVerloren:{title:"Wahl verloren",description:"Deine Beliebtheit in der Bevölkerung ist katastrophal, lieber würde man Mao Zedong wählen als dich.\n    Deine Partei hat daher bei der Wahl gerade mal 1.3% erreicht (weil wohl manche nicht wussten, zu welcher Partei du gehörst) und ist damit unter\n    die 5% Marke gerutscht. An eine weitere Kanzlerschaft hat schon länger kein vernünftiger Mensch mehr geglaubt.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.popularity<=0?1:0},WindkraftAusschreibung:{title:"Abstimmung zur Ausschreibung von Windkraftanlagen",description:"Heute findet die Abstimmung im Bundestag zur weiteren Ausschreibung von Kindkraftanlagen statt. Die Meinungen der Parteien sind sehr unterschiedlich.",laws:pe({AusschreibungsverfahrenfuerWindkraftWieBisher:je,AusschreibungsverfahrenfuerWindkraftVerdoppeln:He,AusschreibungsverfahrenfuerWindkraftVervierfachen:Re,AusschreibungsverfahrenfuerWindkraftVerachtfachen:Ye}),apply(){},probability:()=>Math.random(),citations:[],details:Ie`
    # Bauarbeiten

    Leider gibt es hier noch keine genaueren Informationen.

    # Mitarbeit gewünscht!

    Gerne kannst Du selber etwas beitragen. Was fehlt hier? Kennst Du Quellen, die Hintergrund liefern oder Aussagen belegen?

    In unserem git repo unter [\`src/events/\`](https://github.com/neustartklima/ich-kann-klima/tree/main/src/events) findest Du die zugehörige Datei.
  `,internals:Ie`
    # Platz für interne Kommentare

    Dies wird der Spieler nie sehen. **Zitate** können so eingefügt werden: \${cite(uba2020DeutscheTreibhausgasEmissionen)}.
    Einfach den _backslash_ entfernen, und die richtige Quelle verwenden natürlich... ;-)
  `}});var at={};const st=w();f("data-v-65709d5a");const rt={id:"background-image",src:"/assets/background.feba375a.png"};v();const lt=st(((e,t,i,n,a,s)=>(p(),u("img",rt))));at.render=lt,at.__scopeId="data-v-65709d5a";var ot=c({props:{law:{type:Object,required:!0},selectable:{type:Boolean,required:!0},numCards:{type:Number,required:!0}},setup:()=>({store:Sn()}),data:()=>({accepted:!1}),computed:o(l({},y(["proposedLaws"])),{zIndex(){return this.law.zIndex},transform(){return`rotate(${2*(this.law.pos-this.numCards/2)}deg) translate(${20*Math.abs(this.numCards/2-this.law.pos)}px, -50%)`}}),methods:{select(){this.$emit("selected")},accept(){this.accepted=!0},sendAccept(e){e.animationName.match(/^twistOut-/)&&this.$emit("accepted",this.law.id)}}});const ct=w();f("data-v-3dbdc6c6");const ut={key:0,type:"radio"},dt={key:0,class:"button-bar"};v();const ht=ct(((e,t,i,n,a,s)=>(p(),u("div",{class:["Law",{accepted:e.accepted}],style:{zIndex:e.zIndex},onClick:t[2]||(t[2]=(...t)=>e.select&&e.select(...t)),onAnimationend:t[3]||(t[3]=(...t)=>e.sendAccept&&e.sendAccept(...t))},[d("label",null,[e.selectable?(p(),u("input",ut)):k("",!0),d("div",null,[d("h3",null,S(e.law.title),1),d("div",null,S(e.law.description),1),e.selectable?(p(),u("div",dt,[d("button",{class:"accept",onClick:t[1]||(t[1]=(...t)=>e.accept&&e.accept(...t))},"✓")])):k("",!0)])])],38))));ot.render=ht,ot.__scopeId="data-v-3dbdc6c6";var pt=c({components:{LawCard:ot},setup:()=>({store:Sn()}),data:()=>({zIndexes:[],poppedUp:!1}),computed:o(l({},y(["proposedLaws"])),{lawsToShow(){return this.zIndexes.length||(this.zIndexes=Ue(this.proposedLaws.length,0)),this.proposedLaws.map(((e,t)=>o(l({},e),{zIndex:this.zIndexes[t],pos:t})))}}),methods:{accept(e){this.store.dispatch("acceptLaw",{lawId:e}),this.poppedUp=!1},select(e){this.zIndexes=Ue(this.proposedLaws.length,e)}}});const mt=w()(((e,t,i,n,a,s)=>{const r=m("LawCard");return p(),u("div",{class:["ProposedLaws",{poppedUp:e.poppedUp}],onClick:t[1]||(t[1]=t=>e.poppedUp=!0)},[(p(!0),u(h,null,D(e.lawsToShow,((t,i)=>(p(),u(r,{key:i,law:t,selectable:e.poppedUp,numCards:e.lawsToShow.length,onAccepted:()=>e.accept(t.id),onSelected:()=>e.select(i)},null,8,["law","selectable","numCards","onAccepted","onSelected"])))),128))],2)}));pt.render=mt,pt.__scopeId="data-v-09cfd00c";var bt=c({props:{title:String,text:String},methods:{acknowledge(){this.$emit("acknowledge")}}});const gt=w();f("data-v-5be524af");const ft={key:0};v();const vt=gt(((e,t,i,n,a,s)=>e.text?(p(),u("div",{key:0,onClick:t[1]||(t[1]=(...t)=>e.acknowledge&&e.acknowledge(...t))},[e.title?(p(),u("h2",ft,S(e.title),1)):k("",!0),d("p",null,S(e.text),1)])):k("",!0)));function wt(e,t){return e<t?-1:e>t?1:0}function yt(e,t){const i=le(e);function n(e){return(e>0?"+":"")+e.toFixed(2)}function a(a){const s=function(e){const i=t.find((t=>t.name===e));return i&&i.condition?i.value:0}(a),r=i[a]-e[a];return s&&Math.abs(s-r)<.001?n(s):s?n(s)+" / "+n(r):0!=r?n(r):""}ce(i,t);return se.map((t=>{return{id:t.name,unit:t.unit,value:(i=t.name,e[i].toFixed(2)),effect:a(t.name),class:t.writable?"writable":"calculated"};var i}))}bt.render=vt,bt.__scopeId="data-v-5be524af";var kt=c({props:{citation:{type:Object,required:!0},showInternals:{type:Boolean,default:!1}},computed:{sep:()=>". ",href(){return this.citation.url.toString()},title(){return this.citation.title||this.citation.url.toString()}}});const St={key:0},Dt={key:1},At={key:2},Lt=A("Bemerkung: "),Wt={key:3},Vt=A("Internes: "),Tt={key:4},Pt={key:5},Mt={key:6};kt.render=function(e,t,i,n,a,s){return p(),u("p",null,[e.citation.authors?(p(),u("span",St,S(e.citation.authors+e.citation.dateString())+S(e.sep),1)):k("",!0),d("span",null,[d("a",{href:e.href},'"'+S(e.title)+'"',9,["href"]),A(S(e.sep),1)]),e.citation.publisher?(p(),u("span",Dt,S(e.citation.publisher)+S(e.sep),1)):k("",!0),e.citation.comment?(p(),u("span",At,[Lt,d("span",{innerHTML:e.citation.comment},null,8,["innerHTML"]),A(S(e.sep),1)])):k("",!0),e.showInternals&&e.citation.internalComment?(p(),u("span",Wt,[Vt,d("span",{innerHTML:e.citation.internalComment},null,8,["innerHTML"]),A(S(e.sep),1)])):k("",!0),e.citation.referringUrl?(p(),u("span",Tt,[d("a",{href:e.citation.referringUrl.toString()},"Found here",8,["href"]),A(S(e.sep),1)])):k("",!0),e.citation.archiveUrl?(p(),u("span",Pt,[d("a",{href:e.citation.archiveUrl.toString()},"Archive link",8,["href"]),A(S(e.sep),1)])):k("",!0),e.citation.localCopy?(p(),u("span",Mt,[d("a",{href:"/assets/sources/"+e.citation.localCopy},"Local copy",8,["href"]),A(S(e.sep),1)])):k("",!0)])};var zt=c({components:{Citation:kt},setup(){const e=Sn();return{store:e,allLaws:e.state.allLaws,game:L((()=>e.state.game)),allEvents:nt,eventMachine:Xe(e,nt)}},data:()=>({selectedTable:"laws",lawsSortCol:"state",lawsSortDir:1,eventsSortCol:"probability",eventsSortDir:-1,lawSelected:void 0,eventSelected:void 0,paramSelected:void 0}),methods:{sortLaws(e){e===this.lawsSortCol?this.lawsSortDir=this.lawsSortDir>0?-1:1:this.lawsSortDir=1,this.lawsSortCol=e},sortEvents(e){e===this.eventsSortCol?this.eventsSortDir=this.eventsSortDir>0?-1:1:this.eventsSortDir=1,this.eventsSortCol=e},selectLaw(e){this.unselect(),this.lawSelected=e},selectEvent(e){this.unselect(),this.eventSelected=e},selectParam(e){this.unselect(),this.paramSelected=e},unselect(){this.lawSelected=void 0,this.eventSelected=void 0,this.paramSelected=void 0}},computed:{startYearOfSelected(){if(!this.lawSelected||!this.game)return 2021;const e=this.game.acceptedLaws.find((e=>e.lawId===this.lawSelected));return e?e.effectiveSince:2021},selectedLaw(){return this.allLaws.find((e=>e.id===this.lawSelected))},selectedEvent(){return this.allEvents.find((e=>e.id===this.eventSelected))},selectedParam(){return this.paramSelected?X[this.paramSelected]:void 0},citationsOfLaw(){return this.selectedLaw&&this.selectedLaw.citations?this.selectedLaw.citations:[]},effectsOfSelected(){if(!this.lawSelected||!this.game)return[];this.game;const e=this.selectedLaw;return e?e.effects(this.game.values,this.startYearOfSelected,this.game.currentYear):[]},sortedValues(){return this.game?yt(this.game.values,this.effectsOfSelected):[]},sortedLaws(){return this.game?function(e,t,i,n){const a=e.proposedLaws,s=e.acceptedLaws.map((e=>e.lawId)),r=e.rejectedLaws;return n.map((t=>{return{id:t.id,priority:t.priority(e),state:(i=t.id,s.includes(i)?"a":a.includes(i)?"p":r.includes(i)?"r":"x")};var i})).sort(((e,n)=>wt(e[t],n[t])*i)).map((e=>o(l({},e),{priority:e.priority.toFixed(2)})))}(this.game,this.lawsSortCol,this.lawsSortDir,this.allLaws):[]},sortedEvents(){return this.game?(e=this.store,t=this.eventsSortCol,i=this.eventsSortDir,this.allEvents.map((t=>({id:t.id,probability:t.probability(e)}))).sort(((e,n)=>wt(e[t],n[t])*i)).map((e=>o(l({},e),{probability:(100*e.probability).toFixed(2)})))):[];var e,t,i}}});const Ct=w();f("data-v-314bcdbf");const Et={class:"peekData"},Ut={key:0,class:"Details"},It={class:"Title"},Ot={class:"Description"},Bt=d("div",{class:"SectionHead"},"Details:",-1),Gt=d("div",{class:"SectionHead"},"Internes:",-1),_t=d("div",{class:"SectionHead"},"Referenzen:",-1),Nt={key:1,class:"Details"},xt={class:"Title"},Ft={class:"Description"},Kt=d("div",{class:"SectionHead"},"Details:",-1),jt=d("div",{class:"SectionHead"},"Internes:",-1),Ht=d("div",{class:"SectionHead"},"Referenzen:",-1),Rt={key:2,class:"Details"},Yt={class:"Title"},Jt=d("div",{class:"SectionHead"},"Details:",-1),$t=d("div",{class:"SectionHead"},"Internes:",-1),Zt=d("div",{class:"SectionHead"},"Referenzen:",-1),qt={class:"paramsList"},Qt={class:"numbercol"},Xt={class:"effcol"},ei={class:"buttonlist"},ti={key:0,class:"lawlist"},ii={class:"priocol"},ni={key:1,class:"lawlist"},ai={class:"priocol"};v();const si=Ct(((e,t,i,n,a,s)=>{var r;const l=m("Citation");return p(),u("details",Et,[d("summary",{onClick:t[1]||(t[1]=t=>e.unselect()),class:"clickable"},"Peek"),e.selectedLaw?(p(),u("div",Ut,[d("div",It,S(e.selectedLaw.title),1),d("div",Ot,S(e.selectedLaw.description),1),Bt,d("div",{class:"Section",innerHTML:e.selectedLaw.details},null,8,["innerHTML"]),Gt,d("div",{class:"Section",innerHTML:e.selectedLaw.internals},null,8,["innerHTML"]),_t,(p(!0),u(h,null,D(e.citationsOfLaw,((e,t)=>(p(),u(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):k("",!0),e.selectedEvent?(p(),u("div",Nt,[d("div",xt,S(e.selectedEvent.title),1),d("div",Ft,S(e.selectedEvent.description),1),Kt,d("div",{class:"Section",innerHTML:e.selectedEvent.details},null,8,["innerHTML"]),jt,d("div",{class:"Section",innerHTML:e.selectedEvent.internals},null,8,["innerHTML"]),Ht,(p(!0),u(h,null,D(null==(r=e.selectedEvent)?void 0:r.citations,((e,t)=>(p(),u(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):k("",!0),e.selectedParam?(p(),u("div",Rt,[d("div",Yt,S(e.paramSelected)+" ["+S(e.selectedParam.unit)+"]",1),Jt,d("div",{class:"Section",innerHTML:e.selectedParam.details},null,8,["innerHTML"]),$t,d("div",{class:"Section",innerHTML:e.selectedParam.internals},null,8,["innerHTML"]),Zt,(p(!0),u(h,null,D(e.selectedParam.citations,((e,t)=>(p(),u(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):k("",!0),d("table",qt,[(p(!0),u(h,null,D(e.sortedValues,(t=>(p(),u("tr",{key:t.id,class:["clickable",t.class],onClick:i=>e.selectParam(t.id)},[d("td",null,S(t.id),1),d("td",Qt,S(t.value),1),d("td",Xt,S(t.effect),1),d("td",null,S(t.unit),1)],10,["onClick"])))),128))]),d("div",null,[d("table",ei,[d("tr",null,[d("td",{class:["clickable lawButton",e.selectedTable],onClick:t[2]||(t[2]=t=>e.selectedTable="laws")},"Laws",2),d("td",{class:["clickable eventButton",e.selectedTable],onClick:t[3]||(t[3]=t=>e.selectedTable="events")},"Events",2)])]),"laws"===e.selectedTable?(p(),u("table",ti,[d("tr",null,[d("th",{onClick:t[4]||(t[4]=t=>e.sortLaws("state")),class:"clickable"},"S"),d("th",{onClick:t[5]||(t[5]=t=>e.sortLaws("id")),class:"clickable"},"ID"),d("th",{onClick:t[6]||(t[6]=t=>e.sortLaws("priority")),class:"clickable priocol"},"Priority")]),(p(!0),u(h,null,D(e.sortedLaws,(t=>(p(),u("tr",{key:t.id,class:["clickable",t.state],onClick:i=>e.selectLaw(t.id)},[d("td",null,S(t.state),1),d("td",null,S(t.id),1),d("td",ii,S(t.priority),1)],10,["onClick"])))),128))])):k("",!0),"events"===e.selectedTable?(p(),u("table",ni,[d("tr",null,[d("th",{onClick:t[7]||(t[7]=t=>e.sortEvents("id")),class:"clickable"},"ID"),d("th",{onClick:t[8]||(t[8]=t=>e.sortEvents("probability")),class:"clickable priocol"},"Probability")]),(p(!0),u(h,null,D(e.sortedEvents,(t=>(p(),u("tr",{key:t.id,class:"clickable",onClick:i=>e.selectEvent(t.id)},[d("td",null,S(t.id),1),d("td",ai,S(t.probability),1)],8,["onClick"])))),128))])):k("",!0)])])}));zt.render=si,zt.__scopeId="data-v-314bcdbf";var ri=c({props:{value:{type:Number,required:!0}},computed:{isShort(){return this.value<20},isLess(){return this.value>=20&&this.value<50},isMore(){return this.value>=50&&this.value<80},isMuch(){return this.value>=80}}});const li=w();f("data-v-2888306d");const oi={key:0,src:"/assets/money-short.7ce9dbed.png",id:"short"},ci={key:1,src:"/assets/money-less.c10d45f8.png",id:"less"},ui={key:2,src:"/assets/money-more.a1c17d8d.png",id:"more"},di={key:3,src:"/assets/money-much.ad651475.png",id:"much"};v();const hi=li(((e,t,i,n,a,s)=>(p(),u("div",null,[e.isShort?(p(),u("img",oi)):k("",!0),e.isLess?(p(),u("img",ci)):k("",!0),e.isMore?(p(),u("img",ui)):k("",!0),e.isMuch?(p(),u("img",di)):k("",!0)]))));ri.render=hi,ri.__scopeId="data-v-2888306d";var pi=c({props:{value:{type:Number,required:!0}},computed:{areHappy(){return this.value>=50},areAngry(){return this.value<50}}});const mi={id:"poularity"},bi={key:0,src:"/assets/people-happy.1e9e529c.png",id:"happy"},gi={key:1,src:"/assets/people-angry.495e0425.png",id:"angry"};pi.render=function(e,t,i,n,a,s){return p(),u("div",mi,[e.areHappy?(p(),u("img",bi)):k("",!0),e.areAngry?(p(),u("img",gi)):k("",!0)])};var fi=c({data:()=>({levels:{healthy:"/assets/plant-healthy.1c912fd2.png",sick:"/assets/plant-sick.05726ebf.png",withered:"/assets/plant-withered.2d8ffb21.png"}}),props:{value:{type:Number,required:!0}},computed:{status(){return this.value>66?"healthy":this.value>33?"sick":"withered"},imgSrc(){return this.levels[this.status]}}});const vi=w()(((e,t,i,n,a,s)=>(p(),u("div",null,[d("img",{src:e.imgSrc,id:e.status},null,8,["src","id"])]))));fi.render=vi,fi.__scopeId="data-v-2eacb978";var wi=c({props:{year:Number}});const yi=w();f("data-v-4e447867");const ki={id:"calendar"};v();const Si=yi(((e,t,i,n,a,s)=>(p(),u("div",ki,S(e.year),1))));wi.render=Si,wi.__scopeId="data-v-4e447867";var Di=c({});const Ai=w();f("data-v-41ed11de");const Li={id:"heater"},Wi=d("img",{src:"/assets/heater.5a77e425.png"},null,-1);v();const Vi=Ai(((e,t,i,n,a,s)=>(p(),u("div",Li,[Wi]))));Di.render=Vi,Di.__scopeId="data-v-41ed11de";var Ti=c({});const Pi=w();f("data-v-542f3491");const Mi={id:"table"},zi=d("img",{src:"/assets/table.1ba43c02.png"},null,-1);v();const Ci=Pi(((e,t,i,n,a,s)=>(p(),u("div",Mi,[zi]))));Ti.render=Ci,Ti.__scopeId="data-v-542f3491";var Ei=c({components:{Background:at,Calendar:wi,ClimateIndicator:fi,Heater:Di,PeekInside:zt,LawProposals:pt,SpeechBubble:bt,FinanceIndicator:ri,PopularityIndicator:pi,Table:Ti},data(){const e=Sn();return{store:e,devMode:"true"===localStorage.getItem("devMode"),eventMachine:Xe(e,nt)}},computed:{eventTitle(){var e;return(null==(e=this.eventToShow())?void 0:e.title)||""},eventText(){var e;return(null==(e=this.eventToShow())?void 0:e.description)||""},priorizedEvents(){return this.eventMachine.getPriorizedEvents()},probability(){return e=>(100*e.probability(this.store)).toFixed(2)},currentYear(){var e;return(null==(e=this.store.state.game)?void 0:e.currentYear)||2021},finance(){const e=this.store.state.game;return e?function(e){return Qe(100-e.values.stateDebt/re.stateDebt*50)}(e):0},popularity(){var e;return(null==(e=this.store.state.game)?void 0:e.values.popularity)||100},climate(){const e=this.store.state.game;return e?function(e){return 0===e.values.co2emissions?100:Qe(e.values.co2budget*le(re).co2emissions/re.co2budget/e.values.co2emissions*50)}(e):0}},methods:{eventToShow(){var e;const t=null==(e=this.$store.state.game)?void 0:e.events[0];return t&&!t.acknowledged?t:null},acknowledge(){this.$store.dispatch("acknowledgeEvent",this.eventToShow())}}});const Ui={class:"game-setup"},Ii={class:"peek"},Oi={key:0,class:"probabilities"},Bi=d("b",null,"Probable Events",-1),Gi={key:0};Ei.render=function(e,t,i,n,a,s){const r=m("Background"),l=m("Calendar"),o=m("Heater"),c=m("Table"),b=m("FinanceIndicator"),g=m("PopularityIndicator"),f=m("ClimateIndicator"),v=m("LawProposals"),w=m("SpeechBubble"),y=m("PeekInside");return p(),u(h,null,[d("div",Ui,[d(r),d(l,{year:e.currentYear},null,8,["year"]),d(o),d(c),d(b,{value:e.finance},null,8,["value"]),d(g,{value:e.popularity},null,8,["value"]),d(f,{value:e.climate},null,8,["value"]),d(v),d(w,{title:e.eventTitle,text:e.eventText,onAcknowledge:e.acknowledge},null,8,["title","text","onAcknowledge"])]),d("div",Ii,[e.devMode?(p(),u(y,{key:0})):k("",!0)]),e.devMode?(p(),u("div",Oi,[Bi,e.devMode&&e.$store.state.game?(p(),u("ul",Gi,[(p(!0),u(h,null,D(e.priorizedEvents,(t=>(p(),u("li",{key:t.id},[d("span",null,S(t.title),1),d("span",null,S(e.probability(t))+"%",1),d("span",null,S((100*t.priority).toFixed(2))+"%",1)])))),128))])):k("",!0)])):k("",!0)],64)};var _i=c({setup(){const e=Sn();return{store:e,allLaws:L((()=>e.state.allLaws)),acceptedLaws:L((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({opened:void 0}),computed:{visibleAccepted(){return this.allLaws.filter((e=>{var t,i;return(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!(null==(i=e.labels)?void 0:i.includes("hidden"))}))}},methods:{toggleOpen(e){this.opened=this.opened===e?void 0:e}}});const Ni=w()(((e,t,i,n,a,s)=>(p(!0),u(h,null,D(e.visibleAccepted,((t,i)=>(p(),u("div",{key:i,class:["Law",{opened:i===e.opened}],onClick:t=>e.toggleOpen(i)},[d("h3",null,S(t.title),1),d("div",null,S(t.description),1)],10,["onClick"])))),128))));_i.render=Ni,_i.__scopeId="data-v-00114f1b";var xi=c({components:{GameSetup:Ei,AcceptedLaws:_i},setup:()=>({store:Sn()}),methods:{startGame(e){e?this.store.dispatch("loadGame",{gameId:e}):this.store.dispatch("startGame",void 0)}},beforeRouteEnter(e,t,i){i((t=>t.startGame(e.params.id)))}});const Fi=w()(((e,t,i,n,a,s)=>{const r=m("GameSetup");return p(),u(r)}));xi.render=Fi,xi.__scopeId="data-v-3637ce73";var Ki={components:{Background:at}};const ji=w();f("data-v-1d52f438");const Hi={class:"dialog"};v();const Ri=ji(((e,t,i,n,a,s)=>{const r=m("Background");return p(),u(h,null,[d(r),d("div",Hi,[W(e.$slots,"default",{},void 0,!0)])],64)}));Ki.render=Ri,Ki.__scopeId="data-v-1d52f438";var Yi=c({components:{Dialog:Ki},methods:{newGame(){this.$router.push("/games")}}});const Ji=d("h2",null,"Deine erste Entscheidung steht bevor...",-1),$i=d("p",null,[A(" Wähle weise, denn "),d("u",null,"alles hat Einfluss"),A(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt. ")],-1),Zi=d("p",null,[A(" Durch manche Entscheidungen entstehen neue Möglichkeiten. "),d("br"),A("Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),qi=d("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),Qi={class:"button-bar"};Yi.render=function(e,t,i,n,a,s){const r=m("Dialog");return p(),u(r,null,{default:V((()=>[Ji,$i,Zi,qi,d("div",Qi,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var Xi=c({components:{Dialog:Ki},methods:{start(){this.$router.push("/start")}}});const en=d("h2",null,"Stell dir vor...",-1),tn=d("h3",null,"... du bist Politiker.",-1),nn=d("p",null,"Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl!",-1),an=d("p",null,"Du hast vier Jahre Zeit um...",-1),sn=d("ul",null,[d("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),d("li",null,"der Klimakatastrophe entgegenzusteuern"),d("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),rn={class:"button-bar"};Xi.render=function(e,t,i,n,a,s){const r=m("Dialog");return p(),u(r,null,{default:V((()=>[en,tn,nn,an,sn,d("div",rn,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])),_:1})};var ln=c({components:{Dialog:Ki},setup:()=>({store:Sn()}),computed:{co2(){var e,t;const i=null==(e=this.store.state.game)?void 0:e.values.co2budget;return(null==(t=this.store.state.game)?void 0:t.values.co2emissions)>0?i>0?"sind weiterhin vorhanden, aber zumindest ist das Budget noch nicht aufgebraucht, dein:e Nachfolger:in hat vielleicht noch eine Chance.":"sind explodiert, das Budget ist aufgebraucht. Hätte die AfD nicht besser hinbekommen.":i>0?"hast du im Griff! Es verbleibt sogar noch ein Rest-CO2-Budget, Gratulation!":"hast du gerade noch rechtzeitig ausreichend senken können. Punktlandung."},debt(){var e;return(null==(e=this.store.state.game)?void 0:e.values.stateDebt)<1e3?"sind ausgeglichen. Die Stabilitätskriterien werden eingehalten.":"sind dir leider aus dem Ruder gelaufen."},popularity(){var e;const t=null==(e=this.store.state.game)?void 0:e.values.popularity;return t<20?"entspricht dem, was man von einem langhährigen Diktator erwarten kann.":t<50?"ist nicht berauschend, wiedergewählt würdest du wohl eher nicht.":t<80?"reicht aus, dass du noch länger am Ruder bleiben könntest. Gratulation!":"ist völlig unglaubwürdig - war das wirklich eine freie Wahl?"}},methods:{loadGame(e){this.store.dispatch("loadGame",{gameId:e})},newGame(){this.$router.push("/games")}},beforeRouteEnter(e,t,i){i((t=>{t.loadGame(e.params.id)}))}});const on=d("h2",null,"Das Spiel ist leider zu Ende",-1),cn=d("p",null,"Deine Entscheidungen haben etwas verändert - soviel kann man sagen.",-1),un=d("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),dn={class:"button-bar"};ln.render=function(e,t,i,n,a,s){const r=m("Dialog");return p(),u(r,null,{default:V((()=>[on,cn,d("ul",null,[d("li",null,"Die CO2-Emmissionen "+S(e.co2),1),d("li",null,"Die Staatsfinanzen "+S(e.debt),1),d("li",null,"Deine Beliebtheit "+S(e.popularity),1)]),un,d("div",dn,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Neuer Versuch")])])),_:1})};const hn=[{path:"/",component:Xi},{path:"/start",component:Yi},{path:"/games",component:xi},{path:"/games/:id",component:xi},{path:"/games/:id/over",component:ln}],pn=T({history:P(),routes:hn});const mn=function(e,t){let i,n=[];async function a(){if(i&&(clearTimeout(i),i=void 0),n.length){const{method:r,path:l,data:o,retry:c,resolve:u,reject:d}=n[0];try{if((null==t?void 0:t.navigator)&&!(null==t?void 0:t.navigator.onLine))throw Error("Browser is offline");const i=await e(r,l,o);n.shift(),u(i)}catch(s){c?n[0].retry=Math.max(-1,c-1):(n.shift(),d(s))}n.length&&(i=setTimeout(a,(null==t?void 0:t.timeout)||1e4))}}return{add:(e,t,s,r=-1)=>new Promise(((l,o)=>{n.push({method:e,path:t,data:s,retry:r,resolve:l,reject:o}),i||a()})),remove(e,t){n=n.filter((i=>i.method.toLowerCase()!==e.toLowerCase()||i.path!==t))},callsPending:()=>n.length>0}}(function(e,t,i=console){return async function(n,a,s){var r;try{const i={method:n};["post","put","patch"].includes(n)&&(i.body=JSON.stringify(s),i.headers={"content-type":"application/json"});const l=await t(e+a,i),o=(null==(r=l.headers.get("Content-Type"))?void 0:r.match(/json/))?await l.json():await l.text();if(l.ok)return o;throw Error(o.message||o)}catch(l){throw i.error(l),l}}}("https://api.ich-kann-klima.de/api",fetch));var bn;const gn=function({api:e,logger:t=console,storage:i=localStorage}){return{async createGame(n,a=ue){const s=de(a);s.acceptedLaws=n.filter((e=>{var t;return null==(t=e.labels)?void 0:t.includes("initial")})).map((e=>({lawId:e.id,effectiveSince:s.currentYear}))),$e(s,n),i.setItem("game",JSON.stringify(s));try{e.createGame(s)}catch(r){t.warn("Cannot save new game - trying again later",r)}return s},async loadGame(t){const n=i.getItem("game");if(n){const e=JSON.parse(n);if(e.id===t)return de(e,t)}return de(await e.loadGame(t),t)},async saveGame(n){i.setItem("game",JSON.stringify(n));try{e.saveGame(n)}catch(a){t.warn("save on server failed - at least the game is saved in localStorage, so you can save it maybe next time",a)}},async decisionMade(t,i,n){e.decisionMade(t.id,i.id,n)},async eventOccurred(t,i){e.eventOccurred(t.id,i.id)}}}({api:(bn=mn,{createGame:e=>bn.add("post","/games",e),loadGame:e=>bn.add("get","/games/"+e,void 0,0),saveGame:e=>(bn.remove("put","/games/"+e.id),bn.add("put","/games/"+e.id,e)),decisionMade:(e,t,i)=>bn.add("post","/games/"+e+"/decisions/"+t,{accepted:i}),eventOccurred:(e,t)=>bn.add("post","/games/"+e+"/events/"+t)})}),fn={async startGame(e){const t=await gn.createGame(e.state.allLaws);tt(Dn,nt).start(),pn.push("/games/"+t.id)},async loadGame(e,t){try{const i=await gn.loadGame(t.gameId);await gn.saveGame(i),pn.push("/games/"+i.id),e.commit("setGameState",{game:i})}catch(i){e.dispatch("error",{error:i})}},gameOver(e){var t;e.commit("gameOver",void 0),pn.push("/games/"+(null==(t=e.state.game)?void 0:t.id)+"/over")},async acceptLaw(e,t){const i=l({},e.state.game),n={lawId:t.lawId,effectiveSince:i.currentYear+1},a=qe(n),s=a.removeLawsWithLabels,r=i.acceptedLaws.map(qe).filter((e=>!(null==s?void 0:s.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)}))))).map((e=>({lawId:e.id,effectiveSince:e.effectiveSince})));i.acceptedLaws=[...r,n],$e(i),await gn.saveGame(i),e.commit("setGameState",{game:i}),await gn.decisionMade(i,a,!0),tt(Dn,nt).start()},async rejectLaw(e,t){const i=l({},e.state.game);i.rejectedLaws=[...i.rejectedLaws,t.lawId],$e(i),await gn.decisionMade(i,Ze(t.lawId),!1),e.commit("setGameState",{game:i}),tt(Dn,nt).start()},async advanceYear(e){const t=l({},e.state.game),i=t.acceptedLaws.map(qe);t.currentYear++,t.values=function(e,t,i){const n=le(e);return t.sort(((e,t)=>{var i,n;return(null==(i=e.treatAfterLabels)?void 0:i.some((e=>{var i;return null==(i=t.labels)?void 0:i.includes(e)})))?1:(null==(n=t.treatAfterLabels)?void 0:n.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)})))?-1:0})).forEach((e=>{const t=e.effects(n,e.effectiveSince,i);ce(n,t)})),n.co2budget-=n.co2emissions,n}(t.values,i,t.currentYear),$e(t),await gn.saveGame(t),e.commit("setGameState",{game:t})},async applyEvent(e,t){var i;const n=l({},e.state.game);n.events.unshift(t.event),await gn.eventOccurred(n,t.event),(null==(i=t.event.laws)?void 0:i.length)&&(n.proposedLaws=t.event.laws.map((e=>e.id))),e.commit("setGameState",{game:n}),t.event.apply(e)},acknowledgeEvent(e,t){const i=l({},e.state.game);i.events.find((e=>e.id===t.id)).acknowledged=!0,e.commit("setGameState",{game:i})},applyEffects(e,t){var i;const n=ce(l({},null==(i=e.state.game)?void 0:i.values),t),a=o(l({},e.state.game),{values:n});e.commit("setGameState",{game:a})},async error(e,t){e.commit("error",t)}},vn={setGameState(e,t){e.game=t.game},gameOver(e){e.game=o(l({},e.game),{over:!0})},error(e,t){console.error(t.error),alert(t.error.message)}},wn={proposedLaws:e=>e.game&&e.game.proposedLaws?e.game.proposedLaws.map((t=>{const i=e.allLaws.find((e=>e.id===t));return i||console.error(`Inconsistency: Proposed law #${t} not found`),i})).filter((e=>e)):[]},yn={allLaws:Je,game:void 0,visibleEvent:null},kn=Symbol();function Sn(){return z(kn)}const Dn=M({state:yn,mutations:vn,actions:fn,getters:wn}),An=C(E);An.use(Dn,kn),An.use(pn),An.mount("#app");
