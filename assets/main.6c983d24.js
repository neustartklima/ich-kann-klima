var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(e,t)=>{for(var i in t||(t={}))a.call(t,i)&&s(e,i,t[i]);if(n)for(var i of n(t))r.call(t,i)&&s(e,i,t[i]);return e},o=(e,n)=>t(e,i(n));import{d as c,c as u,a as d,F as h,o as p,r as m,v as g,b,w as f,p as v,e as y,f as w,t as A,g as k,h as L,m as W,i as D,j as S,k as T,l as I,n as U,u as M,q as C}from"./vendor.95e02212.js";var z=c({});const O=d("details",{class:"attribution"},[d("summary",null,"Attribution"),d("ul",null,[d("li",null,"CO2 symbol: Tommaso.sansone91, CC0 1.0, via Wikimedia commons"),d("li",null,"Euro coin: Verdy_p, Public domain, via Wikimedia commons"),d("li",null,"Clapping hands: pngimg.com, CC 4.0 BY-NC")])],-1);z.render=function(e,t,i,n,a,r){const s=m("router-view");return p(),u(h,null,[d(s),O],64)};const B={co2budget:6700,stateDebt:1899,popularity:50,numberOfCitizens:83157,unemployment:2695,gdp:3332,carUsage:917e3,carEmissionFactor:160,carRenewablePercentage:1,publicLocalUsage:112600,publicLocalCapacity:112600,publicNationalUsage:67300,publicNationalCapacity:67300,airDomesticUsage:10100,airIntlUsage:61700,electricityDemand:480.54,electricitySolar:51.42,electricityWind:131.85,electricityWindOnshoreMaxNew:6,electricityWater:14.99,electricityHardCoal:35.46,electricityBrownCoal:82.13,electricityBiomass:43.19,electricityNuclear:60.91,buildingsPrivateDemand:544,buildingsIndustryDemand:226,buildingsSourceBio:130,buildingsSourceOil:219,buildingsSourceTele:58,co2emissionsIndustry:186.793,co2emissionsAgriculture:67.936,co2emissionsOthers:9.243},E={currentYear:2021,values:B,acceptedLaws:[],proposedLaws:[],rejectedLaws:[]};function G(e){return o(l({},e),{get electricityCoal(){return this.electricityHardCoal+this.electricityBrownCoal},get electricityGas(){return this.electricityDemand-this.electricitySolar-this.electricityWind-this.electricityWater-this.electricityHardCoal-this.electricityBrownCoal-this.electricityBiomass-this.electricityNuclear},get co2emissionsEnergy(){return.399*this.electricityGas+.058*this.electricitySolar+.005*this.electricityWind+.02*this.electricityWater+.835*this.electricityHardCoal+1.137*this.electricityBrownCoal+0*this.electricityBiomass+.005*this.electricityNuclear},get passengerTransportUsage(){return this.carUsage+this.publicLocalUsage+this.publicNationalUsage+this.airDomesticUsage+this.airIntlUsage},get co2emissionsStreetVehicles(){return this.carUsage*(1-this.carRenewablePercentage/100)*this.carEmissionFactor/1e6+14.4},get co2emissionsMobility(){return this.co2emissionsStreetVehicles+65*this.publicLocalCapacity/1e6+32*this.publicNationalCapacity/1e6+222*this.airDomesticUsage/1e6+1.641},get buildingsDemand(){return this.buildingsPrivateDemand+this.buildingsIndustryDemand},get buildingsSourceGas(){return this.buildingsDemand-(this.buildingsSourceBio+this.buildingsSourceOil+this.buildingsSourceTele)},get co2emissionsBuildings(){return 0*this.buildingsSourceBio+.247*this.buildingsSourceGas+.318*this.buildingsSourceOil+.16*this.buildingsSourceTele},get co2emissions(){return this.co2emissionsEnergy+this.co2emissionsIndustry+this.co2emissionsMobility+this.co2emissionsBuildings+this.co2emissionsAgriculture+this.co2emissionsOthers}})}function P(e=E,t=g()){return{id:t,currentYear:e.currentYear,acceptedLaws:e.acceptedLaws,proposedLaws:e.proposedLaws,rejectedLaws:e.rejectedLaws,values:G(e.values),events:[],over:!1}}function N(e){return Object.entries(e).map((([e,t])=>o(l({},t),{id:e.replace(/\W/g,"_")})))}function K(e,t){const i=void 0===e?(e,t)=>t:(t,i)=>Math.max(i,e-t),n=void 0===t?(e,t)=>t:(e,i)=>Math.min(i,t-e);return(e,t)=>t>0?n(e,t):i(e,t)}const x=K(0,100),j=K(0,void 0),V=K(0,void 0),F=K(0,void 0);function R(e,t,i){const n=i-e,a=t-e;if(0===a)throw new Error("Linear interpolation requested with the same value for zero and hundred: "+e);return n/a*100}function Q(e,t){if(!q.map((e=>e.id)).includes(t))throw new Error("Unknown law ID "+t+" used in a law.");return e.acceptedLaws.some((i=>i.lawId===t&&i.effectiveSince<=e.currentYear))}function H(e){return t=>Object.assign({},...t.filter((e=>e.condition)).map((t=>({[t.name]:e[t.name]+t.amount}))))}function J(e,t){return{name:e,amount:t,condition:!0,onlyIf(e){return this.condition=e,this}}}var Z={title:"Kohleverstromung einstellen",description:"Die Verbrennung von Kohle zur Erzeugung von Strom wird verboten.",effects(e,t,i){const n=i-t,a=n<18?4.3/18:0,r=(10-n)/55,s=Math.max(50*r,0);return{electricityHardCoal:-e.electricityHardCoal,electricityBrownCoal:-e.electricityBrownCoal,stateDebt:2.5-a,unemployment:s}},priority:e=>e.values.electricityCoal/e.values.electricityDemand<=.1?0:R(1e4,0,e.values.unemployment)},Y={title:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt.",effects:(e,t,i)=>({stateDebt:-37,electricityHardCoal:V(e.electricityHardCoal,-.1*B.electricityHardCoal),electricityBrownCoal:V(e.electricityBrownCoal,-.05*B.electricityBrownCoal),electricityWind:5,electricitySolar:3,electricityWater:.5}),priority:e=>R(2050,2021,e.currentYear)};const X=G(B).electricityGas;const q=N({InitialAtomausstieg:{title:"Initial: Atomausstieg",description:"Atomausstieg finded wie beschlossen 2022 statt",labels:["hidden","initial","Kernenergie"],effects:(e,t,i)=>({electricityNuclear:({2021:60.45,2022:30.21}[i]||0)-e.electricityNuclear}),priority:e=>0},KohleverstromungEinstellen:Z,EnergiemixRegeltDerMarkt:Y,KernenergienutzungVerlaengern:{title:"Kernenergienutzung verlängern",description:"Kernkraftwerke länger nutzen, wieder in Betrieb nehmen und neu bauen.",removeLawsWithLabels:["Kernenergie"],effects:(e,t,i)=>({electricityNuclear:104.3-e.electricityNuclear,stateDebt:-2.5,popularity:x(e.popularity,-4)}),priority:e=>R(X,1.1*X,e.values.electricityGas)},AbstandsregelnFuerWindkraftVerschaerfen:{title:"Abstandsregeln für Windkraft verschärfen",description:"Der Mindestabstand zwischen Wind Energie Anlagen und Wohngebäuden im Innenbereich muss das Zehnfache der Gesamthöhe der Wind Energie Anlagen betragen (10H-Regel)",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>({popularity:t===i?x(e.popularity,5):0,electricityWindOnshoreMaxNew:.42-e.electricityWindOnshoreMaxNew}),priority(e){const t=e.values;return R(0,100,t.electricityWind/t.electricityDemand*100)}},AbstandsregelnFuerWindkraftWieBisher:{title:"Abstandsregeln für Windkraft wie bisher",description:"Das Land / Die Kommune bestimmem über Abstände zwischen den Windkraftanlagen und Wohngebäuden.",labels:["initial","hidden","WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>({electricityWindOnshoreMaxNew:6-e.electricityWindOnshoreMaxNew}),priority(e){const t=e.values;return R(30,100,t.electricityWind/t.electricityDemand*100)}},AbstandsregelnFuerWindkraftLockern:{title:"Abstandsregeln für Windkraft lockern",description:"Bundesweite gelockerte Abstandsregeln für Windkraftanlagen sowie Bauerlaubniss in Wäldern. Ja auch Bayern wird jetzt gezwungen Windkraftanlagen zuzulassen, sowie andere nicht bauwillige Kommunen.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>({popularity:t===i?x(e.popularity,-3):0,electricityWindOnshoreMaxNew:30-e.electricityWindOnshoreMaxNew}),priority(e){const t=e.values;return R(70,30,t.electricityWind/t.electricityDemand*100)}},AbstandsregelnFuerWindkraftAbschaffen:{title:"Abstandsregeln für Windkraft abschaffen",description:"Jeder der Land besitzt kann seine Windkraftanlage dahin bauen wo er will.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>({popularity:t===i?x(e.popularity,-40):0,electricityWindOnshoreMaxNew:1e3-e.electricityWindOnshoreMaxNew}),priority(e){const t=e.values;return R(80,40,t.electricityWind/t.electricityDemand*100)}},AusschreibungsverfahrenfuerWindkraftWieBisher:{title:"Ausschreibungsverfahren für Windkraft wie bisher",description:"Windkraft Betreiber können sich mehrmals im Jahr auf ein eine bestimte Leistung von Windkraft bewerben. Der Betreiber, der das Projekt mit der kleinstmöglichen Subventionierung umsetzen kann bekommt den Zuschlag. Insgesamt werden 8,1 TWh pro Jahr ausgeschrieben.",labels:["initial","hidden","WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>({electricityWind:Math.min(6.9,e.electricityWindOnshoreMaxNew)+1.2}),priority:e=>R(100,30,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)},AusschreibungsverfahrenfuerWindkraftVerdoppeln:{title:"Ausschreibungsverfahren für Windkraft verdoppeln",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 16,2TWh verdoppelt.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(13.8,e.electricityWindOnshoreMaxNew);return{popularity:t===i?x(e.popularity,-1):0,unemployment:t===i?-20:0,electricityWind:n+2.4}},priority(e){if(!Q(e,"AusschreibungsverfahrenfuerWindkraftWieBisher"))return 0;return R(100,50,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},AusschreibungsverfahrenfuerWindkraftVervierfachen:{title:"Ausschreibungsverfahren für Windkraft vervierfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 32,4TWh vervierfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(27.6,e.electricityWindOnshoreMaxNew);return{popularity:t===i?x(e.popularity,-2):0,unemployment:t===i?-100:0,electricityWind:n+4.8}},priority(e){if(!Q(e,"AusschreibungsverfahrenfuerWindkraftVerdoppeln"))return 0;return R(100,40,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},AusschreibungsverfahrenfuerWindkraftVerachtfachen:{title:"Ausschreibungsverfahren für Windkraft verachtfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 64,8TWh verachtfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(55.2,e.electricityWindOnshoreMaxNew);return{popularity:t===i?x(e.popularity,-20):0,unemployment:t===i?-100:0,electricityWind:n+9.6}},priority(e){if(!Q(e,"AusschreibungsverfahrenfuerWindkraftVervierfachen"))return 0;return R(100,0,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},DaemmungAltbau1Percent:{title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit vergünstigten Krediten gefördert.",effects(e,t,i){const n=i-t;return H(e)([J("stateDebt",.5),J("buildingsSourceBio",-1).onlyIf(n>=2),J("buildingsSourceOil",-1).onlyIf(n>=2),J("buildingsSourceTele",-1).onlyIf(n>=2),J("buildingsPrivateDemand",-1).onlyIf(n>=2)])},priority:e=>R(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},DaemmungAltbau2Percent:{title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit einem zinslosen Kredit und einem Zuschuss von 20% der Kosten gefördert.",effects(e,t,i){const n=i-t;return H(e)([J("stateDebt",1),J("buildingsSourceBio",-2).onlyIf(n>=2),J("buildingsSourceOil",-2).onlyIf(n>=2),J("buildingsSourceTele",-2).onlyIf(n>=2),J("buildingsPrivateDemand",-2).onlyIf(n>=2),J("popularity",5).onlyIf(n>=2)])},priority:e=>R(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},DaemmungAltbau4Percent:{title:"Dämmung von Wohngebäuden sehr stark fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit 50% der Kosten bezuschusst. Gleichzeitig werden Ausbildungsplätze im Handwerk geschaffen durch einen Zuschuss von 500€ pro Monat, damit der zu erwartende Bauboom bewältigt werden kann.",effects(e,t,i){const n=i-t;return H(e)([J("stateDebt",3),J("buildingsSourceBio",-4).onlyIf(n>=2),J("buildingsSourceOil",-4).onlyIf(n>=2),J("buildingsSourceTele",-4).onlyIf(n>=2),J("buildingsPrivateDemand",-4).onlyIf(n>=2),J("popularity",10).onlyIf(1===n),J("popularity",15).onlyIf(n>=2)])},priority:e=>R(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},DaemmungAltbauAbschaffen:{title:"Dämmung von Wohngebäuden abschaffen",description:"Wir geben den Bürgern die Freiheit zurück, selbst zu entscheiden, ob sie ihr Haus dämmen wollen und lassen die Förderung auslaufen",effects:(e,t,i)=>H(e)([J("stateDebt",-.5),J("buildingsSourceBio",-.5),J("buildingsSourceOil",-.5),J("buildingsSourceTele",-.5),J("buildingsPrivateDemand",-.5)]),priority(e){const t=function(e,t){const i=e.sort(((e,t)=>t.effectiveSince-e.effectiveSince)).find((e=>t.test(e.lawId)));return null==i?void 0:i.lawId}(e.acceptedLaws,/^DaemmungAltbau/);if(!t||"DaemmmungAltbauAbschaffen"===t)return 0;return R(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)}},NahverkehrKostenlos:{title:"Nahverkehr Kostenlos",description:"Die Kosten für den Nahverkehr werden bundesweit bezuschusst, so dass keine Tickets mehr benötigt werden.",effects(e,t,i){const n=(t===i?10:1)/100*e.publicLocalUsage,a=-F(e.carUsage,-n),r={stateDebt:10,publicLocalUsage:a,carUsage:-a};return t===i?o(l({},r),{unemployment:20,popularity:x(e.popularity,10)}):r},priority:e=>R(0,10,e.values.co2emissionsMobility/e.values.co2emissions*100)},AutosInInnenstaedtenVerbieten:{title:"Autos in Innenstädten verbieten",description:"Die Innenstädte der großen Städte werden zu Autofreien Zonen erklärt und begrünt, sowie Fahrrad und Fußgängerzonen eingerichtet.",effects(e,t,i){var n=x(e.popularity,-2);e.publicLocalCapacity>1.2*e.publicLocalUsage&&(n=x(e.popularity,-1),t+2<i&&(n=x(e.popularity,2)));const a=t===i?.1*e.publicLocalUsage:0,r=-F(e.carUsage,-a);return{popularity:n,carUsage:-r,publicLocalUsage:r}},priority:e=>R(90,120,e.values.publicLocalCapacity/e.values.publicLocalUsage*100)},WasserstofftechnologieFoerdern:{title:"Wasserstofftechnologie fördern",description:"Forschung und Entwicklung von wasserstoffbasierter Antriebs- und Produktionstechnologie wird stark gefördert.",effects(e,t,i){const n=t+5<=i?1:0;return{stateDebt:3,carRenewablePercentage:x(e.carRenewablePercentage,n)}},priority(e){const t=e.values;return R(40,90,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},NahverkehrAusbauen:{title:"Nahverkehr Ausbauen",description:"Der Ausbau des Nahverkehrs wird bundesweit stärker bezuschusst.",effects(e,t,i){const n=e.publicLocalCapacity/e.publicLocalUsage*100>=105?.01*e.publicLocalUsage:0,a=-F(e.carUsage,-n),r={stateDebt:3,publicLocalCapacity:.01*e.publicLocalCapacity,publicLocalUsage:a,carUsage:-a};return i-t>=5?o(l({},r),{popularity:x(e.popularity,2)}):l({},r)},priority:e=>R(20,35,e.values.co2emissionsMobility/e.values.co2emissions*100)},FernverkehrVerbindungenAusbauen:{title:"Fernverkehr Verbindungen ausbauen",description:"Der Ausbau des öffentlichen Fernverkehrs wird bundesweit stärker Bezuschusst und Vorangetrieben",effects(e,t,i){const n=e.publicNationalCapacity/e.publicNationalUsage*100>=105?.015*e.publicNationalUsage:0,a=-F(e.carUsage,-n);return{stateDebt:6,publicNationalCapacity:.01*e.publicNationalCapacity,publicNationalUsage:.667*a,carUsage:-a,publicLocalUsage:.333*a,popularity:x(e.popularity,2)}},priority:e=>R(150,80,e.values.publicNationalCapacity/e.values.publicNationalUsage*100)},AusbauVonStrassen:{title:"Ausbau von Straßen",description:"Autobahnen und Straßen werden intensiver ausgebaut.",effects(e,t,i){const n=F(e.publicLocalUsage,-.01*e.publicLocalUsage),a=F(e.publicNationalUsage,-.01*e.publicNationalUsage);return{stateDebt:5,popularity:x(e.popularity,.5),carUsage:-n-a,publicLocalUsage:n,publicNationalUsage:a}},priority(e){const t=e.values;return R(60,100,t.carUsage/t.passengerTransportUsage*100)}},AbschaffungDerMineraloelsteuer:{title:"Abschaffung der Mineralölsteuer",description:"Die Steuer auf sämtliche erdölbasierten Treibstoffe wird abgeschafft.",effects(e,t,i){const n={stateDebt:41,popularity:x(e.popularity,t===i?5:-3)},a=F(e.publicLocalUsage,-.2*e.publicLocalUsage),r=F(e.publicNationalUsage,-.2*e.publicNationalUsage);return i===t?o(l({},n),{carUsage:-a-r,publicLocalUsage:a,publicNationalUsage:r}):n},priority(e){const t=e.values;return R(60,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},DieselPrivilegAbgeschaffen:{title:"Diesel Privileg abgeschaffen",description:"Diesel wird jetzt genauso besteuert wie Benzin.",effects:(e,t,i)=>({stateDebt:-7.35,popularity:t===i?x(e.popularity,-1):0}),priority(e){const t=e.values;return R(10,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},DienstwagenPrivilegAbgeschaffen:{title:"Dienstwagen Privileg abgeschaffen",description:"Steuererleichterungen für Dienstwagen werden abgeschafft.",effects(e,t,i){const n=F(e.carUsage,-5e-4*e.carUsage);return{stateDebt:-18,popularity:t===i?x(e.popularity,-1):0,carUsage:n,publicLocalUsage:-n}},priority(e){const t=e.values;return R(50,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},Tempolimit130AufAutobahnen:{title:"Tempolimit 130 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 130 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e,t,i){const n=e.carEmissionFactor>157.9?2:0;return{popularity:x(e.popularity,n),carEmissionFactor:157.9-e.carEmissionFactor}},priority(e){if(!Q(e,"Tempolimit100AufAutobahnen"))return 0;const t=e.values;return R(10,60,t.carUsage/t.passengerTransportUsage*100)}},Tempolimit120AufAutobahnen:{title:"Tempolimit 120 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 120 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e,t,i){const n=e.carEmissionFactor>157.1?2:0;return{popularity:x(e.popularity,n),carEmissionFactor:157.1-e.carEmissionFactor}},priority(e){if(!Q(e,"Tempolimit130AufAutobahnen"))return 0;const t=e.values;return R(10,60,t.carUsage/t.passengerTransportUsage*100)}},Tempolimit100AufAutobahnen:{title:"Tempolimit 100 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 100 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e,t,i){const n=e.carEmissionFactor>154.1?-1:0;return{popularity:x(e.popularity,n),carEmissionFactor:154.1-e.carEmissionFactor}},priority(e){if(!Q(e,"Tempolimit120AufAutobahnen"))return 0;const t=e.values;return R(10,60,t.carUsage/t.passengerTransportUsage*100)}},TempolimitAufAutobahnenAussitzen:{title:"Generelles Tempolimit nicht umsetzen",description:"Die EU hat das generelle Tempolkmit zwar beschlossen, wir setzen es aber nicht um. Das könnte zwar Strafen oder gar Zwangsmaßnahmen bewirken, aber das Risiko der gefährdeten Wiederwahl ist zu groß.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects:(e,t,i)=>({stateDebt:-10,popularity:x(e.popularity,-2)}),priority(e){const t=e.values;return R(10,60,t.carUsage/t.passengerTransportUsage*100)}},FoerderungFuerTierhaltungAbschaffen:{title:"Förderung für Tierhaltung abschaffen",description:"Subventionen für Tierhaltung werden ersatzlos gestrichen",effects:(e,t,i)=>t===i?{co2emissionsAgriculture:j(e.co2emissionsAgriculture,-10),stateDebt:-10,popularity:x(e.popularity,-20)}:{stateDebt:-10},priority:e=>R(1e4,0,e.values.unemployment)}});function _(e,t=q){const i=t.filter((t=>{var i;return!(null==(i=e.acceptedLaws)?void 0:i.some((e=>e.lawId===t.id)))})).filter((t=>{var i;return!(null==(i=e.rejectedLaws)?void 0:i.includes(t.id))})).filter((e=>{var t;return!(null==(t=e.labels)?void 0:t.includes("hidden"))})).map((t=>({law:t,priority:t.priority?t.priority(e):1}))).filter((e=>e.priority>0)).sort(((e,t)=>t.priority-e.priority)).map((e=>e.law.id)).slice(0,6),n=[...e.proposedLaws];!function(e,t){const i=t.filter((t=>e.includes(t))),n=t.filter((e=>!i.includes(e)));var a=0;for(;a<e.length;)i.includes(e[a])?a++:0!==n.length?(e[a]=n.shift(),a++):e.splice(a,1);e.push(...n.slice(0,6-e.length))}(n,i),e.proposedLaws=n}function $(e){const t=q.find((t=>t.id===e));if(t)return t;throw Error(`Law #${e} not found`)}function ee(e){const t=$(e.lawId);if(t)return o(l({},t),{effectiveSince:e.effectiveSince});throw Error(`Law #${e.lawId} not found`)}function te(e,t){return Object.keys(t).forEach((i=>{e[i]+=t[i]||0})),e}function ie(e){return Math.max(0,Math.min(100,e))}function ne(e){if(0===e.values.co2emissions)return 100;return ie(50*(e.values.co2budget*G(B).co2emissions/B.co2budget/e.values.co2emissions))}function ae(e){return ie(100-50*(e.values.stateDebt/B.stateDebt))}function re(e,t,i=Math.random){let n;function a(){if(e.state.game){const n=t.map((t=>o(l({},t),{priority:t.probability(e)*i()}))).filter((e=>e.priority)).sort(((e,t)=>t.priority-e.priority));n.length&&e.dispatch("applyEvent",{event:n[0]})}}return{start(){this.pause(),n=setTimeout(a,6e4*i())},pause(){n&&clearTimeout(n),n=void 0},initiateEvent:a}}let se;function le(e,t){return se||(se=re(e,t))}function oe(e){return e.find((e=>e.title.match(/subvention/i)&&e.title.match(/abbau/i)))}const ce=N({SocialMedia:{title:"Social Media Alarm!",description:"Deine Wahlkampfberaterin ruft dich völlig aufgelöst an. Ob denn an den Geschichten was dran sein, die da im\n    Netz kursieren, dass du vor einigen Jahren bei einer Demo dabei warst, bei der die Gewalt eskaliert ist.\n    Die Zeitungen haben die Meldung schon aufgegriffen und es gibt Spekulationen, ob man dir das Misstrauen aussprechen wird.\n  ",apply(e){const t=e.state.game;t&&(t.values.popularity+=Math.max(-t.values.popularity,-20))},probability:()=>Math.random()},Bestechung:{title:"Anruf von befreundetem Unternehmer",description:"Klaus, ein Unternehmer, den du auf einer Dienstreise kennen gelernt hast, ruft an und möchte dich in seine\n    Ferienvilla auf Sardinien einladen. Er verlässt sich natürlich darauf, dass du dem Gesetzentwurf zum Abbau von Subventionen\n    nicht zustimmen wirst.\n  ",apply(e){const t=oe(e.getters.proposedLaws);t&&e.dispatch("rejectLaw",{lawId:t.id})},probability:e=>oe(e.getters.proposedLaws)?Math.random():0},WahlVerloren:{title:"Wahl verloren",description:"Deine Beliebtheit in der Bevölkerung ist katastrophal, lieber würde man Mao Zedong wählen als dich.\n    Deine Partei hat daher bei der Wahl gerade mal 1.3% erreicht (weil wohl manche nicht wussten, zu welcher Partei du gehörst) und ist damit unter\n    die 5% Marke gerutscht. An eine weitere Kanzlerschaft hat schon länger kein vernünftiger Mensch mehr geglaubt.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.popularity<=0?1:0},FinanzKollaps:{title:"Zusammenbruch des Finanzsystems",description:"Deine Staatsfinanzen sind desaströs. Kein Land der Welt, keine Institutionen oder Privatpersonen trauen dir zu, dass du deine Schulden\n    jemals wieder wirst zurückahlen können. Daher gibt dir auch niemand mehr Geld, mit dem du die Staatsangestellten oder die offenen Verpflichtungen zahlen\n    könntest. Das Spiel ist damit leider beendet.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.stateDebt>2*B.stateDebt?1:0},TimesUp:{title:"Du hast durchgehalten",description:"Es ist vielleicht nicht alles optimal nach deiner inzwischen sehr langen Amtszeit, aber du hast es geschafft,\n    bis hierhin durchzuhalten! Das ist wunderbar, denn noch immer ist der Planet bewohnbar, deine Maßnahmen waren zu finanzieren\n    und die Menschen hast du auf diesem Weg auch mitgenommen. Gratulation!\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&2050===e.state.game.currentYear?1:0},"Hitzehölle":{title:"Hitzehölle",description:"Die CO2-Werte sind soweit gestiegen, dass die Erde nur noch an wenigen Orten bewohnbar ist. Die ehemaligen Küstenregionen\n  stehen unter Wasser, ganze Landstriche sind verschwunden. In den trockeneren Gebieten ist die Temperatur so hoch, dass nichts mehr wächst.\n  Um die verbleibdenden Teile sind erbitterte Kämpfe ausgebrochen.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.co2budget<=0?1:0}});var ue=c({props:{value:{type:Number,required:!0},color:{type:String,required:!0},img:{type:String}},computed:{emptyCircles(){return 10-this.value},filledCircles(){return this.value},style(){return e=>"empty"===e?"border-color: "+this.color:this.$props.img?"background-image: url("+this.$props.img+")":"background: "+this.color}}});const de=f();v("data-v-67d546a5");const he={class:"Indicator"};y();const pe=de(((e,t,i,n,a,r)=>(p(),u("div",he,[(p(!0),u(h,null,b(e.emptyCircles,(t=>(p(),u("div",{class:"circle",style:e.style("empty")},null,4)))),256)),(p(!0),u(h,null,b(e.value,(t=>(p(),u("div",{class:"circle",style:e.style(1===t?"filled":"empty")},null,4)))),256))]))));ue.render=pe,ue.__scopeId="data-v-67d546a5";var me=c({setup(){const e=Bt();return{store:e,currentYear:w((()=>{var t;return null==(t=e.state.game)?void 0:t.currentYear}))}},data:()=>({orientation:"portrait"}),computed:{timespan:()=>29,years(){return this.currentYear-2021+1},size(){return(this.orientation.match(/landscape/)?"height":"width")+": "+this.years/this.timespan*100+"%"}},mounted(){window.addEventListener("orientationchange",this.setOrientation),this.setOrientation()},methods:{setOrientation(){screen.orientation?this.orientation=screen.orientation.type||screen.mozOrientation||screen.msOrientation:this.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}}});const ge=f()(((e,t,i,n,a,r)=>(p(),u("div",{class:"Indicator",style:e.size},null,4))));me.render=ge,me.__scopeId="data-v-55ce16e8";function be(e,t){return e?Math.round(t(e)/10):0}var fe=c({components:{TimeIndicator:me,Indicator:ue},setup:()=>({store:Bt(),co2:"data:image/png;base64,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",coin:"/assets/euro.4b74462e.svg",hands:"/assets/clapping-hands.2a0f82d4.png"}),computed:{game(){return this.store.state.game},co2value(){return be(this.game,ne)},financeValue(){return be(this.game,ae)},popularityValue(){return be(this.game,(e=>e.values.popularity))}}});const ve=f();v("data-v-c937a0d2");const ye={class:"CurrentIndicators"};y();const we=ve(((e,t,i,n,a,r)=>{const s=m("TimeIndicator"),l=m("Indicator");return p(),u("div",ye,[d(s),d(l,{value:e.co2value,color:"#EE8AC1",img:e.co2},null,8,["value","img"]),d(l,{value:e.financeValue,color:"#A9D18E",img:e.coin},null,8,["value","img"]),d(l,{value:e.popularityValue,color:"#8FAADC",img:e.hands},null,8,["value","img"])])}));fe.render=we,fe.__scopeId="data-v-c937a0d2";var Ae=c({props:{event:{type:Object,required:!0}},data:()=>({open:!1}),methods:{toggle(){const e=this.$refs.p;e.style.setProperty("--max-height",e.scrollHeight+"px"),this.open=!this.open}}});Ae.render=function(e,t,i,n,a,r){return p(),u("li",{class:{new:!e.event.acknowledged,open:e.open}},[d("title",{onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},A(e.event.title),1),d("p",{ref:"p"},A(e.event.description),513)],2)};var ke=c({components:{EventItem:Ae},setup(){const e=Bt();return{store:e,events:w((()=>{var t;return null==(t=e.state.game)?void 0:t.events}))}},data:()=>({visible:!1}),methods:{close(){var e;this.visible=!1,null==(e=this.events)||e.filter((e=>!e.acknowledged)).forEach((e=>e.acknowledged=!0))},show(){this.visible=!0}}});const Le=f();v("data-v-6e882f0b");const We={key:0},De=d("header",null," News Ticker ",-1),Se={key:0},Te={key:1};y();const Ie=Le(((e,t,i,n,a,r)=>{var s;const l=m("EventItem");return e.visible?(p(),u("div",We,[De,(null==(s=e.events)?void 0:s.length)?(p(),u("ul",Se,[(p(!0),u(h,null,b(e.events,(e=>(p(),u(l,{key:e.title,event:e},null,8,["event"])))),128))])):(p(),u("p",Te," Keine Nachrichten bisher ")),d("footer",null,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},"Ok")])])):(p(),u("button",{key:1,onClick:t[2]||(t[2]=(...t)=>e.show&&e.show(...t))}," News "))}));ke.render=Ie,ke.__scopeId="data-v-6e882f0b";const Ue=(e,t)=>({unit:e,writable:t}),Me={co2budget:Ue("MioTons",!0),co2emissionsIndustry:Ue("MioTons",!0),co2emissionsStreetVehicles:Ue("MioTons",!1),co2emissionsMobility:Ue("MioTons",!1),co2emissionsBuildings:Ue("MioTons",!1),co2emissionsAgriculture:Ue("MioTons",!0),co2emissionsOthers:Ue("MioTons",!0),co2emissionsEnergy:Ue("MioTons",!1),co2emissions:Ue("MioTons",!1),electricityDemand:Ue("TWh/a",!0),electricitySolar:Ue("TWh/a",!0),electricityWind:Ue("TWh/a",!0),electricityWindOnshoreMaxNew:Ue("TWh/a",!0),electricityWater:Ue("TWh/a",!0),electricityBiomass:Ue("TWh/a",!0),electricityNuclear:Ue("TWh/a",!0),electricityHardCoal:Ue("TWh/a",!0),electricityBrownCoal:Ue("TWh/a",!0),electricityCoal:Ue("TWh/a",!1),electricityGas:Ue("TWh/a",!1),carEmissionFactor:Ue("GramPerPsgrKm",!0),carUsage:Ue("MioPsgrKm",!0),carRenewablePercentage:Ue("Percent",!0),publicLocalUsage:Ue("MioPsgrKm",!0),publicLocalCapacity:Ue("MioPsgrKm",!0),publicNationalUsage:Ue("MioPsgrKm",!0),publicNationalCapacity:Ue("MioPsgrKm",!0),airDomesticUsage:Ue("MioPsgrKm",!0),airIntlUsage:Ue("MioPsgrKm",!0),passengerTransportUsage:Ue("MioPsgrKm",!1),buildingsIndustryDemand:Ue("TWh/a",!0),buildingsPrivateDemand:Ue("TWh/a",!0),buildingsDemand:Ue("TWh/a",!1),buildingsSourceBio:Ue("TWh/a",!0),buildingsSourceOil:Ue("TWh/a",!0),buildingsSourceTele:Ue("TWh/a",!0),buildingsSourceGas:Ue("TWh/a",!1),stateDebt:Ue("MrdEuro",!0),popularity:Ue("Percent",!0),numberOfCitizens:Ue("TsdPeople",!0),unemployment:Ue("TsdPeople",!0),gdp:Ue("MrdEuro",!0)};var Ce=c({setup(){const e=Bt();return{store:e,allLaws:e.state.allLaws,game:w((()=>e.state.game))}},data:()=>({lawsSortCol:"state",lawsSortDir:1,lawSelected:void 0}),methods:{sortLaws(e){e===this.lawsSortCol&&(this.lawsSortDir=this.lawsSortDir>0?-1:1),this.lawsSortCol=e},selectLaw(e){this.lawSelected=e}},computed:{startYearOfSelected(){if(!this.lawSelected||!this.game)return 2021;const e=this.game.acceptedLaws.find((e=>e.lawId===this.lawSelected));return e?e.effectiveSince:2021},effectsOfSelected(){if(!this.lawSelected||!this.game)return{};this.game;const e=this.allLaws.find((e=>e.id===this.lawSelected));return e?e.effects(this.game.values,this.startYearOfSelected,this.game.currentYear):{}},sortedValues(){return this.game?function(e,t){const i=G(e);function n(t){return e[t].toFixed(2)}function a(e){return(e>0?"+":"")+e.toFixed(2)}function r(n){const r=t[n],s=i[n]-e[n];return r&&Math.abs(r-s)<.001?a(r):r?a(r)+" / "+a(s):0!=s?a(s):""}return te(i,t),Object.keys(Me).map((e=>({id:e,unit:Me[e].unit,value:n(e),effect:r(e),class:Me[e].writable?"writable":"calculated"})))}(this.game.values,this.effectsOfSelected):[]},sortedLaws(){return this.game?function(e,t,i,n){const a=e.proposedLaws,r=e.acceptedLaws.map((e=>e.lawId)),s=e.rejectedLaws;return n.map((t=>{return{id:t.id,priority:t.priority(e),state:(i=t.id,r.includes(i)?"a":a.includes(i)?"p":s.includes(i)?"r":"x")};var i})).sort(((e,n)=>function(e,t){return e<t?-1:e>t?1:0}(e[t],n[t])*i)).map((e=>o(l({},e),{priority:e.priority.toFixed(2)})))}(this.game,this.lawsSortCol,this.lawsSortDir,this.allLaws):[]}}});const ze=f();v("data-v-5c9625f4");const Oe={class:"peekData"},Be=d("summary",null,"Peek",-1),Ee={class:"numbercol"},Ge={class:"effcol"},Pe={class:"priocol"};y();const Ne=ze(((e,t,i,n,a,r)=>(p(),u("details",Oe,[Be,d("table",null,[(p(!0),u(h,null,b(e.sortedValues,(e=>(p(),u("tr",{key:e.id,class:e.class},[d("td",null,A(e.id),1),d("td",null,A(e.unit),1),d("td",Ee,A(e.value),1),d("td",Ge,A(e.effect),1)],2)))),128))]),d("table",null,[d("tr",null,[d("th",{onClick:t[1]||(t[1]=t=>e.sortLaws("state"))},"S"),d("th",{onClick:t[2]||(t[2]=t=>e.sortLaws("id"))},"ID"),d("th",{onClick:t[3]||(t[3]=t=>e.sortLaws("priority")),class:"priocol"},"Priority")]),(p(!0),u(h,null,b(e.sortedLaws,(i=>(p(),u("tr",{key:i.id,class:i.state,onMouseenter:t=>e.selectLaw(i.id),onMouseleave:t[4]||(t[4]=t=>e.selectLaw(void 0))},[d("td",null,A(i.state),1),d("td",null,A(i.id),1),d("td",Pe,A(i.priority),1)],42,["onMouseenter"])))),128))])]))));Ce.render=Ne,Ce.__scopeId="data-v-5c9625f4";var Ke=c({components:{CurrentIndicators:fe,EventList:ke,PeekInside:Ce},data:()=>({devMode:"true"===localStorage.getItem("devMode")})});const xe={class:"game-setup"},je={class:"wrapper"},Ve=d("h1",null,"#ich-kann-klima",-1),Fe={class:"indicators"},Re={class:"peek"};Ke.render=function(e,t,i,n,a,r){const s=m("EventList"),l=m("CurrentIndicators"),o=m("PeekInside");return p(),u(h,null,[d("div",xe,[d("div",je,[Ve,d(s),k(e.$slots,"default")]),d("div",Fe,[d(l)])]),d("div",Re,[e.devMode?(p(),u(o,{key:0})):L("",!0)])],64)};var Qe=c({setup(){const e=Bt();return{store:e,allLaws:w((()=>e.state.allLaws)),acceptedLaws:w((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({opened:void 0}),computed:{visibleAccepted(){return this.allLaws.filter((e=>{var t,i;return(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!(null==(i=e.labels)?void 0:i.includes("hidden"))}))}},methods:{toggleOpen(e){this.opened=this.opened===e?void 0:e}}});const He=f()(((e,t,i,n,a,r)=>(p(!0),u(h,null,b(e.visibleAccepted,((t,i)=>(p(),u("div",{key:i,class:["Law",{opened:i===e.opened}],onClick:t=>e.toggleOpen(i)},[d("h3",null,A(t.title),1),d("div",null,A(t.description),1)],10,["onClick"])))),128))));Qe.render=He,Qe.__scopeId="data-v-5f028f12";var Je=c({setup:()=>({store:Bt()}),data:()=>({acceptedIds:[],rejectedIds:[]}),computed:o(l({},W(["proposedLaws"])),{removing(){return e=>this.acceptedIds.includes(e)||this.rejectedIds.includes(e)}}),methods:{accept(e){this.acceptedIds.push(e)},decline(e){this.rejectedIds.push(e)},handle(e){this.removeAndDispatch(e,this.acceptedIds,"acceptLaw"),this.removeAndDispatch(e,this.rejectedIds,"rejectLaw")},removeAndDispatch(e,t,i){const n=t.indexOf(e);n<0||(t.splice(n,1),this.store.dispatch(i,{lawId:e}))}}});const Ze=f();v("data-v-3a7d538b");const Ye={class:"ProposedLaws"},Xe={class:"button-bar"};y();const qe=Ze(((e,t,i,n,a,r)=>(p(),u("div",Ye,[(p(!0),u(h,null,b(e.proposedLaws,(t=>(p(),u("div",{key:t.id,class:["Law",{removing:e.removing(t.id)}],onAnimationend:i=>e.handle(t.id)},[d("input",{type:"radio",name:"selectedLaw",id:t.id},null,8,["id"]),d("label",{for:t.id},[d("div",null,[d("h3",null,A(t.title),1),d("div",null,A(t.description),1),d("div",Xe,[d("button",{class:"accept",onClick:i=>e.accept(t.id)},"✓",8,["onClick"]),d("button",{class:"decline",onClick:i=>e.decline(t.id)},"✗",8,["onClick"])])])],8,["for"])],42,["onAnimationend"])))),128))]))));Je.render=qe,Je.__scopeId="data-v-3a7d538b";var _e=c({components:{GameSetup:Ke,LawProposals:Je,AcceptedLaws:Qe},setup(){const e=Bt();return{store:e,allLaws:w((()=>e.state.allLaws)),acceptedLaws:w((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},methods:{startGame(e){e?this.store.dispatch("loadGame",{gameId:e}):this.store.dispatch("startGame",void 0)},advanceYear(){this.store.dispatch("advanceYear",void 0)}},beforeRouteEnter(e,t,i){i((t=>t.startGame(e.params.id)))}});const $e=f();v("data-v-8dacf1b8");const et=d("h2",null,"Beschlossene Gesetze",-1),tt=d("p",null,"Wenn Du fertig bist, wechsle zum nächsten Jahr und sieh' Dir die Auswirkungen an.",-1),it={class:"button-bar"};y();const nt=$e(((e,t,i,n,a,r)=>{const s=m("LawProposals"),l=m("AcceptedLaws"),o=m("GameSetup");return p(),u(o,null,{default:$e((()=>[d(s),et,d(l),tt,d("div",it,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.advanceYear&&e.advanceYear(...t))},"Jahr abschließen")])])),_:1})}));_e.render=nt,_e.__scopeId="data-v-8dacf1b8";var at=c({components:{GameSetup:Ke},methods:{newGame(){this.$router.push("/games")}}});const rt=d("h2",null,"Deine erste Entscheidung steht bevor...",-1),st=d("p",null,[S("Wähle weise, denn "),d("u",null,"alles hat Einfluss"),S(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt.")],-1),lt=d("p",null,[S(" Durch manche Entscheidungen entstehen neue Möglichkeiten."),d("br"),S(" Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),ot=d("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),ct={class:"button-bar"};at.render=function(e,t,i,n,a,r){const s=m("GameSetup");return p(),u(s,null,{default:D((()=>[rt,st,lt,ot,d("div",ct,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var ut=c({methods:{start(){this.$router.push("/start")}}});const dt={class:"wrapper"},ht=d("h2",null,"Stell dir vor...",-1),pt=d("h3",null,"... du bist Politiker.",-1),mt=d("p",null," Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl! ",-1),gt=d("p",null," Du hast vier Jahre Zeit um... ",-1),bt=d("ul",null,[d("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),d("li",null,"der Klimakatastrophe entgegenzusteuern"),d("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),ft={class:"button-bar"};ut.render=function(e,t,i,n,a,r){return p(),u("div",dt,[ht,pt,mt,gt,bt,d("div",ft,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])};var vt=c({components:{GameSetup:Ke},setup:()=>({store:Bt()}),computed:{co2(){var e,t;const i=null==(e=this.store.state.game)?void 0:e.values.co2budget;return(null==(t=this.store.state.game)?void 0:t.values.co2emissions)>0?i>0?"sind weiterhin vorhanden, aber zumindest ist das Budget noch nicht aufgebraucht, dein:e Nachfolger:in hat vielleicht noch eine Chance.":"sind explodiert, das Budget ist aufgebraucht. Hätte die AfD nicht besser hinbekommen.":i>0?"hast du im Griff! Es verbleibt sogar noch ein Rest-CO2-Budget, Gratulation!":"hast du gerade noch rechtzeitig ausreichend senken können. Punktlandung."},debt(){var e;return(null==(e=this.store.state.game)?void 0:e.values.stateDebt)<1e3?"sind ausgeglichen. Die Stabilitätskriterien werden eingehalten.":"sind dir leider aus dem Ruder gelaufen."},popularity(){var e;const t=null==(e=this.store.state.game)?void 0:e.values.popularity;return t<20?"entspricht dem, was man von einem langhährigen Diktator erwarten kann.":t<50?"ist nicht berauschend, wiedergewählt würdest du wohl eher nicht.":t<80?"reicht aus, dass du noch länger am Ruder bleiben könntest. Gratulation!":"ist völlig unglaubwürdig - war das wirklich eine freie Wahl?"}},methods:{loadGame(e){this.store.dispatch("loadGame",{gameId:e})},newGame(){this.$router.push("/games")}},beforeRouteEnter(e,t,i){i((t=>{t.loadGame(e.params.id)}))}});const yt={class:"wrapper"},wt=d("h2",null,"Das Spiel ist leider zu Ende",-1),At=d("p",null,"Deine Entscheidungen haben etwas verändert - soviel kann man sagen.",-1),kt=d("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),Lt={class:"button-bar"};vt.render=function(e,t,i,n,a,r){const s=m("GameSetup");return p(),u(s,null,{default:D((()=>[d("div",yt,[wt,At,d("ul",null,[d("li",null,"Die CO2-Emmissionen "+A(e.co2),1),d("li",null,"Die Staatsfinanzen "+A(e.debt),1),d("li",null,"Deine Beliebtheit "+A(e.popularity),1)]),kt,d("div",Lt,[d("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Neuer Versuch")])])])),_:1})};const Wt=[{path:"/",component:ut},{path:"/start",component:at},{path:"/games",component:_e},{path:"/games/:id",component:_e},{path:"/games/:id/over",component:vt}],Dt=T({history:I(),routes:Wt});const St=function(e,t){let i,n=[];async function a(){if(i&&(clearTimeout(i),i=void 0),n.length){const{method:s,path:l,data:o,retry:c,resolve:u,reject:d}=n[0];try{if((null==t?void 0:t.navigator)&&!(null==t?void 0:t.navigator.onLine))throw Error("Browser is offline");const i=await e(s,l,o);n.shift(),u(i)}catch(r){c?n[0].retry=Math.max(-1,c-1):(n.shift(),d(r))}n.length&&(i=setTimeout(a,(null==t?void 0:t.timeout)||1e4))}}return{add:(e,t,r,s=-1)=>new Promise(((l,o)=>{n.push({method:e,path:t,data:r,retry:s,resolve:l,reject:o}),i||a()})),remove(e,t){n=n.filter((i=>i.method.toLowerCase()!==e.toLowerCase()||i.path!==t))},callsPending:()=>n.length>0}}(function(e,t,i=console){return async function(n,a,r){var s;try{const i={method:n};["post","put","patch"].includes(n)&&(i.body=JSON.stringify(r),i.headers={"content-type":"application/json"});const l=await t(e+a,i),o=(null==(s=l.headers.get("Content-Type"))?void 0:s.match(/json/))?await l.json():await l.text();if(l.ok)return o;throw Error(o.message||o)}catch(l){throw i.error(l),l}}}("https://api.ich-kann-klima.de/api",fetch));var Tt;const It=function({api:e,logger:t=console,storage:i=localStorage}){return{async createGame(n,a=E){const r=P(a);r.acceptedLaws=n.filter((e=>{var t;return null==(t=e.labels)?void 0:t.includes("initial")})).map((e=>({lawId:e.id,effectiveSince:r.currentYear}))),_(r,n),i.setItem("game",JSON.stringify(r));try{e.createGame(r)}catch(s){t.warn("Cannot save new game - trying again later",s)}return r},async loadGame(t){const n=i.getItem("game");if(n){const e=JSON.parse(n);if(e.id===t)return P(e,t)}return P(await e.loadGame(t),t)},async saveGame(n){i.setItem("game",JSON.stringify(n));try{e.saveGame(n)}catch(a){t.warn("save on server failed - at least the game is saved in localStorage, so you can save it maybe next time",a)}},async decisionMade(t,i,n){e.decisionMade(t.id,i.id,n)},async eventOccurred(t,i){e.eventOccurred(t.id,i.id)}}}({api:(Tt=St,{createGame:e=>Tt.add("post","/games",e),loadGame:e=>Tt.add("get","/games/"+e,void 0,0),saveGame:e=>(Tt.remove("put","/games/"+e.id),Tt.add("put","/games/"+e.id,e)),decisionMade:(e,t,i)=>Tt.add("post","/games/"+e+"/decisions/"+t,{accepted:i}),eventOccurred:(e,t)=>Tt.add("post","/games/"+e+"/events/"+t)})}),Ut={async startGame(e){const t=await It.createGame(e.state.allLaws);le(Et,ce).start(),Dt.push("/games/"+t.id)},async loadGame(e,t){try{const i=await It.loadGame(t.gameId);await It.saveGame(i),Dt.push("/games/"+i.id),e.commit("setGameState",{game:i})}catch(i){e.dispatch("error",{error:i})}},gameOver(e){var t;e.commit("gameOver",void 0),Dt.push("/games/"+(null==(t=e.state.game)?void 0:t.id)+"/over")},async acceptLaw(e,t){const i=l({},e.state.game),n={lawId:t.lawId,effectiveSince:i.currentYear+1},a=ee(n),r=a.removeLawsWithLabels,s=i.acceptedLaws.map(ee).filter((e=>!(null==r?void 0:r.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)}))))).map((e=>({lawId:e.id,effectiveSince:e.effectiveSince})));i.acceptedLaws=[...s,n],_(i),await It.saveGame(i),e.commit("setGameState",{game:i}),await It.decisionMade(i,a,!0)},async rejectLaw(e,t){const i=l({},e.state.game);i.rejectedLaws=[...i.rejectedLaws,t.lawId],_(i),await It.decisionMade(i,$(t.lawId),!1),e.commit("setGameState",{game:i})},async advanceYear(e){const t=l({},e.state.game),i=t.acceptedLaws.map(ee);t.currentYear++,t.values=function(e,t,i){const n=G(e);return t.sort(((e,t)=>{var i,n;return(null==(i=e.treatAfterLabels)?void 0:i.some((e=>{var i;return null==(i=t.labels)?void 0:i.includes(e)})))?1:(null==(n=t.treatAfterLabels)?void 0:n.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)})))?-1:0})).forEach((e=>{const t=e.effects(n,e.effectiveSince,i);te(n,t)})),n.co2budget-=n.co2emissions,n}(t.values,i,t.currentYear),_(t),await It.saveGame(t),e.commit("setGameState",{game:t}),le(Et,ce).start()},async applyEvent(e,t){t.event.apply(e);const i=l({},e.state.game);i.events.unshift(t.event),await It.eventOccurred(i,t.event),e.commit("setGameState",{game:i})},async error(e,t){e.commit("error",t)}},Mt={setGameState(e,t){e.game=t.game},gameOver(e){e.game=o(l({},e.game),{over:!0})},error(e,t){console.error(t.error),alert(t.error.message)}},Ct={proposedLaws:e=>e.game&&e.game.proposedLaws?e.game.proposedLaws.map((t=>{const i=e.allLaws.find((e=>e.id===t));return i||console.error(`Inconsistency: Proposed law #${t} not found`),i})).filter((e=>e)):[]},zt={allLaws:q,game:void 0,visibleEvent:null},Ot=Symbol();function Bt(){return M(Ot)}const Et=U({state:zt,mutations:Mt,actions:Ut,getters:Ct}),Gt=C(z);Gt.use(Et,Ot),Gt.use(Dt),Gt.mount("#app");
