var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(e,t)=>{for(var i in t||(t={}))a.call(t,i)&&s(e,i,t[i]);if(n)for(var i of n(t))r.call(t,i)&&s(e,i,t[i]);return e},o=(e,n)=>t(e,i(n));import{s as c,v as u,d,m as h,p as m,a as p,c as g,b,e as v,t as f,w,o as y,F as k,r as S,f as D,g as W,h as A,i as T,j as L,k as V,u as z,l as P,n as C,q as M}from"./vendor.076459c8.js";const O=new Intl.DateTimeFormat("de-DE");class U{constructor(e){this.url=new URL(e.url),this.title=e.title,this.publisher=e.publisher,this.authors=e.authors,this.date=e.date?new Date(e.date):void 0,this.comment=e.comment,this.internalComment=e.internalComment,this.localCopy=e.localCopy,this.referringUrl=e.referringUrl?new URL(e.referringUrl):void 0,this.archiveUrl=e.archiveUrl?new URL(e.archiveUrl):void 0,this.archiveNotPossible=e.archiveNotPossible}dateString(){const e=this.date;return e?" ("+O.format(e)+")":""}toString(){return[this.authors?this.authors+this.dateString():void 0,this.title?'"'+this.title+'"':void 0,this.url,this.publisher].filter((e=>e)).join(", ")}}function E(e){const t=e.publisher||e.authors;return`[[${null!=t?t+": ":""}${e.title||e.url.toString()}](${e.url.toString()})]`}const B=new U({url:"https://www.umweltrat.de/SharedDocs/Downloads/DE/01_Umweltgutachten/2016_2020/2020_Umweltgutachten_Kap_02_Pariser_Klimaziele.pdf?__blob=publicationFile&v=22",title:"Umweltgutachten 2020 Kapitel 2 Pariser Klimaziele",publisher:"Umweltrat"}),_=new U({url:"https://energy-charts.info/charts/energy/chart.htm?l=en&c=DE&interval=year&year=2020",title:"Energy-Charts: Annual electricity generation in Germany in 2020",publisher:"Fraunhofer ISE",archiveNotPossible:!0,localCopy:"Bar Charts Electricity Generation Energy-Charts.pdf"}),I=new U({url:"https://www.welt.de/wirtschaft/article173181909/Mineraloelsteuer-Einnahmen-auf-hoechstem-Stand-seit-14-Jahren.html",title:"Bund kassiert so viel Mineralölsteuer wie seit Jahren nicht",publisher:"welt.de",authors:"Birger Nicolai",date:"2018-02-04",archiveUrl:"https://web.archive.org/web/20201113072050/https://www.welt.de/wirtschaft/article173181909/Mineraloelsteuer-Einnahmen-auf-hoechstem-Stand-seit-14-Jahren.html"}),G=new U({url:"https://www.umweltbundesamt.de/sites/default/files/medien/361/dokumente/2021_03_10_trendtabellen_thg_nach_sektoren_v1.0.xlsx",referringUrl:"https://www.umweltbundesamt.de/daten/klima/treibhausgas-emissionen-in-deutschland#nationale-und-europaische-klimaziele",title:"Vorjahreschätzung der deutschen Treibhausgas-Emissionen für das Jahr 2020",publisher:"Umweltbundesamt",date:"2021-03-15",archiveUrl:"https://web.archive.org/web/20210712115357/https://www.umweltbundesamt.de/sites/default/files/medien/361/dokumente/2021_03_10_trendtabellen_thg_nach_sektoren_v1.0.xlsx",comment:'Soweit nicht anders angegeben, werden die Werte aus Blatt "THG" Spalte 2019 verwendet'}),x=new U({url:"https://cdr.eionet.europa.eu/de/eu/mmr/art07_inventory/ghg_inventory/envx7gqa/DEU_2021_2019_14012021_224203_started.xlsx/manage_document",referringUrl:"https://www.umweltbundesamt.de/daten/klima/treibhausgas-emissionen-in-deutschland?listpart=1#nationale-und-europaische-klimaziele",title:"Detaillierte Berichtstabellen CRF 2021 der deutschen Treibhausgas-Emissionen für das Jahr 2019",publisher:"Umweltbundesamt",date:"2021-01-15",archiveUrl:"https://web.archive.org/web/20210830100630/https://cdr.eionet.europa.eu/de/eu/mmr/art07_inventory/ghg_inventory/envx7gqa/DEU_2021_2019_14012021_224203_started.xlsx",comment:""}),K=new U({url:"https://www.vdv.de/vdv-statistik-2019.pdfx",title:"2019 Statistik",publisher:"VDV",date:"2020-10-01",archiveUrl:"https://web.archive.org/web/20210714151304/https://www.vdv.de/vdv-statistik-2019.pdfx",comment:"Seite 11 enthält CO2e-Emissions-Werte pro Personenkilometer [g/Pkm] für mehrere Verkehrsmittel"}),N=new U({url:"https://www.umweltbundesamt.de/daten/verkehr/emissionen-des-verkehrs#strassenguterverkehr",title:"Emissionen des Verkehrs - Straßengüterverkehr",publisher:"Umweltbundesamt",archiveUrl:"https://web.archive.org/web/20210712110744if_/https://www.umweltbundesamt.de/daten/verkehr/emissionen-des-verkehrs#strassenguterverkehr"}),H=new U({url:"https://www.bmvi.de/SharedDocs/DE/Publikationen/G/verkehr-in-zahlen-2020-pdf.pdf?__blob=publicationFile",title:"Verkehr in Zahlen 2020/2021",publisher:"BMVI",date:"2021-04-13",archiveUrl:"https://web.archive.org/web/20210520124742/https://www.bmvi.de/SharedDocs/DE/Publikationen/G/verkehr-in-zahlen-2020-pdf.pdf?__blob=publicationFile",comment:"Seite 219 enthält Personenkilometer-Jahreswerte für mehrere Verkehrsmittel. Soweit nicht anders angegeben, werden die Werte aus Spalte 2019 verwendet"}),F=new U({url:"https://www.polarstern-energie.de/magazin/artikel/heizen-co2-vergleich-von-brennstoffen/#c7085",title:"Heizung: Wie viel CO2 dein Brennstoff verursacht",publisher:"Polarstern Magazin",date:"2021-07-26",archiveUrl:"https://web.archive.org/web/20210803113328/https://www.polarstern-energie.de/magazin/artikel/heizen-co2-vergleich-von-brennstoffen/#c7085",comment:"",internalComment:""}),j=new U({url:"https://www.klimaneutral-handeln.de/php/kompens-berechnen.php#rechner",title:"CO2-Rechner",authors:"Horst Emse",date:"2021-08-03",archiveUrl:"https://web.archive.org/web/20210803121340/https://www.klimaneutral-handeln.de/php/kompens-berechnen.php",comment:"Quelle für 160g CO2 pro kWh Fernwärme.",internalComment:"TODO #91: Direkte Quelle finden. Siehe auch [uba2008Fernwaerme]"});new U({url:"https://www.umweltbundesamt.de/sites/default/files/medien/publikation/long/3476.pdf",title:"Bestimmung spezifischer Treibhausgas-Emissionsfaktoren für Fernwärme",authors:"Uwe R. Fritsche, Lothar Rausch",publisher:"Umweltbundesamt",date:"2008-05-01",archiveUrl:"https://web.archive.org/web/20210717204537/https://www.umweltbundesamt.de/sites/default/files/medien/publikation/long/3476.pdf",comment:"",internalComment:"Angebliche Quelle für 160g CO2 pro kWh Fernwärme. TODO #91: Zahl nicht gefunden. Quelle recht alt."});const $=new U({url:"https://www.rensmart.com/Calculators/KWH-to-CO2",title:"CO2(eq) emissions due to electricity generation (by source)",publisher:"RenSMART",date:"2021-01-01",archiveNotPossible:!0,localCopy:"Rensmart-KWH-to-CO2.pdf",comment:"",internalComment:"Refers to [ukgov2018kWhtoCO2]."}),R=new U({url:"https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/715425/Conversion_Factors_2018_-_Condensed_set__for_most_users__v01-01.xls",referringUrl:"https://www.gov.uk/government/publications/greenhouse-gas-reporting-conversion-factors-2018",title:"CO2(eq) emissions due to electricity generation (by source)",publisher:"UK Departments for Business, Energy & Industrial Strategy and for Envirnoment, Food & Rural Affairs",date:"2018-06-08",archiveUrl:"https://web.archive.org/web/20210521093351/https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/715425/Conversion_Factors_2018_-_Condensed_set__for_most_users__v01-01.xls",comment:"",internalComment:""}),Z=new U({url:"https://de.motor1.com/news/401639/autos-in-deutschland-zahlen-und-fakten/",title:"Autos in Deutschland: Zahlen und Fakten",authors:"Roland Hildebrandt",publisher:"motor1.com",date:"2020-03-02",archiveUrl:"https://web.archive.org/web/20210307063954/https://de.motor1.com/news/401639/autos-in-deutschland-zahlen-und-fakten/",comment:"",internalComment:"TODO #91: KBA als direkte Quelle wäre besser."}),J=new U({url:"https://www.destatis.de/DE/Themen/Gesellschaft-Umwelt/Bevoelkerung/Bevoelkerungsstand/Tabellen/zensus-geschlecht-staatsangehoerigkeit-2020.html",title:"Bevölkerung nach Nationalität und Geschlecht 2020",publisher:"Statistisches Bundesamt",date:"2021-07-21",archiveUrl:"https://web.archive.org/web/20210803151453/https://www.destatis.de/DE/Themen/Gesellschaft-Umwelt/Bevoelkerung/Bevoelkerungsstand/Tabellen/zensus-geschlecht-staatsangehoerigkeit-2020.html",comment:"",internalComment:""}),Q=new U({url:"https://www.arbeitsagentur.de/news/arbeitsmarkt-vorjahre",title:"Entwicklung des Arbeitsmarkts 2020 in Deutschland",publisher:"Bundesagentur für Arbeit",date:"2021-01-05",archiveUrl:"https://web.archive.org/web/20210803152007/https://www.arbeitsagentur.de/news/arbeitsmarkt-vorjahre",comment:"",internalComment:""}),Y=new U({url:"https://www.statistikportal.de/de/bruttoinlandsprodukt-vgr",title:"Bruttoinlandsprodukt (VGR)",publisher:"Statistische Ämter des Bundes und der Länder",date:"2021-03-30",archiveUrl:"https://web.archive.org/web/20210713024739/https://www.statistikportal.de/de/bruttoinlandsprodukt-vgr",comment:"",internalComment:""});new U({url:"https://de.wikipedia.org/wiki/Staatsverschuldung_Deutschlands",title:"Staatsverschuldung Deutschlands",publisher:"Wikipedia",date:"2021-06-30",archiveUrl:"https://web.archive.org/web/20210630204805/https://de.wikipedia.org/wiki/Staatsverschuldung_Deutschlands",comment:"",internalComment:""});class q{constructor(e){this.unit=e.unit,this.citations=e.citations?e.citations:[],this.details=e.details?e.details:"",this.internals=e.internals?e.internals:""}citationsDesc(){return this.citations.map((e=>e.toString())).join("; ")}}const X={MioTons:e=>e<0?0:e,TWh:e=>e<0?0:e,MrdEuro:e=>e,TsdPeople:e=>e<0?0:e,Percent:e=>e>100?100:e<0?0:e,GramPerPsgrKm:e=>e<0?0:e,MioPsgrKm:e=>e<0?0:e};class ee extends q{constructor(e){super(e),this.writable=!0,this.initialValue=e.initialValue,this.applyBounds=X[e.unit]}}class te extends q{constructor(e){super(e),this.writable=!1,this.valueGetter=e.valueGetter,this.shouldInitiallyBe=e.shouldInitiallyBe}}const ie=new c.exports.Converter;function ne(e){return e>0?[...Array(e)].map(((e,t)=>t)):[]}function ae(e,t){const i=e-t-1;return[...ne(t),Math.max(t,i),...ne(i).reverse()]}function re(e,...t){let i=e.map(((e,i)=>e+(t[i]||""))).join("").split("\n");0===i[0].length&&i.shift();const n=i[0].match(/^(\s+)/);return n&&!i.filter((e=>e.trim())).some((e=>!e.startsWith(n[1])))&&(i=i.map((e=>e.replace(n[1],"")))),ie.makeHtml(i.join("\n"))}const se=new ee({unit:"MioTons",initialValue:6700,citations:[B],details:re`

  `,internals:re`

  `}),le=new ee({unit:"MioTons",initialValue:186.793,citations:[G],details:re`

  `,internals:re`

  `}),oe=new te({unit:"MioTons",valueGetter:e=>e.carUsage*(1-e.carRenewablePercentage/100)*e.carEmissionFactor/1e6+14.4,shouldInitiallyBe:159.696,citations:[G,N],details:re`

  `,internals:re`
    ${E(G)}: 159.696 as MioTons

    ${E(N)}: 47.4 MioTons CO2e pro Jahr durch LKW in 2019.

    TODO: #72 Hier wird 14.4 MioTons verwendet, um die korrekten Gesamtemissionen zu erhalten.
  `}),ce=new te({unit:"MioTons",valueGetter:e=>e.co2emissionsStreetVehicles+65*e.publicLocalCapacity/1e6+32*e.publicNationalCapacity/1e6+222*e.airDomesticUsage/1e6+1.641,citations:[K,G],details:re`

  `,internals:re`
    ${E(K)}:
    - 65 g/Pkm für Nahverkehr (publicLocal),
    - 32 g/Pkm für Fernverkehr (publicNational),
    - 230 g/Pkm für Inlands-Flugverkehr (airDomestic).

    Rückwärtsrechnung aus ${E(G)} ergibt
    222 g/Pkm für Inlands-Flugverkehr (airDomestic). Wird derzeit benutzt.

    ${E(G)}:
    1.641 MioTons CO2e Emissionen durch Küsten- und Inlandsshifffahrt.

    Einheitenumrechnung:
    - 1 MioPsgrKm * 1 GramPerPsgrKm = 1 MioGram = 1 Ton.
    - Zieleinheit: MioTons. Also durch 1 000 000 teilen.
  `}),ue=new te({unit:"MioTons",valueGetter:e=>0*e.buildingsSourceBio+.247*e.buildingsSourceGas+.318*e.buildingsSourceOil+.16*e.buildingsSourceTele,citations:[G,F],details:re`

  `,internals:re`
    TODO: #91 Gibt es hier bessere Quellen?

    ${E(F)}: 247g CO2 pro kWh Erdgas.

    ${E(F)}: 318g CO2 pro kWh Erdöl.

    ${E(j)}: 160g CO2 pro kWh Fernwärme.

    ${E(G)}: Gesamtemissionenen addieren sich auf 123.461 MioTons pro Jahr.

    TODO: #72 Tatsächliche Summe ist derzeit 168.6 MioTons. Sollte laut Quelle oben 123.461 MioTons sein.
  `}),de={co2budget:se,co2emissionsIndustry:le,co2emissionsStreetVehicles:oe,co2emissionsMobility:ce,co2emissionsAgriculture:new ee({unit:"MioTons",initialValue:67.936,citations:[G],details:re`

  `,internals:re`

  `}),co2emissionsBuildings:ue,co2emissionsOthers:new ee({unit:"MioTons",initialValue:9.243,citations:[G],details:re`

  `,internals:re`

  `}),co2emissionsEnergy:new te({unit:"MioTons",valueGetter:e=>.399*e.electricityGas+.058*e.electricitySolar+.005*e.electricityWind+.02*e.electricityWater+.835*e.electricityHardCoal+1.137*e.electricityBrownCoal+.03*e.electricityBiomass+.005*e.electricityNuclear,citations:[$,G],details:re`

  `,internals:re`
    ${E($)}:
    - 0.5     kg CO2e / kWh durch Gaskraftwerke, (verwendet: 0.399)
    - 0.058   kg CO2e / kWh durch Photovoltaikanlagen,
    - 0.00464 kg CO2e / kWh durch onshore Windräder, (verwendet: 0.005)
    - 0.00525 kg CO2e / kWh durch offshore Windräder, (verwendet: 0.005)
    - 0.02    kg CO2e / kWh durch Pumpspeicherkraftwerke, (nicht verwendet)
    - 0.005   kg CO2e / kWh durch Wasserkraftwerke, (verwendet: 0.02)
    - 0.9     kg CO2e / kWh durch Kohlekraftwerke, (verwendet: 0.835 für Stein-, bzw. 1.137 für Braunkohle)
    - 0.005   kg CO2e / kWh durch Kernkraftwerke,

    TODO: #78 Diverse Punkte:
    - Diskrepanzen zur Quelle klären.
    - Diskrepanz zu ${E(R)} klären, z.B. Gas.
    - Quellen für Stein-.und Braunkohle.
    - Korrekter Wert und Quelle für Biomasse. (Aktuelle Annahme: Zwischen Wind- und Solarstrom.)

    ${E(G)}: 258.043 as MioTons in 2019.

    TODO: #72 Tatsächliche Summe ist derzeit 152.7 MioTons. Sollte laut Quelle oben 258.043 MioTons sein.
  `}),co2emissions:new te({unit:"MioTons",valueGetter:e=>e.co2emissionsEnergy+e.co2emissionsIndustry+e.co2emissionsMobility+e.co2emissionsBuildings+e.co2emissionsAgriculture+e.co2emissionsOthers,details:re`

  `,internals:re`Hier sind ein paar Referenzen gelistet, die interessant sind, und noch nicht verarbeitet wurden.`,citations:[x]}),electricityDemand:new ee({unit:"TWh",initialValue:480.54,citations:[_],details:re`

  `,internals:re`

  `}),electricitySolar:new ee({unit:"TWh",initialValue:51.42,citations:[_],details:re`

  `,internals:re`

  `}),electricityWind:new ee({unit:"TWh",initialValue:131.85,citations:[_],details:re`

  `,internals:re`

  `}),electricityWindOnshoreMaxNew:new ee({unit:"TWh",initialValue:6,citations:[_],details:re`

  `,internals:re`

  `}),electricityWater:new ee({unit:"TWh",initialValue:14.99,citations:[_],details:re`

  `,internals:re`

  `}),electricityBiomass:new ee({unit:"TWh",initialValue:43.19,citations:[_],details:re`

  `,internals:re`

  `}),electricityNuclear:new ee({unit:"TWh",initialValue:60.91,citations:[_],details:re`

  `,internals:re`

  `}),electricityHardCoal:new ee({unit:"TWh",initialValue:35.46,citations:[_],details:re`

  `,internals:re`

  `}),electricityBrownCoal:new ee({unit:"TWh",initialValue:82.13,citations:[_],details:re`

  `,internals:re`

  `}),electricityCoal:new te({unit:"TWh",valueGetter:e=>e.electricityHardCoal+e.electricityBrownCoal,details:re`

  `,internals:re`

  `}),electricityGas:new te({unit:"TWh",valueGetter:e=>e.electricityDemand-e.electricitySolar-e.electricityWind-e.electricityWater-e.electricityHardCoal-e.electricityBrownCoal-e.electricityBiomass-e.electricityNuclear,details:re`

  `,internals:re`
    Mit Gaskraftwerken wird derzeit der benötigte Strom produziert,
    der nicht über andere Wege erzeugt wird.
  `}),carEmissionFactor:new ee({unit:"GramPerPsgrKm",initialValue:160,citations:[K],details:re`

  `,internals:re`
    ${E(K)} Seite 11 ergibt ca. 160 g/Pkm.
  `}),carUsage:new ee({unit:"MioPsgrKm",initialValue:917e3,citations:[H],details:re`

  `,internals:re`

  `}),carRenewablePercentage:new ee({unit:"Percent",initialValue:.5,citations:[Z],details:re`

  `,internals:re`
    Die verschiedenen Zahlen in ${E(Z)}
    liefern einen Anteil Elektro-/Hybrid-Fahrzeugen von unter 1%.
    Welcher Anteil davon als erneuerbar angesehen werden kann ist unklar.

    TODO: #78 Bessere Quelle und besseren Wert. KBA könnte besser Zahlen haben.
  `}),publicLocalUsage:new ee({unit:"MioPsgrKm",initialValue:112600,citations:[H],details:re`

  `,internals:re`

  `}),publicLocalCapacity:new ee({unit:"MioPsgrKm",initialValue:112600,citations:[H],details:re`

  `,internals:re`
    Kapazität wird nicht als die Anzahl der Sitzplätze o.ä. definiert,
    sondern es wird definiert, dass die aktuelle Auslastungslage 100% entspricht.
    Also ist die anfängliche Kapazität gleich der Nutzung.

    Auf diese Weise ist es leichter, die Qualität, das Gedränge
    zu beurteilen:

    - \`publicLocalUsage > publicLocalCapacity \` bedeutet, es ist enger als jetzt.
    - \`publicLocalUsage < publicLocalCapacity \` bedeutet, es ist mehr Platz.
  `}),publicNationalUsage:new ee({unit:"MioPsgrKm",initialValue:67300,citations:[H],details:re`

  `,internals:re`
    # Berechnung aus der Quelle

    public - local - air = 251700 - 71800 - 112600 = 67300 MioPsgrKm
  `}),publicNationalCapacity:new ee({unit:"MioPsgrKm",initialValue:67300,citations:[H],details:re`

  `,internals:re`
Siehe \`publicLocalCapacity\`.
  `}),airDomesticUsage:new ee({unit:"MioPsgrKm",initialValue:10100,citations:[H],details:re`

  `,internals:re`

  `}),airIntlUsage:new ee({unit:"MioPsgrKm",initialValue:61700,citations:[H],details:re`

  `,internals:re`

  `}),passengerTransportUsage:new te({unit:"MioPsgrKm",valueGetter:e=>e.carUsage+e.publicLocalUsage+e.publicNationalUsage+e.airDomesticUsage+e.airIntlUsage,shouldInitiallyBe:1168700,citations:[H],details:re`

  `,internals:re`

  `}),buildingsIndustryDemand:new ee({unit:"TWh",initialValue:226,citations:[],details:re`

  `,internals:re`
TODO: #78 Quelle für Anfangswert 226 TWh.
  `}),buildingsPrivateDemand:new ee({unit:"TWh",initialValue:544,citations:[],details:re`

  `,internals:re`
TODO: #78 Quelle für Anfangswert 544 TWh.
  `}),buildingsDemand:new te({unit:"TWh",valueGetter:e=>e.buildingsPrivateDemand+e.buildingsIndustryDemand,details:re`

  `,internals:re`

  `}),buildingsSourceBio:new ee({unit:"TWh",initialValue:130,citations:[],details:re`

  `,internals:re`
TODO: #78 Quelle für Anfangswert 130 TWh.
  `}),buildingsSourceOil:new ee({unit:"TWh",initialValue:219,citations:[],details:re`

  `,internals:re`
TODO: #78 Quelle für Anfangswert 219 TWh.
  `}),buildingsSourceTele:new ee({unit:"TWh",initialValue:58,citations:[],details:re`

  `,internals:re`
TODO: #78 Quelle für Anfangswert 58 TWh.
  `}),buildingsSourceGas:new te({unit:"TWh",valueGetter:e=>e.buildingsDemand-(e.buildingsSourceBio+e.buildingsSourceOil+e.buildingsSourceTele),details:re`

  `,internals:re`
TODO: #78 Anfangswert mit Quelle.
  `}),popularity:new ee({unit:"Percent",initialValue:50,citations:[],details:re`
Prozentsatz der Bevölkerung, der Dich als Kanzler akzeptiert.
  `,internals:re`

  `}),numberOfCitizens:new ee({unit:"TsdPeople",initialValue:83155.031,citations:[J],details:re`

  `,internals:re`
Anfangswert ist der Stand 31.12.2020.
  `}),unemployment:new ee({unit:"TsdPeople",initialValue:2695,citations:[Q],details:re`

  `,internals:re`
Anfangswert ist der Jahresdurchschnitt der Arbeitslosenzahlen in 2020.
  `}),gdp:new ee({unit:"MrdEuro",initialValue:3332,citations:[Y],details:re`

  `,internals:re`
Anfangswert ist das BIP 2020.
  `}),stateDebt:new ee({unit:"MrdEuro",initialValue:1899,citations:[],details:re`

  `,internals:re`
Anfangswert ist die deutsche Staatsverschuldung 2019.
  `})},he=Object.entries(de).filter((e=>e[1]instanceof ee)).map((e=>e)).reduce(((e,t)=>(e[t[0]]=t[1],e)),{}),me=Object.entries(de).filter((e=>e[1]instanceof te)).map((e=>e)).reduce(((e,t)=>(e[t[0]]=t[1],e)),{});class pe extends ee{constructor(e,t){super(e),this.name=t}}const ge=Object.entries(he).map((e=>new pe(e[1],e[0])));class be extends te{constructor(e,t){super(e),this.name=t}}Object.entries(me).map((e=>new be(e[1],e[0])));const ve=Object.entries(de).map((e=>e[1]instanceof ee?new pe(e[1],e[0]):new be(e[1],e[0]))),fe=ge.reduce(((e,t)=>o(l({},e),{[t.name]:t.initialValue})),{});function we(e){const t=l({},e);return Object.entries(me).forEach((e=>Object.defineProperty(t,e[0],{get:()=>e[1].valueGetter(t)}))),t}function ye(e){return{name:e,value:0,percent:0,absolute:void 0,condition:!0,byPercent(e){return this.percent=e,this},byValue(e){return this.value=e,this},setValue(e){return this.absolute=e,this},if(e){return this.condition=e,this},getOldNew(e){const t=this.name,i=e[t];if(!this.condition)return{oldVal:i,newVal:i};const n=de[t],a=null!=this.absolute?this.absolute:i+(this.value||i*this.percent/100);return{oldVal:i,newVal:n.applyBounds(a)}},getChange(e){if(!this.condition)return 0;const{oldVal:t,newVal:i}=this.getOldNew(e);return i-t},getNewVal(e){return this.condition?this.getOldNew(e).newVal:e[this.name]}}}function ke(e,t){return t.filter((e=>e.condition)).forEach((t=>{e[t.name]=t.getNewVal(e)})),e}const Se={currentYear:2021,values:fe,acceptedLaws:[],proposedLaws:[],rejectedLaws:[]};function De(e=Se,t=u()){return{id:t,currentYear:e.currentYear,acceptedLaws:e.acceptedLaws,proposedLaws:e.proposedLaws,rejectedLaws:e.rejectedLaws,values:we(e.values),events:[],over:!1}}function We(e){return Object.entries(e).map((([e,t])=>o(l({},t),{id:e.replace(/\W/g,"_")})))}function Ae(e){return We(e)}var Te={title:"Alles bleibt wie es ist",description:"Die vorhandenen Gesetze haben sich lange bewährt. Wir lassen sie so, wie sie sind.",effects:()=>[],priority:e=>Math.random()};function Le(e,t,i){const n=i-e,a=t-e;if(0===a)throw new Error("Linear interpolation requested with the same value for zero and hundred: "+e);return n/a*100}function Ve(e,t){if(!Qe.map((e=>e.id)).includes(t))throw new Error("Unknown law ID "+t+" used in a law.");return e.acceptedLaws.some((i=>i.lawId===t&&i.effectiveSince<=e.currentYear))}var ze={title:"Kohleverstromung einstellen",description:"Die Verbrennung von Kohle zur Erzeugung von Strom wird verboten.",effects(e,t,i){const n=i-t,a=n<18?4.3/18:0,r=(10-n)/55,s=Math.max(50*r,0);return[ye("electricityHardCoal").setValue(0),ye("electricityBrownCoal").setValue(0),ye("stateDebt").byValue(2.5-a),ye("unemployment").byValue(s)]},priority:e=>e.values.electricityCoal/e.values.electricityDemand<=.1?0:Le(1e4,0,e.values.unemployment)},Pe={title:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt.",effects:e=>[ye("stateDebt").byValue(-37),ye("electricityHardCoal").byPercent(-10),ye("electricityBrownCoal").byPercent(-5),ye("electricityWind").byValue(5),ye("electricitySolar").byValue(3),ye("electricityWater").byValue(.5)],priority:e=>Le(2050,2021,e.currentYear)};const Ce=we(fe).electricityGas;var Me={title:"Kernenergienutzung verlängern",description:"Kernkraftwerke länger nutzen, wieder in Betrieb nehmen und neu bauen.",removeLawsWithLabels:["Kernenergie"],effects:e=>[ye("electricityNuclear").setValue(104.3),ye("stateDebt").byValue(-2.5),ye("popularity").byValue(-4)],priority:e=>Le(Ce,1.1*Ce,e.values.electricityGas)},Oe={title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit vergünstigten Krediten gefördert.",effects(e,t,i){const n=i-t>2;return[ye("stateDebt").byValue(.5),ye("buildingsSourceBio").byPercent(-1).if(n),ye("buildingsSourceOil").byPercent(-1).if(n),ye("buildingsSourceTele").byPercent(-1).if(n),ye("buildingsPrivateDemand").byPercent(-1).if(n)]},priority:e=>Le(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},Ue={title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit einem zinslosen Kredit und einem Zuschuss von 20% der Kosten gefördert.",effects(e,t,i){const n=i-t>2;return[ye("stateDebt").byValue(1),ye("buildingsSourceBio").byPercent(-2).if(n),ye("buildingsSourceOil").byPercent(-2).if(n),ye("buildingsSourceTele").byPercent(-2).if(n),ye("buildingsPrivateDemand").byPercent(-2).if(n),ye("popularity").byValue(5).if(n)]},priority:e=>Le(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},Ee={title:"Dämmung von Wohngebäuden sehr stark fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit 50% der Kosten bezuschusst. Gleichzeitig werden Ausbildungsplätze im Handwerk geschaffen durch einen Zuschuss von 500€ pro Monat, damit der zu erwartende Bauboom bewältigt werden kann.",effects(e,t,i){const n=i-t,a=n>=2;return[ye("stateDebt").byValue(3),ye("buildingsSourceBio").byPercent(-4).if(a),ye("buildingsSourceOil").byPercent(-4).if(a),ye("buildingsSourceTele").byPercent(-4).if(a),ye("buildingsPrivateDemand").byPercent(-4).if(a),ye("popularity").byValue(10).if(1===n),ye("popularity").byValue(5).if(a)]},priority:e=>Le(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)},Be={title:"Dämmung von Wohngebäuden abschaffen",description:"Wir geben den Bürgern die Freiheit zurück, selbst zu entscheiden, ob sie ihr Haus dämmen wollen und lassen die Förderung auslaufen",effects:()=>[ye("stateDebt").byValue(-.5),ye("buildingsSourceBio").byPercent(-.5),ye("buildingsSourceOil").byPercent(-.5),ye("buildingsSourceTele").byPercent(-.5),ye("buildingsPrivateDemand").byPercent(-.5)],priority(e){const t=function(e,t){const i=e.sort(((e,t)=>t.effectiveSince-e.effectiveSince)).find((e=>t.test(e.lawId)));return null==i?void 0:i.lawId}(e.acceptedLaws,/^DaemmungAltbau/);if(!t||"DaemmmungAltbauAbschaffen"===t)return 0;return Le(15,25,e.values.co2emissionsBuildings/e.values.co2emissions*100)}},_e={title:"Förderung für Tierhaltung abschaffen",description:"Subventionen für Tierhaltung werden ersatzlos gestrichen",effects:(e,t,i)=>[ye("stateDebt").byValue(-10),ye("co2emissionsAgriculture").byValue(-10).if(t===i),ye("popularity").byValue(-20).if(t===i)],priority:e=>Le(1e4,0,e.values.unemployment)},Ie={title:"Tempolimit 130 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 130 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=ye("carEmissionFactor").byValue(157.9),i=t.getChange(e);return[ye("popularity").byValue(2).if(i<0),t]},priority(e){if(!Ve(e,"Tempolimit100AufAutobahnen"))return 0;const t=e.values;return Le(10,60,t.carUsage/t.passengerTransportUsage*100)}},Ge={title:"Tempolimit 120 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 120 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=ye("carEmissionFactor").byValue(157.1),i=t.getChange(e);return[ye("popularity").byValue(2).if(i<0),t]},priority(e){if(!Ve(e,"Tempolimit130AufAutobahnen"))return 0;const t=e.values;return Le(10,60,t.carUsage/t.passengerTransportUsage*100)}},xe={title:"Tempolimit 100 auf Autobahnen",description:"Auf den Autobahnen gilt ab sofort ein allgemeines Tempolimit von 100 km/h.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects(e){const t=ye("carEmissionFactor").byValue(154.1),i=t.getChange(e);return[ye("popularity").byValue(-1).if(i<0),t]},priority(e){if(!Ve(e,"Tempolimit120AufAutobahnen"))return 0;const t=e.values;return Le(10,60,t.carUsage/t.passengerTransportUsage*100)}},Ke={title:"Generelles Tempolimit nicht umsetzen",description:"Die EU hat das generelle Tempolkmit zwar beschlossen, wir setzen es aber nicht um. Das könnte zwar Strafen oder gar Zwangsmaßnahmen bewirken, aber das Risiko der gefährdeten Wiederwahl ist zu groß.",labels:["TempolimitAutobahn"],removeLawsWithLabels:["TempolimitAutobahn"],effects:()=>[ye("stateDebt").byValue(-10),ye("popularity").byValue(-2)],priority(e){const t=e.values;return Le(10,60,t.carUsage/t.passengerTransportUsage*100)}},Ne={title:"Abstandsregeln für Windkraft wie bisher",description:"Das Land / Die Kommune bestimmem über Abstände zwischen den Windkraftanlagen und Wohngebäuden.",labels:["initial","hidden","WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:e=>[ye("electricityWindOnshoreMaxNew").setValue(6)],priority(e){const t=e.values;return Le(30,100,t.electricityWind/t.electricityDemand*100)}},He={title:"Abstandsregeln für Windkraft lockern",description:"Bundesweite gelockerte Abstandsregeln für Windkraftanlagen sowie Bauerlaubniss in Wäldern. Ja auch Bayern wird jetzt gezwungen Windkraftanlagen zuzulassen, sowie andere nicht bauwillige Kommunen.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[ye("popularity").byValue(-3).if(t===i),ye("electricityWindOnshoreMaxNew").setValue(30)],priority(e){const t=e.values;return Le(70,30,t.electricityWind/t.electricityDemand*100)}},Fe={title:"Abstandsregeln für Windkraft abschaffen",description:"Jeder der Land besitzt kann seine Windkraftanlage dahin bauen wo er will.",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[ye("popularity").byValue(-40).if(t===i),ye("electricityWindOnshoreMaxNew").setValue(1e3)],priority(e){const t=e.values;return Le(80,40,t.electricityWind/t.electricityDemand*100)}},je={title:"Abstandsregeln für Windkraft verschärfen",description:"Der Mindestabstand zwischen Wind Energie Anlagen und Wohngebäuden im Innenbereich muss das Zehnfache der Gesamthöhe der Wind Energie Anlagen betragen (10H-Regel)",labels:["WindkraftAbstandsregel"],removeLawsWithLabels:["WindkraftAbstandsregel"],effects:(e,t,i)=>[ye("popularity").byValue(5).if(t===i),ye("electricityWindOnshoreMaxNew").setValue(.42)],priority(e){const t=e.values;return Le(0,100,t.electricityWind/t.electricityDemand*100)}},$e={title:"Ausschreibungsverfahren für Windkraft wie bisher",description:"Windkraft Betreiber können sich mehrmals im Jahr auf ein eine bestimte Leistung von Windkraft bewerben. Der Betreiber, der das Projekt mit der kleinstmöglichen Subventionierung umsetzen kann bekommt den Zuschlag. Insgesamt werden 8,1 TWh pro Jahr ausgeschrieben.",labels:["initial","hidden","WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e){const t=Math.min(6.9,e.electricityWindOnshoreMaxNew);return[ye("electricityWind").byValue(t+1.2)]},priority:e=>Le(100,30,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)},Re={title:"Ausschreibungsverfahren für Windkraft verdoppeln",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 16,2TWh verdoppelt.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(13.8,e.electricityWindOnshoreMaxNew);return[ye("popularity").byValue(-1).if(t===i),ye("unemployment").byValue(-20).if(t===i),ye("electricityWind").byValue(n+2.4)]},priority(e){if(!Ve(e,"AusschreibungsverfahrenfuerWindkraftWieBisher"))return 0;return Le(100,50,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},Ze={title:"Ausschreibungsverfahren für Windkraft vervierfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 32,4TWh vervierfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(27.6,e.electricityWindOnshoreMaxNew);return[ye("popularity").byValue(-2).if(t===i),ye("unemployment").byValue(-100).if(t===i),ye("electricityWind").byValue(n+4.8)]},priority(e){if(!Ve(e,"AusschreibungsverfahrenfuerWindkraftVerdoppeln"))return 0;return Le(100,40,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}},Je={title:"Ausschreibungsverfahren für Windkraft verachtfachen",description:"Der jährlich ausgeschriebene Windstrom-Zubau wird auf 64,8TWh verachtfacht.",labels:["WindkraftSubvention"],removeLawsWithLabels:["WindkraftSubvention"],treatAfterLabels:["WindkraftAbstandsregel"],effects(e,t,i){const n=Math.min(55.2,e.electricityWindOnshoreMaxNew);return[ye("popularity").byValue(-20).if(t===i),ye("unemployment").byValue(-100).if(t===i),ye("electricityWind").byValue(n+9.6)]},priority(e){if(!Ve(e,"AusschreibungsverfahrenfuerWindkraftVervierfachen"))return 0;return Le(100,0,(e.values.electricityWind+e.values.electricitySolar+e.values.electricityWater+e.values.electricityBiomass)/e.values.electricityDemand*100)}};const Qe=Ae({AllesBleibtBeimAlten:Te,InitialAtomausstieg:{title:"Initial: Atomausstieg",description:"Atomausstieg finded wie beschlossen 2022 statt",labels:["hidden","initial","Kernenergie"],effects(e,t,i){const n={2021:60.45,2022:30.21}[i]||0;return[ye("electricityNuclear").setValue(n)]},priority:e=>0},KohleverstromungEinstellen:ze,EnergiemixRegeltDerMarkt:Pe,KernenergienutzungVerlaengern:Me,AbstandsregelnFuerWindkraftVerschaerfen:je,AbstandsregelnFuerWindkraftWieBisher:Ne,AbstandsregelnFuerWindkraftLockern:He,AbstandsregelnFuerWindkraftAbschaffen:Fe,AusschreibungsverfahrenfuerWindkraftWieBisher:$e,AusschreibungsverfahrenfuerWindkraftVerdoppeln:Re,AusschreibungsverfahrenfuerWindkraftVervierfachen:Ze,AusschreibungsverfahrenfuerWindkraftVerachtfachen:Je,DaemmungAltbau1Percent:Oe,DaemmungAltbau2Percent:Ue,DaemmungAltbau4Percent:Ee,DaemmungAltbauAbschaffen:Be,NahverkehrKostenlos:{title:"Nahverkehr Kostenlos",description:"Die Kosten für den Nahverkehr werden bundesweit bezuschusst, so dass keine Tickets mehr benötigt werden.",effects(e,t,i){const n=t===i?10:1,a=ye("carUsage").byValue(-n/100*e.publicLocalUsage),r=a.getChange(e);return[ye("stateDebt").byValue(10),ye("publicLocalUsage").byValue(-r),a,ye("popularity").byValue(10).if(t===i),ye("unemployment").byValue(20).if(t===i)]},priority:e=>Le(0,10,e.values.co2emissionsMobility/e.values.co2emissions*100)},AutosInInnenstaedtenVerbieten:{title:"Autos in Innenstädten verbieten",description:"Die Innenstädte der großen Städte werden zu Autofreien Zonen erklärt und begrünt, sowie Fahrrad und Fußgängerzonen eingerichtet.",effects(e,t,i){var n=-2;e.publicLocalCapacity>1.2*e.publicLocalUsage&&(n=-1,t+2<i&&(n=2));const a=ye("carUsage").byValue(-.1*e.publicLocalUsage).if(t===i),r=a.getChange(e);return[ye("popularity").byValue(n),a,ye("publicLocalUsage").byValue(-r)]},priority:e=>Le(90,120,e.values.publicLocalCapacity/e.values.publicLocalUsage*100)},WasserstofftechnologieFoerdern:{title:"Wasserstofftechnologie fördern",description:"Forschung und Entwicklung von wasserstoffbasierter Antriebs- und Produktionstechnologie wird stark gefördert.",effects:(e,t,i)=>[ye("stateDebt").byValue(3),ye("carRenewablePercentage").byValue(1).if(t+5<=i)],priority(e){const t=e.values;return Le(40,90,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},NahverkehrAusbauen:{title:"Nahverkehr Ausbauen",description:"Der Ausbau des Nahverkehrs wird bundesweit stärker bezuschusst.",effects(e,t,i){const n=e.publicLocalCapacity/e.publicLocalUsage*100,a=ye("carUsage").byValue(-.01*e.publicLocalUsage).if(n>=105),r=a.getChange(e),s=i-t;return[ye("stateDebt").byValue(3),ye("publicLocalCapacity").byPercent(1),ye("publicLocalUsage").byValue(-r),a,ye("popularity").byValue(2).if(s>=5)]},priority:e=>Le(20,35,e.values.co2emissionsMobility/e.values.co2emissions*100)},FernverkehrVerbindungenAusbauen:{title:"Fernverkehr Verbindungen ausbauen",description:"Der Ausbau des öffentlichen Fernverkehrs wird bundesweit stärker Bezuschusst und Vorangetrieben",effects(e){const t=e.publicNationalCapacity/e.publicNationalUsage*100,i=ye("carUsage").byValue(.015*e.publicNationalUsage).if(t>=105),n=i.getChange(e);return[ye("stateDebt").byValue(6),ye("publicNationalCapacity").byPercent(1),i,ye("publicNationalUsage").byValue(.667*-n),ye("publicLocalUsage").byValue(.333*-n),ye("popularity").byValue(2)]},priority:e=>Le(150,80,e.values.publicNationalCapacity/e.values.publicNationalUsage*100)},AusbauVonStrassen:{title:"Ausbau von Straßen",description:"Autobahnen und Straßen werden intensiver ausgebaut.",effects(e){const t=ye("publicLocalUsage").byPercent(-1),i=ye("publicNationalUsage").byPercent(-1),n=t.getChange(e),a=i.getChange(e);return[ye("stateDebt").byValue(5),ye("popularity").byValue(.5),ye("carUsage").byValue(-n-a),t,i]},priority(e){const t=e.values;return Le(60,100,t.carUsage/t.passengerTransportUsage*100)}},AbschaffungDerMineraloelsteuer:{title:"Abschaffung der Mineralölsteuer",description:"Die Steuer auf sämtliche erdölbasierten Treibstoffe wird abgeschafft.",effects(e,t,i){const n=ye("publicLocalUsage").byPercent(-20).if(t===i),a=ye("publicNationalUsage").byPercent(-20).if(t===i),r=n.getChange(e),s=a.getChange(e);return[ye("stateDebt").byValue(41),ye("popularity").byValue(5).if(t===i),ye("popularity").byValue(-3).if(t<i),ye("carUsage").byValue(-r-s).if(t===i),n,a]},priority(e){const t=e.values;return Le(60,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)},citations:[I],details:"",internals:re`
    # Folgen

    Staatsschulden steigen um 41 Mrd € pro Jahr ${E(I)}
    Im ersten Jahr steigen 20% der Nutzer von öffentlichen Verkehrsmitteln aufs Auto um.
    Popularität steigt im ersten Jahr um 5% und sinkt danach um 3% pro Jahr.

    # Vorbedingungen

    - Priorität über 0%.

    # Priorität

    - 0% bei einem Anteil von nichterneuerbaren PKW von 60%.
    - 100% bei einem Anteil von nichterneuerbaren PKW von 100%. (Zu Beginn: 78%)
    - linear interpoliert
  `},DieselPrivilegAbgeschaffen:{title:"Diesel Privileg abgeschaffen",description:"Diesel wird jetzt genauso besteuert wie Benzin.",effects:(e,t,i)=>[ye("stateDebt").byValue(-7.35),ye("popularity").byValue(-1).if(t===i)],priority(e){const t=e.values;return Le(10,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},DienstwagenPrivilegAbgeschaffen:{title:"Dienstwagen Privileg abgeschaffen",description:"Steuererleichterungen für Dienstwagen werden abgeschafft.",effects(e,t,i){const n=ye("carUsage").byPercent(-.05),a=n.getChange(e);return[ye("stateDebt").byValue(-18),ye("popularity").byValue(-1).if(t===i),n,ye("publicLocalUsage").byValue(-a)]},priority(e){const t=e.values;return Le(50,100,t.carUsage*(1-t.carRenewablePercentage/100)/t.passengerTransportUsage*100)}},Tempolimit130AufAutobahnen:Ie,Tempolimit120AufAutobahnen:Ge,Tempolimit100AufAutobahnen:xe,TempolimitAufAutobahnenAussitzen:Ke,FoerderungFuerTierhaltungAbschaffen:_e});function Ye(e,t=Qe){const i=t.filter((t=>{var i;return!(null==(i=e.acceptedLaws)?void 0:i.some((e=>e.lawId===t.id)))})).filter((t=>{var i;return!(null==(i=e.rejectedLaws)?void 0:i.includes(t.id))})).filter((e=>{var t;return!(null==(t=e.labels)?void 0:t.includes("hidden"))})).map((t=>({law:t,priority:t.priority?t.priority(e):1}))).filter((e=>e.priority>0)).sort(((e,t)=>t.priority-e.priority)).map((e=>e.law.id)).slice(0,6),n=[...e.proposedLaws];!function(e,t){const i=t.filter((t=>e.includes(t))),n=t.filter((e=>!i.includes(e)));var a=0;for(;a<e.length;)i.includes(e[a])?a++:0!==n.length?(e[a]=n.shift(),a++):e.splice(a,1);e.push(...n.slice(0,6-e.length))}(n,i),e.proposedLaws=n}function qe(e){const t=Qe.find((t=>t.id===e));if(t)return t;throw Error(`Law #${e} not found`)}function Xe(e){const t=qe(e.lawId);if(t)return o(l({},t),{effectiveSince:e.effectiveSince});throw Error(`Law #${e.lawId} not found`)}function et(e){return Math.max(0,Math.min(100,e))}function tt(e,t,i=Math.random){let n;function a(t){const n=t.probability(e);return n>=i()?n:0}function r(){return t.map((e=>o(l({},e),{priority:a(e)}))).filter((e=>e.priority)).sort(((e,t)=>t.priority-e.priority))}function s(){if(e.state.game){const t=r();t.length&&e.dispatch("applyEvent",{event:t[0]})}}return{start(){this.pause(),n=setTimeout(s,1e4*i()+5e3)},pause(){n&&clearTimeout(n),n=void 0},initiateEvent:s,getPriorizedEvents:r}}let it;function nt(e,t){return it||(it=tt(e,t))}function at(e){return e.find((e=>e.title.match(/subvention/i)&&e.title.match(/abbau/i)))}const rt=We({AbstandsregelnWindkraft:{title:"Abstandsregeln für Windkraft erneut im Fokus",description:"Anwohner wollen, dass der Abstand zu Windkraftanlagen erhöht wird. Das führte zu einer Auseinandersetzung des Wirtschaftsministers mit der Umweltministerin.",laws:Ae({AbstandsregelnFuerWindkraftVerschaerfen:je,AbstandsregelnFuerWindkraftWieBisher:Ne,AbstandsregelnFuerWindkraftLockern:He,AbstandsregelnFuerWindkraftAbschaffen:Fe}),apply(){},probability:()=>Math.random()},Altbausanierung:{title:"Gesetzesinitiative zur Sanierung von Altbauten",description:"Zur Einhaltung der Pariser Klimaschutzvereinbarung halten Experten es für unausweichlich, dass in die Sanierung von Altbauten investiert werden muss. Die konkrete Ausgestaltung wird kontrovers diskutiert.",laws:Ae({DaemmungAltbauAbschaffen:Be,AllesBleibtBeimAlten:Te,DaemmungAltbau1Percent:Oe,DaemmungAltbau2Percent:Ue,DaemmungAltbau4Percent:Ee}),apply(){},probability(e){const t=e.state.game;return Le(15,25,t.values.co2emissionsBuildings/t.values.co2emissions*100)/100}},Bestechung:{title:"Anruf von befreundetem Unternehmer",description:"Klaus, ein Unternehmer, den du auf einer Dienstreise kennen gelernt hast, ruft an und möchte dich in seine\n    Ferienvilla auf Sardinien einladen. Er verlässt sich natürlich darauf, dass du dem Gesetzentwurf zum Abbau von Subventionen\n    nicht zustimmen wirst.\n  ",apply(e){const t=at(e.getters.proposedLaws);t&&e.dispatch("rejectLaw",{lawId:t.id})},probability:e=>at(e.getters.proposedLaws)?Math.random():0},EnergieStrategie:{title:"Grundsatzdebatte zur Stromerzeugung",description:"Der Bundestag debattierte heute über die Strategie zur Stromerzeugung in Deutschland. Die Meinungen der Parteien gingen dabei stark auseinander.",laws:Ae({KohleverstromungEinstellen:ze,EnergiemixRegeltDerMarkt:Pe,KernenergienutzungVerlaengern:Me}),apply(){},probability:()=>Math.random()},FinanzKollaps:{title:"Zusammenbruch des Finanzsystems",description:"Deine Staatsfinanzen sind desaströs. Kein Land der Welt, keine Institutionen oder Privatpersonen trauen dir zu, dass du deine Schulden\n    jemals wieder wirst zurückahlen können. Daher gibt dir auch niemand mehr Geld, mit dem du die Staatsangestellten oder die offenen Verpflichtungen zahlen\n    könntest. Das Spiel ist damit leider beendet.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.stateDebt>2*fe.stateDebt?1:0},"Hitzehölle":{title:"Hitzehölle",description:"Die CO2-Werte sind soweit gestiegen, dass die Erde nur noch an wenigen Orten bewohnbar ist. Die ehemaligen Küstenregionen\n  stehen unter Wasser, ganze Landstriche sind verschwunden. In den trockeneren Gebieten ist die Temperatur so hoch, dass nichts mehr wächst.\n  Um die verbleibdenden Teile sind erbitterte Kämpfe ausgebrochen.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.co2budget<=0?1:0},NewYear:{title:"Happy New Year!",description:"Mal wieder geht ein ereignisreiches Jahr zuende. Die Regierung hat eine Bilanz ihrer bisherigen Tätigkeit aufgestellt\n    und kommt zu dem nicht weiter überraschenden Ergebnis, dass sie sehr wirkungsvolle Gesetze beschlossen hat. Die Opposition -\n    ebenfalls nicht überraschend - sieht die Sache anders und verurteilt die Regierungserklärung als haltlos.\n  ",apply(e){e.dispatch("advanceYear")},probability(e){const t=e.state.game,i=null==t?void 0:t.acceptedLaws.map(Xe).filter((e=>{var i;return!(null==(i=e.labels)?void 0:i.includes("initial"))&&e.effectiveSince==t.currentYear+1})),n=i&&i.length||0;if(n<3)return 0;const a=Math.round(33.3*(n-2))/100;return Math.min(1,a)}},SocialMedia:{title:"Social Media Alarm!",description:"Deine Wahlkampfberaterin ruft dich völlig aufgelöst an. Ob denn an den Geschichten was dran sein, die da im\n    Netz kursieren, dass du vor einigen Jahren bei einer Demo dabei warst, bei der die Gewalt eskaliert ist.\n    Die Zeitungen haben die Meldung schon aufgegriffen und es gibt Spekulationen, ob man dir das Misstrauen aussprechen wird.\n  ",apply(e){e.dispatch("applyEffects",[ye("popularity").byPercent(-20)])},probability:()=>Math.random()},TempolimitAufAutobahnen:{title:"Generelles Tempolimit beschlossen",description:"Die EU hat ein einheitliches, generelles Tempolimit von 120km/h auf Autobahnen beschlossen. Bis auf Deutschland müssen die Mitgliedsstaaten ihr bereits bestehendes generelles Tempolimit nur noch anpassen.",laws:Ae({Tempolimit130AufAutobahnen:Ie,Tempolimit120AufAutobahnen:Ge,Tempolimit100AufAutobahnen:xe,TempolimitAufAutobahnenAussitzen:Ke}),apply(){},probability:()=>Math.random()},TimesUp:{title:"Du hast durchgehalten",description:"Es ist vielleicht nicht alles optimal nach deiner inzwischen sehr langen Amtszeit, aber du hast es geschafft,\n    bis hierhin durchzuhalten! Das ist wunderbar, denn noch immer ist der Planet bewohnbar, deine Maßnahmen waren zu finanzieren\n    und die Menschen hast du auf diesem Weg auch mitgenommen. Gratulation!\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&2050===e.state.game.currentYear?1:0},WahlVerloren:{title:"Wahl verloren",description:"Deine Beliebtheit in der Bevölkerung ist katastrophal, lieber würde man Mao Zedong wählen als dich.\n    Deine Partei hat daher bei der Wahl gerade mal 1.3% erreicht (weil wohl manche nicht wussten, zu welcher Partei du gehörst) und ist damit unter\n    die 5% Marke gerutscht. An eine weitere Kanzlerschaft hat schon länger kein vernünftiger Mensch mehr geglaubt.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.popularity<=0?1:0},WindkraftAusschreibung:{title:"Abstimmung zur Ausschreibung von Windkraftanlagen",description:"Heute findet die Abstimmung im Bundestag zur weiteren Ausschreibung von Kindkraftanlagen statt. Die Meinungen der Parteien sind sehr unterschiedlich.",laws:Ae({AusschreibungsverfahrenfuerWindkraftWieBisher:$e,AusschreibungsverfahrenfuerWindkraftVerdoppeln:Re,AusschreibungsverfahrenfuerWindkraftVervierfachen:Ze,AusschreibungsverfahrenfuerWindkraftVerachtfachen:Je}),apply(){},probability:()=>Math.random(),citations:[],details:re`
    # Bauarbeiten

    Leider gibt es hier noch keine genaueren Informationen.

    # Mitarbeit gewünscht!

    Gerne kannst Du selber etwas beitragen. Was fehlt hier? Kennst Du Quellen, die Hintergrund liefern oder Aussagen belegen?

    In unserem git repo unter [\`src/events/\`](https://github.com/neustartklima/ich-kann-klima/tree/main/src/events) findest Du die zugehörige Datei.
  `,internals:re`
    # Platz für interne Kommentare

    Dies wird der Spieler nie sehen. **Zitate** können so eingefügt werden: \${cite(uba2020DeutscheTreibhausgasEmissionen)}.
    Einfach den _backslash_ entfernen, und die richtige Quelle verwenden natürlich... ;-)
  `}});var st=d({props:{law:{type:Object,required:!0},selectable:{type:Boolean,required:!0},numCards:{type:Number,required:!0}},setup:()=>({store:Gi()}),data:()=>({accepted:!1}),computed:o(l({},h(["proposedLaws"])),{zIndex(){return this.law.zIndex},transform(){return`rotate(${2*(this.law.pos-this.numCards/2)}deg) translate(${20*Math.abs(this.numCards/2-this.law.pos)}px, -50%)`}}),methods:{select(){this.$emit("selected")},accept(){this.accepted=!0},sendAccept(e){e.animationName.match(/^twistOut-/)&&this.$emit("accepted",this.law.id)}}});const lt=w("data-v-c57832f8");m("data-v-c57832f8");const ot={key:0,type:"radio"},ct={key:0,class:"button-bar"};p();const ut=lt(((e,t,i,n,a,r)=>(y(),g("div",{class:["Law",{accepted:e.accepted}],style:{zIndex:e.zIndex},onClick:t[2]||(t[2]=(...t)=>e.select&&e.select(...t)),onAnimationend:t[3]||(t[3]=(...t)=>e.sendAccept&&e.sendAccept(...t))},[b("label",null,[e.selectable?(y(),g("input",ot)):v("",!0),b("div",null,[b("h3",null,f(e.law.title),1),b("div",null,f(e.law.description),1),e.selectable?(y(),g("div",ct,[b("button",{class:"accept",onClick:t[1]||(t[1]=(...t)=>e.accept&&e.accept(...t))},"✓")])):v("",!0)])])],38))));st.render=ut,st.__scopeId="data-v-c57832f8";var dt=d({components:{LawCard:st},setup:()=>({store:Gi()}),data:()=>({zIndexes:[],poppedUp:!1}),computed:o(l({},h(["proposedLaws"])),{lawsToShow(){return this.zIndexes.length||(this.zIndexes=ae(this.proposedLaws.length,0)),this.proposedLaws.map(((e,t)=>o(l({},e),{zIndex:this.zIndexes[t],pos:t})))}}),methods:{accept(e){this.store.dispatch("acceptLaw",{lawId:e}),this.poppedUp=!1},select(e){this.zIndexes=ae(this.proposedLaws.length,e)}}});const ht=w("data-v-edd9edfa")(((e,t,i,n,a,r)=>{const s=D("LawCard");return y(),g("div",{class:["ProposedLaws",{poppedUp:e.poppedUp}],onClick:t[1]||(t[1]=t=>e.poppedUp=!0)},[(y(!0),g(k,null,S(e.lawsToShow,((t,i)=>(y(),g(s,{key:i,law:t,selectable:e.poppedUp,numCards:e.lawsToShow.length,onAccepted:()=>e.accept(t.id),onSelected:()=>e.select(i)},null,8,["law","selectable","numCards","onAccepted","onSelected"])))),128))],2)}));dt.render=ht,dt.__scopeId="data-v-edd9edfa";var mt=d({props:{title:String,text:String},methods:{acknowledge(){this.$emit("acknowledge")}}});const pt=w("data-v-2df6be4d");m("data-v-2df6be4d");const gt={key:0};p();const bt=pt(((e,t,i,n,a,r)=>e.text?(y(),g("div",{key:0,onClick:t[1]||(t[1]=(...t)=>e.acknowledge&&e.acknowledge(...t))},[e.title?(y(),g("h2",gt,f(e.title),1)):v("",!0),b("p",null,f(e.text),1)])):v("",!0)));mt.render=bt,mt.__scopeId="data-v-2df6be4d";var vt=d({props:{value:{type:Number,required:!0}},computed:{isShort(){return this.value<20},isLess(){return this.value>=20&&this.value<50},isMore(){return this.value>=50&&this.value<80},isMuch(){return this.value>=80}}});const ft=w("data-v-df0e905e");m("data-v-df0e905e");const wt={id:"finances"},yt={key:0,src:"/assets/money-short.7ce9dbed.png",id:"short"},kt={key:1,src:"/assets/money-less.c10d45f8.png",id:"less"},St={key:2,src:"/assets/money-more.a1c17d8d.png",id:"more"},Dt={key:3,src:"/assets/money-much.ad651475.png",id:"much"};p();const Wt=ft(((e,t,i,n,a,r)=>(y(),g("div",wt,[e.isShort?(y(),g("img",yt)):v("",!0),e.isLess?(y(),g("img",kt)):v("",!0),e.isMore?(y(),g("img",St)):v("",!0),e.isMuch?(y(),g("img",Dt)):v("",!0)]))));vt.render=Wt,vt.__scopeId="data-v-df0e905e";var At=d({props:{value:{type:Number,required:!0}},computed:{areHappy(){return this.value>=50},areAngry(){return this.value<50}}});const Tt=w("data-v-a375dc26");m("data-v-a375dc26");const Lt={id:"popularity"},Vt={key:0,src:"/assets/people-happy.1e9e529c.png",id:"happy"},zt={key:1,src:"/assets/people-angry.495e0425.png",id:"angry"};p();const Pt=Tt(((e,t,i,n,a,r)=>(y(),g("div",Lt,[e.areHappy?(y(),g("img",Vt)):v("",!0),e.areAngry?(y(),g("img",zt)):v("",!0)]))));At.render=Pt,At.__scopeId="data-v-a375dc26";var Ct=d({data:()=>({levels:{healthy:"/assets/plant-healthy.1c912fd2.png",sick:"/assets/plant-sick.05726ebf.png",withered:"/assets/plant-withered.2d8ffb21.png"}}),props:{value:{type:Number,required:!0}},computed:{status(){return this.value>66?"healthy":this.value>33?"sick":"withered"},imgSrc(){return this.levels[this.status]}}});const Mt=w("data-v-c0f87ac2");m("data-v-c0f87ac2");const Ot={id:"plant"};p();const Ut=Mt(((e,t,i,n,a,r)=>(y(),g("div",Ot,[b("img",{src:e.imgSrc,id:e.status},null,8,["src","id"])]))));Ct.render=Ut,Ct.__scopeId="data-v-c0f87ac2";var Et=d({props:{year:Number}});const Bt=w("data-v-38fe5c52");m("data-v-38fe5c52");const _t={id:"calendar"};p();const It=Bt(((e,t,i,n,a,r)=>(y(),g("div",_t,f(e.year),1))));Et.render=It,Et.__scopeId="data-v-38fe5c52";var Gt=d({});const xt=w("data-v-5952ab5a");m("data-v-5952ab5a");const Kt={id:"heater"},Nt=b("img",{src:"/assets/heater.5a77e425.png"},null,-1);p();const Ht=xt(((e,t,i,n,a,r)=>(y(),g("div",Kt,[Nt]))));Gt.render=Ht,Gt.__scopeId="data-v-5952ab5a";var Ft=d({});const jt=w("data-v-3902beeb");m("data-v-3902beeb");const $t={id:"table"},Rt=b("img",{src:"/assets/table-top.c87bd2fd.png",id:"table-top"},null,-1),Zt=b("img",{src:"/assets/table-front.78c0f8c6.png",id:"table-front"},null,-1),Jt=b("img",{src:"/assets/table-front.78c0f8c6.png",id:"table-back"},null,-1),Qt=b("img",{src:"/assets/table-side.49774a53.png",id:"table-left-side"},null,-1),Yt=b("img",{src:"/assets/table-side.49774a53.png",id:"table-right-side"},null,-1);p();const qt=jt(((e,t,i,n,a,r)=>(y(),g("div",$t,[Rt,Zt,Jt,Qt,Yt]))));Ft.render=qt,Ft.__scopeId="data-v-3902beeb";var Xt=d({props:{withNews:Boolean}}),ei="/assets/board-side.d7181ded.png",ti="/assets/tvset-legs.78b387df.png";const ii=w("data-v-118e7bdf");m("data-v-118e7bdf");const ni={id:"tvset"},ai=b("div",{id:"board"},[b("img",{id:"board-front",src:"/assets/board-front.41330f02.png"}),b("img",{id:"board-left",src:ei}),b("img",{id:"board-right",src:ei}),b("div",{id:"board-top"})],-1),ri={id:"tv"},si=b("img",{id:"tv-front",src:"/assets/tv-front.82df5c0c.png"},null,-1),li={key:0,id:"news",src:"/assets/news.c4bbc2d0.png"},oi=b("div",{id:"legs"},[b("img",{id:"legs-front",src:ti}),b("img",{id:"legs-back",src:ti})],-1);p();const ci=ii(((e,t,i,n,a,r)=>(y(),g("div",ni,[ai,b("div",ri,[si,e.withNews?(y(),g("img",li)):v("",!0)]),oi]))));Xt.render=ci,Xt.__scopeId="data-v-118e7bdf";const ui=[{id:"start",title:"Stell dir vor...",text:re`
      ### ... du bist Politiker.

      Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl!

      Du hast vier Jahre Zeit um...

      - der Klimakatastrophe entgegenzusteuern
      - Deine Beliebtheit in der Bevölkerung zu erhalten
      - und dabei nicht zu viel Geld auszugeben
    `},{id:"room",title:"Dein Arbeitszimmer",text:"Dies ist das Zimmer, in dem Du arbeitest und Entscheidungen triffst."},{id:"desk",title:"Dein Schreibtisch",text:"Du sitzt an Deinem Schreibtisch und findest dort immer wieder Gesetzesvorhaben, unter denen du auswählen musst.",highlight:"table"},{id:"finances",title:"Die Staatsfinanzen",text:"Auf Deinem Schreibtisch siehst Du, wie viel Geld der Staat noch hat, um Deine Entscheidungen umzusetzen.",highlight:"finances"},{id:"popularity",title:"Die Wähler",text:"Wenn Du aus dem Fenster schaust, siehst Du, in welcher Stimmung Deine Wähler sind.",highlight:"popularity"},{id:"climate",title:"Das Klima",text:"Die Pflanze in der Ecke zeigt Dir, wie sich das Klima entwickelt.",highlight:"plant"}];var di={};const hi=w("data-v-2419943a");m("data-v-2419943a");const mi={class:"dialog"},pi={class:"buttons"};p();const gi=hi(((e,t,i,n,a,r)=>(y(),g("div",mi,[W(e.$slots,"default",{},void 0,!0),b("div",pi,[W(e.$slots,"buttons",{},void 0,!0)])]))));di.render=gi,di.__scopeId="data-v-2419943a";var bi=d({setup(){const e=Gi();return e.dispatch("setupTour"),{store:e}},components:{Dialog:di},mounted(){this.setHighlight(this.currentStep)},computed:{currentStep(){return ui.find((e=>e.id===this.$store.state.tour.step))},title(){var e;return null==(e=this.currentStep)?void 0:e.title},text(){var e;return null==(e=this.currentStep)?void 0:e.text}},watch:{currentStep(e){this.setHighlight(e)}},methods:{setHighlight(e){var t;const i=document.querySelector(".highlighted");i&&i.classList.remove("highlighted"),e&&e.highlight&&(null==(t=document.querySelector(`#${e.highlight}`))||t.classList.add("highlighted"))},next(){this.$store.dispatch("nextTourStep")},stop(){this.$store.dispatch("stopTour")}}});bi.render=function(e,t,i,n,a,r){const s=D("Dialog");return e.title&&e.text?(y(),g(s,{key:0},{buttons:A((()=>[b("button",{onClick:t[1]||(t[1]=(...t)=>e.stop&&e.stop(...t))},"Tour beenden"),b("button",{onClick:t[2]||(t[2]=(...t)=>e.next&&e.next(...t))},"Weiter")])),default:A((()=>[b("h2",null,f(e.title),1),b("div",{innerHTML:e.text},null,8,["innerHTML"])])),_:1})):v("",!0)};var vi=d({components:{Calendar:Et,ClimateIndicator:Ct,Heater:Gt,LawProposals:dt,SpeechBubble:mt,FinanceIndicator:vt,PopularityIndicator:At,Table:Ft,Tour:bi,TVSet:Xt},data:()=>({store:Gi()}),computed:{eventTitle(){var e;return(null==(e=this.eventToShow())?void 0:e.title)||""},eventText(){var e;return(null==(e=this.eventToShow())?void 0:e.description)||""},currentYear(){var e;return(null==(e=this.store.state.game)?void 0:e.currentYear)||2021},finance(){const e=this.store.state.game;return e?function(e){return et(100-e.values.stateDebt/fe.stateDebt*50)}(e):0},popularity(){var e;return(null==(e=this.store.state.game)?void 0:e.values.popularity)||100},climate(){const e=this.store.state.game;return e?function(e){return 0===e.values.co2emissions?100:et(e.values.co2budget*we(fe).co2emissions/fe.co2budget/e.values.co2emissions*50)}(e):0}},methods:{eventToShow(){var e;const t=null==(e=this.$store.state.game)?void 0:e.events[0];return t&&!t.acknowledged?t:null},acknowledge(){this.$store.dispatch("acknowledgeEvent",this.eventToShow())}}});const fi={class:"game-setup"},wi=b("h1",null,"#ich-kann-klima",-1),yi=b("div",{id:"walls"},[b("div",{id:"wall-back"}),b("div",{id:"wall-left"}),b("div",{id:"wall-right"})],-1);vi.render=function(e,t,i,n,a,r){const s=D("Calendar"),l=D("Heater"),o=D("PopularityIndicator"),c=D("TVSet"),u=D("ClimateIndicator"),d=D("Table"),h=D("FinanceIndicator"),m=D("LawProposals"),p=D("SpeechBubble"),v=D("Tour");return y(),g("div",fi,[wi,yi,b(s,{year:e.currentYear},null,8,["year"]),b(l),b(o,{value:e.popularity},null,8,["value"]),b(c,{"with-news":!!e.eventText},null,8,["with-news"]),b(u,{value:e.climate},null,8,["value"]),b(d),b(h,{value:e.finance},null,8,["value"]),b(m),b(p,{title:e.eventTitle,text:e.eventText,onAcknowledge:e.acknowledge},null,8,["title","text","onAcknowledge"]),b(v)])};var ki=d({setup(){const e=Gi();return{store:e,acceptedLaws:T((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({opened:void 0}),computed:{visibleAccepted(){return Qe.filter((e=>{var t,i;return(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!(null==(i=e.labels)?void 0:i.includes("hidden"))}))}},methods:{toggleOpen(e){this.opened=this.opened===e?void 0:e}}});const Si=w("data-v-aace6332")(((e,t,i,n,a,r)=>(y(!0),g(k,null,S(e.visibleAccepted,((t,i)=>(y(),g("div",{key:i,class:["Law",{opened:i===e.opened}],onClick:t=>e.toggleOpen(i)},[b("h3",null,f(t.title),1),b("div",null,f(t.description),1)],10,["onClick"])))),128))));ki.render=Si,ki.__scopeId="data-v-aace6332";var Di=d({components:{GameSetup:vi,AcceptedLaws:ki},setup:()=>({store:Gi()}),methods:{startGame(e){e?this.store.dispatch("loadGame",{gameId:e}):this.store.dispatch("startGame",void 0)}},beforeRouteEnter(e,t,i){i((t=>t.startGame(e.params.id)))}});const Wi=w("data-v-3637ce73")(((e,t,i,n,a,r)=>{const s=D("GameSetup");return y(),g(s)}));Di.render=Wi,Di.__scopeId="data-v-3637ce73";var Ai=d({components:{Dialog:di},setup:()=>({store:Gi()}),computed:{co2(){var e,t;const i=null==(e=this.store.state.game)?void 0:e.values.co2budget;return(null==(t=this.store.state.game)?void 0:t.values.co2emissions)>0?i>0?"sind weiterhin vorhanden, aber zumindest ist das Budget noch nicht aufgebraucht, dein:e Nachfolger:in hat vielleicht noch eine Chance.":"sind explodiert, das Budget ist aufgebraucht. Hätte die AfD nicht besser hinbekommen.":i>0?"hast du im Griff! Es verbleibt sogar noch ein Rest-CO2-Budget, Gratulation!":"hast du gerade noch rechtzeitig ausreichend senken können. Punktlandung."},debt(){var e;return(null==(e=this.store.state.game)?void 0:e.values.stateDebt)<1e3?"sind ausgeglichen. Die Stabilitätskriterien werden eingehalten.":"sind dir leider aus dem Ruder gelaufen."},popularity(){var e;const t=null==(e=this.store.state.game)?void 0:e.values.popularity;return t<20?"entspricht dem, was man von einem langhährigen Diktator erwarten kann.":t<50?"ist nicht berauschend, wiedergewählt würdest du wohl eher nicht.":t<80?"reicht aus, dass du noch länger am Ruder bleiben könntest. Gratulation!":"ist völlig unglaubwürdig - war das wirklich eine freie Wahl?"}},methods:{loadGame(e){this.store.dispatch("loadGame",{gameId:e})},newGame(){this.$router.push("/games")}},beforeRouteEnter(e,t,i){i((t=>{t.loadGame(e.params.id)}))}});const Ti=b("h2",null,"Das Spiel ist leider zu Ende",-1),Li=b("p",null,"Deine Entscheidungen haben etwas verändert - soviel kann man sagen.",-1),Vi=b("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),zi={class:"button-bar"};Ai.render=function(e,t,i,n,a,r){const s=D("Dialog");return y(),g(s,null,{default:A((()=>[Ti,Li,b("ul",null,[b("li",null,"Die CO2-Emmissionen "+f(e.co2),1),b("li",null,"Die Staatsfinanzen "+f(e.debt),1),b("li",null,"Deine Beliebtheit "+f(e.popularity),1)]),Vi,b("div",zi,[b("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Neuer Versuch")])])),_:1})};const Pi=[{path:"/",redirect:"/games"},{path:"/games",component:Di},{path:"/games/:id",component:Di},{path:"/games/:id/over",component:Ai}],Ci=L({history:V(),routes:Pi});const Mi=function(e,t){let i,n=[];async function a(){if(i&&(clearTimeout(i),i=void 0),n.length){const{method:s,path:l,data:o,retry:c,resolve:u,reject:d}=n[0];try{if((null==t?void 0:t.navigator)&&!(null==t?void 0:t.navigator.onLine))throw Error("Browser is offline");const i=await e(s,l,o);n.shift(),u(i)}catch(r){c?n[0].retry=Math.max(-1,c-1):(n.shift(),d(r))}n.length&&(i=setTimeout(a,(null==t?void 0:t.timeout)||1e4))}}return{add:(e,t,r,s=-1)=>new Promise(((l,o)=>{n.push({method:e,path:t,data:r,retry:s,resolve:l,reject:o}),i||a()})),remove(e,t){n=n.filter((i=>i.method.toLowerCase()!==e.toLowerCase()||i.path!==t))},callsPending:()=>n.length>0}}(function(e,t,i=console){return async function(n,a,r){var s;try{const i={method:n};["post","put","patch"].includes(n)&&(i.body=JSON.stringify(r),i.headers={"content-type":"application/json"});const l=await t(e+a,i),o=(null==(s=l.headers.get("Content-Type"))?void 0:s.match(/json/))?await l.json():await l.text();if(l.ok)return o;throw Error(o.message||o)}catch(l){throw i.error(l),l}}}("https://api.ich-kann-klima.de/api",fetch));var Oi;const Ui=function({api:e,logger:t=console,storage:i=localStorage}){return{async createGame(n=Qe,a=Se){const r=De(a);r.acceptedLaws=n.filter((e=>{var t;return null==(t=e.labels)?void 0:t.includes("initial")})).map((e=>({lawId:e.id,effectiveSince:r.currentYear}))),Ye(r,n),i.setItem("game",JSON.stringify(r));try{e.createGame(r)}catch(s){t.warn("Cannot save new game - trying again later",s)}return r},async loadGame(t){const n=i.getItem("game");if(n){const e=JSON.parse(n);if(e.id===t)return De(e,t)}return De(await e.loadGame(t),t)},async saveGame(n){i.setItem("game",JSON.stringify(n));try{e.saveGame(n)}catch(a){t.warn("save on server failed - at least the game is saved in localStorage, so you can save it maybe next time",a)}},async decisionMade(t,i,n){e.decisionMade(t.id,i.id,n)},async eventOccurred(t,i){e.eventOccurred(t.id,i.id)}}}({api:(Oi=Mi,{createGame:e=>Oi.add("post","/games",e),loadGame:e=>Oi.add("get","/games/"+e,void 0,0),saveGame:e=>(Oi.remove("put","/games/"+e.id),Oi.add("put","/games/"+e.id,e)),decisionMade:(e,t,i)=>Oi.add("post","/games/"+e+"/decisions/"+t,{accepted:i}),eventOccurred:(e,t)=>Oi.add("post","/games/"+e+"/events/"+t)})}),Ei={async startGame(e){const t=await Ui.createGame();Ci.push("/games/"+t.id)},async loadGame(e,t){try{const i=await Ui.loadGame(t.gameId);await Ui.saveGame(i),Ci.push("/games/"+i.id),e.commit("setGameState",{game:i})}catch(i){e.dispatch("error",{error:i})}},gameOver(e){var t;e.commit("gameOver",void 0),Ci.push("/games/"+(null==(t=e.state.game)?void 0:t.id)+"/over")},async acceptLaw(e,t){const i=l({},e.state.game),n={lawId:t.lawId,effectiveSince:i.currentYear+1},a=Xe(n),r=a.removeLawsWithLabels,s=i.acceptedLaws.map(Xe).filter((e=>!(null==r?void 0:r.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)}))))).map((e=>({lawId:e.id,effectiveSince:e.effectiveSince})));i.acceptedLaws=[...s,n],Ye(i),await Ui.saveGame(i),e.commit("setGameState",{game:i}),await Ui.decisionMade(i,a,!0),nt(xi,rt).start()},async rejectLaw(e,t){const i=l({},e.state.game);i.rejectedLaws=[...i.rejectedLaws,t.lawId],Ye(i),await Ui.decisionMade(i,qe(t.lawId),!1),e.commit("setGameState",{game:i}),nt(xi,rt).start()},async advanceYear(e){const t=l({},e.state.game),i=t.acceptedLaws.map(Xe);t.currentYear++,t.values=function(e,t,i){const n=we(e);return t.sort(((e,t)=>{var i,n;return(null==(i=e.treatAfterLabels)?void 0:i.some((e=>{var i;return null==(i=t.labels)?void 0:i.includes(e)})))?1:(null==(n=t.treatAfterLabels)?void 0:n.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)})))?-1:0})).forEach((e=>{const t=e.effects(n,e.effectiveSince,i);ke(n,t)})),n.co2budget-=n.co2emissions,n}(t.values,i,t.currentYear),Ye(t),await Ui.saveGame(t),e.commit("setGameState",{game:t})},async applyEvent(e,t){var i;const n=l({},e.state.game);n.events.unshift(t.event),await Ui.eventOccurred(n,t.event),(null==(i=t.event.laws)?void 0:i.length)&&(n.proposedLaws=t.event.laws.map((e=>e.id))),e.commit("setGameState",{game:n}),t.event.apply(e)},acknowledgeEvent(e,t){const i=l({},e.state.game);i.events.find((e=>e.id===t.id)).acknowledged=!0,e.commit("setGameState",{game:i})},applyEffects(e,t){var i;const n=ke(l({},null==(i=e.state.game)?void 0:i.values),t),a=o(l({},e.state.game),{values:n});e.commit("setGameState",{game:a})},setupTour(e){const t=localStorage.getItem("tour")||ui[0].id,i=ui.find((e=>t===e.id));i?e.commit("setTour",{step:i.id,active:!0}):Ei.stopTour(e)},nextTourStep(e){const t=ui.findIndex((t=>e.state.tour.step===t.id));if(t<0||t==ui.length-1)Ei.stopTour(e);else{const i=ui[t+1];e.commit("setTour",{step:i.id,active:!0}),localStorage.setItem("tour",i.id)}},stopTour(e){e.commit("setTour",{step:"",active:!1}),localStorage.setItem("tour","completed"),nt(xi,rt).start()},async error(e,t){e.commit("error",t)}},Bi={setGameState(e,t){e.game=t.game},gameOver(e){e.game=o(l({},e.game),{over:!0})},setTour(e,t){e.tour=t},error(e,t){console.error(t.error),alert(t.error.message)}},_i={proposedLaws:e=>e.game&&e.game.proposedLaws?e.game.proposedLaws.map((e=>{const t=Qe.find((t=>t.id===e));return t||console.error(`Inconsistency: Proposed law #${e} not found`),t})).filter((e=>e)):[]},Ii=Symbol();function Gi(){return z(Ii)}const xi=P({state:{game:void 0,tour:{active:!0,step:"start"}},mutations:Bi,actions:Ei,getters:_i});function Ki(e,t){return e<t?-1:e>t?1:0}function Ni(e,t){const i=we(e);function n(e){return(e>0?"+":"")+e.toFixed(2)}function a(a){const r=function(e){const i=t.find((t=>t.name===e));return i&&i.condition?i.value:0}(a),s=i[a]-e[a];return r&&Math.abs(r-s)<.001?n(r):r?n(r)+" / "+n(s):0!=s?n(s):""}ke(i,t);return ve.map((t=>{return{id:t.name,unit:t.unit,value:(i=t.name,e[i].toFixed(2)),effect:a(t.name),class:t.writable?"writable":"calculated"};var i}))}var Hi=d({props:{citation:{type:Object,required:!0},showInternals:{type:Boolean,default:!1}},computed:{href(){return this.citation.url.toString()},title(){return this.citation.title||this.citation.url.toString()}}});const Fi={key:0},ji=C(". "),$i={key:1},Ri={key:2},Zi=C("Bemerkung: "),Ji=C(". "),Qi={key:3},Yi=C("Internes: "),qi=C(". "),Xi={key:4},en=C(". "),tn={key:5},nn=C(". "),an={key:6},rn=C(". ");Hi.render=function(e,t,i,n,a,r){return y(),g("p",null,[e.citation.authors?(y(),g("span",Fi,f(e.citation.authors+e.citation.dateString())+". ",1)):v("",!0),b("a",{target:"_blank",rel:"noreferrer noopener",href:e.href},'"'+f(e.title)+'"',9,["href"]),ji,e.citation.publisher?(y(),g("span",$i,f(e.citation.publisher)+". ",1)):v("",!0),e.citation.comment?(y(),g("span",Ri,[Zi,b("span",{innerHTML:e.citation.comment},null,8,["innerHTML"]),Ji])):v("",!0),e.showInternals&&e.citation.internalComment?(y(),g("span",Qi,[Yi,b("span",{innerHTML:e.citation.internalComment},null,8,["innerHTML"]),qi])):v("",!0),e.citation.referringUrl?(y(),g("span",Xi,[b("a",{target:"_blank",rel:"noreferrer noopener",href:e.citation.referringUrl.toString()},"Hier gefunden",8,["href"]),en])):v("",!0),e.citation.archiveUrl?(y(),g("span",tn,[b("a",{target:"_blank",rel:"noreferrer noopener",href:e.citation.archiveUrl.toString()},"Web Archiv Kopie",8,["href"]),nn])):v("",!0),e.citation.localCopy?(y(),g("span",an,[b("a",{target:"_blank",rel:"noreferrer noopener",href:"/sources/"+e.citation.localCopy},"Kopie",8,["href"]),rn])):v("",!0)])};var sn=d({components:{Citation:Hi},setup(){const e=Gi();return{store:e,game:T((()=>e.state.game)),eventMachine:tt(e,rt)}},data:()=>({selectedTable:"laws",lawsSortCol:"state",lawsSortDir:1,eventsSortCol:"probability",eventsSortDir:-1,lawSelected:void 0,eventSelected:void 0,paramSelected:void 0}),methods:{sortLaws(e){e===this.lawsSortCol?this.lawsSortDir=this.lawsSortDir>0?-1:1:this.lawsSortDir=1,this.lawsSortCol=e},sortEvents(e){e===this.eventsSortCol?this.eventsSortDir=this.eventsSortDir>0?-1:1:this.eventsSortDir=1,this.eventsSortCol=e},selectLaw(e){this.unselect(),this.lawSelected=e},selectEvent(e){this.unselect(),this.eventSelected=e},selectParam(e){this.unselect(),this.paramSelected=e},unselect(){this.lawSelected=void 0,this.eventSelected=void 0,this.paramSelected=void 0}},computed:{startYearOfSelected(){if(!this.lawSelected||!this.game)return 2021;const e=this.game.acceptedLaws.find((e=>e.lawId===this.lawSelected));return e?e.effectiveSince:2021},selectedLaw(){return Qe.find((e=>e.id===this.lawSelected))},selectedEvent(){return rt.find((e=>e.id===this.eventSelected))},selectedParam(){return this.paramSelected?de[this.paramSelected]:void 0},wParam(){const e=this.selectedParam;return e instanceof ee?e:void 0},cParam(){const e=this.selectedParam;return e instanceof te?e:void 0},citationsOfLaw(){return this.selectedLaw&&this.selectedLaw.citations?this.selectedLaw.citations:[]},effectsOfSelected(){if(!this.lawSelected||!this.game)return[];this.game;const e=this.selectedLaw;return e?e.effects(this.game.values,this.startYearOfSelected,this.game.currentYear):[]},sortedValues(){return this.game?Ni(this.game.values,this.effectsOfSelected):[]},sortedLaws(){return this.game?function(e,t,i,n){const a=e.proposedLaws,r=e.acceptedLaws.map((e=>e.lawId)),s=e.rejectedLaws;return n.map((t=>{return{id:t.id,priority:t.priority(e),state:(i=t.id,r.includes(i)?"a":a.includes(i)?"p":s.includes(i)?"r":"x")};var i})).sort(((e,n)=>Ki(e[t],n[t])*i)).map((e=>o(l({},e),{priority:e.priority.toFixed(2)})))}(this.game,this.lawsSortCol,this.lawsSortDir,Qe):[]},sortedEvents(){return this.game?(e=this.store,t=this.eventsSortCol,i=this.eventsSortDir,rt.map((t=>({id:t.id,probability:t.probability(e)}))).sort(((e,n)=>Ki(e[t],n[t])*i)).map((e=>o(l({},e),{probability:(100*e.probability).toFixed(2)})))):[];var e,t,i}}});const ln=w("data-v-ba6e1a7e");m("data-v-ba6e1a7e");const on={class:"peekData"},cn={key:0,class:"Details"},un={class:"Title"},dn={class:"Description"},hn=b("div",{class:"SectionHead"},"Details:",-1),mn=b("div",{class:"SectionHead"},"Internes:",-1),pn=b("div",{class:"SectionHead"},"Referenzen:",-1),gn={key:1,class:"Details"},bn={class:"Title"},vn={class:"Description"},fn=b("div",{class:"SectionHead"},"Details:",-1),wn=b("div",{class:"SectionHead"},"Internes:",-1),yn=b("div",{class:"SectionHead"},"Referenzen:",-1),kn={key:2,class:"Details"},Sn={class:"Title"},Dn={key:0},Wn={key:1},An={key:2},Tn=b("div",{class:"SectionHead"},"Details:",-1),Ln=b("div",{class:"SectionHead"},"Internes:",-1),Vn=b("div",{class:"SectionHead"},"Referenzen:",-1),zn={class:"paramsList"},Pn={class:"numbercol"},Cn={class:"effcol"},Mn={class:"buttonlist"},On={key:0,class:"lawlist"},Un={class:"priocol"},En={key:1,class:"lawlist"},Bn={class:"priocol"};p();const _n=ln(((e,t,i,n,a,r)=>{var s;const l=D("Citation");return y(),g("details",on,[b("summary",{onClick:t[1]||(t[1]=t=>e.unselect()),class:"clickable"},"Peek"),e.selectedLaw?(y(),g("div",cn,[b("div",un,f(e.selectedLaw.title),1),b("div",dn,f(e.selectedLaw.description),1),hn,b("div",{class:"Section",innerHTML:e.selectedLaw.details},null,8,["innerHTML"]),mn,b("div",{class:"Section",innerHTML:e.selectedLaw.internals},null,8,["innerHTML"]),pn,(y(!0),g(k,null,S(e.citationsOfLaw,((e,t)=>(y(),g(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):v("",!0),e.selectedEvent?(y(),g("div",gn,[b("div",bn,f(e.selectedEvent.title),1),b("div",vn,f(e.selectedEvent.description),1),fn,b("div",{class:"Section",innerHTML:e.selectedEvent.details},null,8,["innerHTML"]),wn,b("div",{class:"Section",innerHTML:e.selectedEvent.internals},null,8,["innerHTML"]),yn,(y(!0),g(k,null,S(null==(s=e.selectedEvent)?void 0:s.citations,((e,t)=>(y(),g(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):v("",!0),e.selectedParam?(y(),g("div",kn,[b("div",Sn,f(e.paramSelected)+" ["+f(e.selectedParam.unit)+"]",1),e.wParam?(y(),g("div",Dn,"Initial value: "+f(e.wParam.initialValue)+" "+f(e.wParam.unit),1)):v("",!0),e.cParam&&e.cParam.shouldInitiallyBe?(y(),g("div",Wn," Should initially be: "+f(e.cParam.shouldInitiallyBe)+" "+f(e.cParam.unit),1)):v("",!0),e.cParam?(y(),g("div",An," Calculation: "+f(e.cParam.valueGetter),1)):v("",!0),Tn,b("div",{class:"Section",innerHTML:e.selectedParam.details},null,8,["innerHTML"]),Ln,b("div",{class:"Section",innerHTML:e.selectedParam.internals},null,8,["innerHTML"]),Vn,(y(!0),g(k,null,S(e.selectedParam.citations,((e,t)=>(y(),g(l,{class:"Section",key:t,citation:e},null,8,["citation"])))),128))])):v("",!0),b("table",zn,[(y(!0),g(k,null,S(e.sortedValues,(t=>(y(),g("tr",{key:t.id,class:["clickable",t.class],onClick:i=>e.selectParam(t.id)},[b("td",null,f(t.id),1),b("td",Pn,f(t.value),1),b("td",Cn,f(t.effect),1),b("td",null,f(t.unit),1)],10,["onClick"])))),128))]),b("div",null,[b("table",Mn,[b("tr",null,[b("td",{class:["clickable lawButton",e.selectedTable],onClick:t[2]||(t[2]=t=>e.selectedTable="laws")},"Laws",2),b("td",{class:["clickable eventButton",e.selectedTable],onClick:t[3]||(t[3]=t=>e.selectedTable="events")},"Events",2)])]),"laws"===e.selectedTable?(y(),g("table",On,[b("tr",null,[b("th",{onClick:t[4]||(t[4]=t=>e.sortLaws("state")),class:"clickable"},"S"),b("th",{onClick:t[5]||(t[5]=t=>e.sortLaws("id")),class:"clickable"},"ID"),b("th",{onClick:t[6]||(t[6]=t=>e.sortLaws("priority")),class:"clickable priocol"},"Priority")]),(y(!0),g(k,null,S(e.sortedLaws,(t=>(y(),g("tr",{key:t.id,class:["clickable",t.state],onClick:i=>e.selectLaw(t.id)},[b("td",null,f(t.state),1),b("td",null,f(t.id),1),b("td",Un,f(t.priority),1)],10,["onClick"])))),128))])):v("",!0),"events"===e.selectedTable?(y(),g("table",En,[b("tr",null,[b("th",{onClick:t[7]||(t[7]=t=>e.sortEvents("id")),class:"clickable"},"ID"),b("th",{onClick:t[8]||(t[8]=t=>e.sortEvents("probability")),class:"clickable priocol"},"Probability")]),(y(!0),g(k,null,S(e.sortedEvents,(t=>(y(),g("tr",{key:t.id,class:"clickable",onClick:i=>e.selectEvent(t.id)},[b("td",null,f(t.id),1),b("td",Bn,f(t.probability),1)],8,["onClick"])))),128))])):v("",!0)])])}));sn.render=_n,sn.__scopeId="data-v-ba6e1a7e";var In=d({components:{PeekInside:sn},setup(){const e=Gi();return{store:e,devMode:"true"===localStorage.getItem("devMode"),eventMachine:tt(e,rt)}},methods:{updateStyle(){const e=window.innerHeight,t=window.innerWidth,i=Math.min(e/800,t/1e3),n=(t-1e3*i)/2;document.documentElement.style.setProperty("--scale",`${i}`),document.documentElement.style.setProperty("--translateX",`${n}px`)}},mounted(){setTimeout(this.updateStyle,0),window.addEventListener("resize",this.updateStyle)},computed:{priorizedEvents(){return this.eventMachine.getPriorizedEvents()},probability(){return e=>(100*e.probability(this.store)).toFixed(2)}}});const Gn={class:"perspective"},xn={class:"peek"},Kn={key:0,class:"probabilities"},Nn=b("b",null,"Probable Events",-1),Hn={key:0};In.render=function(e,t,i,n,a,r){const s=D("router-view"),l=D("PeekInside");return y(),g(k,null,[b("div",Gn,[b(s)]),b("div",xn,[e.devMode?(y(),g(l,{key:0})):v("",!0)]),e.devMode?(y(),g("div",Kn,[Nn,e.devMode&&e.$store.state.game?(y(),g("ul",Hn,[(y(!0),g(k,null,S(e.priorizedEvents,(t=>(y(),g("li",{key:t.id},[b("span",null,f(t.title),1),b("span",null,f(e.probability(t))+"%",1),b("span",null,f((100*t.priority).toFixed(2))+"%",1)])))),128))])):v("",!0)])):v("",!0)],64)};const Fn=M(In);Fn.use(xi,Ii),Fn.use(Ci),Fn.mount("#app");
