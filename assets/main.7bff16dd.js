var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,i,s)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s,l=(e,t)=>{for(var i in t||(t={}))n.call(t,i)&&r(e,i,t[i]);if(s)for(var i of s(t))a.call(t,i)&&r(e,i,t[i]);return e},o=(e,s)=>t(e,i(s));import{d as c,c as d,a as u,F as m,o as h,r as p,b as v,w as g,p as w,e as b,f as y,v as f,t as A,g as k,h as L,m as S,i as D,j as M,k as C,l as I,n as G,u as E,q as B}from"./vendor.7e46efa5.js";var T=c({});const x=u("details",{class:"attribution"},[u("summary",null,"Attribution"),u("ul",null,[u("li",null,"CO2 symbol: Tommaso.sansone91, CC0 1.0, via Wikimedia commons"),u("li",null,"Euro coin: Verdy_p, Public domain, via Wikimedia commons"),u("li",null,"Clapping hands: pngimg.com, CC 4.0 BY-NC")])],-1);T.render=function(e,t,i,s,n,a){const r=p("router-view");return h(),d(m,null,[u(r),x],64)};var z=c({props:{value:{type:Number,required:!0},color:{type:String,required:!0},img:{type:String}},computed:{emptyCircles(){return 10-this.value},filledCircles(){return this.value},style(){return e=>"empty"===e?"border-color: "+this.color:this.$props.img?"background-image: url("+this.$props.img+")":"background: "+this.color}}});const O=g();w("data-v-67d546a5");const K={class:"Indicator"};b();const W=O(((e,t,i,s,n,a)=>(h(),d("div",K,[(h(!0),d(m,null,v(e.emptyCircles,(t=>(h(),d("div",{class:"circle",style:e.style("empty")},null,4)))),256)),(h(!0),d(m,null,v(e.value,(t=>(h(),d("div",{class:"circle",style:e.style(1===t?"filled":"empty")},null,4)))),256))]))));z.render=W,z.__scopeId="data-v-67d546a5";var N=c({setup(){const e=It();return{store:e,currentYear:y((()=>{var t;return null==(t=e.state.game)?void 0:t.currentYear}))}},data:()=>({orientation:"portrait"}),computed:{timespan:()=>29,years(){return this.currentYear-2021+1},size(){return(this.orientation.match(/landscape/)?"height":"width")+": "+this.years/this.timespan*100+"%"}},mounted(){window.addEventListener("orientationchange",this.setOrientation),this.setOrientation()},methods:{setOrientation(){screen.orientation?this.orientation=screen.orientation.type||screen.mozOrientation||screen.msOrientation:this.orientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}}});const P=g()(((e,t,i,s,n,a)=>(h(),d("div",{class:"Indicator",style:e.size},null,4))));N.render=P,N.__scopeId="data-v-55ce16e8";const V={co2budget:6700,stateDebt:1899,popularity:50,unemployment:2695,gdp:3332,electricityDemand:480.54,electricitySolar:51.42,electricityWind:131.85,electricityWater:14.99,electricityHardCoal:35.46,electricityBrownCoal:82.13,electricityBiomass:43.19,electricityNuclear:60.91,co2emissionsIndustry:186,co2emissionsBuildings:118,co2emissionsMobility:150,co2emissionsAgriculture:70,co2emissionsOthers:9},j={currentYear:2021,values:V,acceptedLaws:[],proposedLaws:[],rejectedLaws:[]};function Q(e){return o(l({},e),{get electricityCoal(){return this.electricityHardCoal+this.electricityBrownCoal},get electricityGas(){return this.electricityDemand-this.electricitySolar-this.electricityWind-this.electricityWater-this.electricityHardCoal-this.electricityBrownCoal-this.electricityBiomass-this.electricityNuclear},get co2emissionsEnergy(){return.399*this.electricityGas+.058*this.electricitySolar+.005*this.electricityWind+.02*this.electricityWater+.835*this.electricityHardCoal+1.137*this.electricityBrownCoal+0*this.electricityBiomass+.005*this.electricityNuclear},get co2emissions(){return this.co2emissionsEnergy+this.co2emissionsIndustry+this.co2emissionsMobility+this.co2emissionsBuildings+this.co2emissionsAgriculture+this.co2emissionsOthers}})}function R(e=j){return{id:f(),currentYear:e.currentYear,acceptedLaws:e.acceptedLaws,proposedLaws:e.proposedLaws,rejectedLaws:e.rejectedLaws,values:Q(e.values),events:[],over:!1}}function U(e,t){return Object.keys(t).forEach((i=>{e[i]+=t[i]||0})),e}function H(e){return Math.max(0,Math.min(100,e))}function Y(e){if(0===e.values.co2emissions)return 100;return H(50*(e.values.co2budget*Q(V).co2emissions/V.co2budget/e.values.co2emissions))}function J(e){return H(100-50*(e.values.stateDebt/V.stateDebt))}function X(e,t){return e?Math.round(t(e)/10):0}var Z=c({components:{TimeIndicator:N,Indicator:z},setup:()=>({store:It(),co2:"data:image/png;base64,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",coin:"/assets/euro.4b74462e.svg",hands:"/assets/clapping-hands.2a0f82d4.png"}),computed:{game(){return this.store.state.game},co2value(){return X(this.game,Y)},financeValue(){return X(this.game,J)},popularityValue(){return X(this.game,(e=>e.values.popularity))}}});const F=g();w("data-v-c937a0d2");const q={class:"CurrentIndicators"};b();const _=F(((e,t,i,s,n,a)=>{const r=p("TimeIndicator"),l=p("Indicator");return h(),d("div",q,[u(r),u(l,{value:e.co2value,color:"#EE8AC1",img:e.co2},null,8,["value","img"]),u(l,{value:e.financeValue,color:"#A9D18E",img:e.coin},null,8,["value","img"]),u(l,{value:e.popularityValue,color:"#8FAADC",img:e.hands},null,8,["value","img"])])}));Z.render=_,Z.__scopeId="data-v-c937a0d2";var $=c({props:{event:{type:Object,required:!0}},data:()=>({open:!1}),methods:{toggle(){const e=this.$refs.p;e.style.setProperty("--max-height",e.scrollHeight+"px"),this.open=!this.open}}});$.render=function(e,t,i,s,n,a){return h(),d("li",{class:{new:!e.event.acknowledged,open:e.open}},[u("title",{onClick:t[1]||(t[1]=(...t)=>e.toggle&&e.toggle(...t))},A(e.event.title),1),u("p",{ref:"p"},A(e.event.description),513)],2)};var ee=c({components:{EventItem:$},setup(){const e=It();return{store:e,events:y((()=>{var t;return null==(t=e.state.game)?void 0:t.events}))}},data:()=>({visible:!1}),methods:{close(){var e;this.visible=!1,null==(e=this.events)||e.filter((e=>!e.acknowledged)).forEach((e=>e.acknowledged=!0))},show(){this.visible=!0}}});const te=g();w("data-v-6e882f0b");const ie={key:0},se=u("header",null," News Ticker ",-1),ne={key:0},ae={key:1};b();const re=te(((e,t,i,s,n,a)=>{var r;const l=p("EventItem");return e.visible?(h(),d("div",ie,[se,(null==(r=e.events)?void 0:r.length)?(h(),d("ul",ne,[(h(!0),d(m,null,v(e.events,(e=>(h(),d(l,{key:e.title,event:e},null,8,["event"])))),128))])):(h(),d("p",ae," Keine Nachrichten bisher ")),u("footer",null,[u("button",{onClick:t[1]||(t[1]=(...t)=>e.close&&e.close(...t))},"Ok")])])):(h(),d("button",{key:1,onClick:t[2]||(t[2]=(...t)=>e.show&&e.show(...t))}," News "))}));ee.render=re,ee.__scopeId="data-v-6e882f0b";const le=(e,t)=>({unit:e,writable:t}),oe={co2budget:le("MioTons",!0),co2emissionsIndustry:le("MioTons",!0),co2emissionsMobility:le("MioTons",!0),co2emissionsBuildings:le("MioTons",!0),co2emissionsAgriculture:le("MioTons",!0),co2emissionsOthers:le("MioTons",!0),co2emissionsEnergy:le("MioTons",!1),co2emissions:le("MioTons",!1),electricityDemand:le("TWh/a",!0),electricitySolar:le("TWh/a",!0),electricityWind:le("TWh/a",!0),electricityWater:le("TWh/a",!0),electricityBiomass:le("TWh/a",!0),electricityNuclear:le("TWh/a",!0),electricityHardCoal:le("TWh/a",!0),electricityBrownCoal:le("TWh/a",!0),electricityCoal:le("TWh/a",!1),electricityGas:le("TWh/a",!1),stateDebt:le("MrdEuro",!0),popularity:le("Percent",!0),unemployment:le("TsdPeople",!0),gdp:le("MrdEuro",!0)};var ce=c({setup(){const e=It();return{store:e,allLaws:e.state.allLaws,game:y((()=>e.state.game))}},data:()=>({lawsSortCol:"state",lawsSortDir:1,lawSelected:void 0}),methods:{sortLaws(e){e===this.lawsSortCol&&(this.lawsSortDir=this.lawsSortDir>0?-1:1),this.lawsSortCol=e},selectLaw(e){this.lawSelected=e}},computed:{startYearOfSelected(){if(!this.lawSelected||!this.game)return 2021;const e=this.game.acceptedLaws.find((e=>e.lawId===this.lawSelected));return e?e.effectiveSince:2021},effectsOfSelected(){if(!this.lawSelected||!this.game)return{};this.game;const e=this.allLaws.find((e=>e.id===this.lawSelected));return e?e.effects(this.game.values,this.startYearOfSelected,this.game.currentYear):{}},sortedValues(){return this.game?function(e,t){const i=Q(e);function s(t){return e[t].toFixed(2)}function n(e){return(e>0?"+":"")+e.toFixed(2)}function a(s){const a=t[s],r=i[s]-e[s];return a&&Math.abs(a-r)<.001?n(a):a?n(a)+" / "+n(r):0!=r?n(r):""}return U(i,t),Object.keys(oe).map((e=>({id:e,unit:oe[e].unit,value:s(e),effect:a(e),class:oe[e].writable?"writable":"calculated"})))}(this.game.values,this.effectsOfSelected):[]},sortedLaws(){return this.game?function(e,t,i,s){const n=e.proposedLaws,a=e.acceptedLaws.map((e=>e.lawId)),r=e.rejectedLaws;return s.map((t=>{return{id:t.id,priority:t.priority(e),state:(i=t.id,a.includes(i)?"a":n.includes(i)?"p":r.includes(i)?"r":"x")};var i})).sort(((e,s)=>function(e,t){return e<t?-1:e>t?1:0}(e[t],s[t])*i)).map((e=>o(l({},e),{priority:e.priority.toFixed(2)})))}(this.game,this.lawsSortCol,this.lawsSortDir,this.allLaws):[]}}});const de=g();w("data-v-0d9d4ec0");const ue={class:"peekData"},me=u("summary",null,"Peek",-1),he={class:"numbercol"},pe={class:"effcol"},ve={class:"numbercol"};b();const ge=de(((e,t,i,s,n,a)=>(h(),d("details",ue,[me,u("table",null,[(h(!0),d(m,null,v(e.sortedValues,(e=>(h(),d("tr",{key:e.id,class:e.class},[u("td",null,A(e.id),1),u("td",null,A(e.unit),1),u("td",he,A(e.value),1),u("td",pe,A(e.effect),1)],2)))),128))]),u("table",null,[u("tr",null,[u("th",{onClick:t[1]||(t[1]=t=>e.sortLaws("state"))},"S"),u("th",{onClick:t[2]||(t[2]=t=>e.sortLaws("id"))},"ID"),u("th",{onClick:t[3]||(t[3]=t=>e.sortLaws("priority")),class:"numbercol"},"Priority")]),(h(!0),d(m,null,v(e.sortedLaws,(i=>(h(),d("tr",{key:i.id,class:i.state,onMouseenter:t=>e.selectLaw(i.id),onMouseleave:t[4]||(t[4]=t=>e.selectLaw(void 0))},[u("td",null,A(i.state),1),u("td",null,A(i.id),1),u("td",ve,A(i.priority),1)],42,["onMouseenter"])))),128))])]))));ce.render=ge,ce.__scopeId="data-v-0d9d4ec0";var we=c({components:{CurrentIndicators:Z,EventList:ee,PeekInside:ce},data:()=>({devMode:"true"===localStorage.getItem("devMode")})});const be={class:"game-setup"},ye={class:"wrapper"},fe=u("h1",null,"#ich-kann-klima",-1),Ae={class:"indicators"},ke={class:"peek"};we.render=function(e,t,i,s,n,a){const r=p("EventList"),l=p("CurrentIndicators"),o=p("PeekInside");return h(),d(m,null,[u("div",be,[u("div",ye,[fe,u(r),k(e.$slots,"default")]),u("div",Ae,[u(l)])]),u("div",ke,[e.devMode?(h(),d(o,{key:0})):L("",!0)])],64)};var Le=c({setup(){const e=It();return{store:e,allLaws:y((()=>e.state.allLaws)),acceptedLaws:y((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},data:()=>({opened:void 0}),computed:{visibleAccepted(){return this.allLaws.filter((e=>{var t,i;return(null==(t=this.acceptedLaws)?void 0:t.some((t=>t.lawId===e.id)))&&!(null==(i=e.labels)?void 0:i.includes("hidden"))}))}},methods:{toggleOpen(e){this.opened=this.opened===e?void 0:e}}});const Se=g()(((e,t,i,s,n,a)=>(h(!0),d(m,null,v(e.visibleAccepted,((t,i)=>(h(),d("div",{key:i,class:["Law",{opened:i===e.opened}],onClick:t=>e.toggleOpen(i)},[u("h3",null,A(t.title),1),u("div",null,A(t.description),1)],10,["onClick"])))),128))));Le.render=Se,Le.__scopeId="data-v-5f028f12";var De=c({setup:()=>({store:It()}),data:()=>({selectedLaw:void 0}),props:{proposedLaws:Array},methods:{select(e){this.selectedLaw=e},accept(e){this.store.dispatch("acceptLaw",{lawId:e})},decline(e){this.store.dispatch("rejectLaw",{lawId:e})}}});const Me=g();w("data-v-0b6efcd1");const Ce={class:"ProposedLaws"},Ie={class:"button-bar"};b();const Ge=Me(((e,t,i,s,n,a)=>(h(),d("div",Ce,[(h(!0),d(m,null,v(e.proposedLaws,((t,i)=>(h(),d("div",{key:i,class:["Law",{selected:t.id===e.selectedLaw}]},[u("div",{onClick:i=>e.select(t.id)},[u("h3",null,A(t.title),1),u("div",null,A(t.description),1),u("div",Ie,[u("button",{class:"accept",onClick:i=>e.accept(t.id)},"✓",8,["onClick"]),u("button",{class:"decline",onClick:i=>e.decline(t.id)},"✗",8,["onClick"])])],8,["onClick"])],2)))),128))]))));De.render=Ge,De.__scopeId="data-v-0b6efcd1";var Ee=c({components:{GameSetup:we,LawProposals:De,AcceptedLaws:Le},setup(){const e=It();return{store:e,allLaws:y((()=>e.state.allLaws)),acceptedLaws:y((()=>{var t;return null==(t=e.state.game)?void 0:t.acceptedLaws}))}},computed:l({},S(["proposedLaws"])),methods:{startGame(e){e?this.store.dispatch("loadGame",{gameId:e}):this.store.dispatch("startGame",void 0)},advanceYear(){this.store.dispatch("advanceYear",void 0)}},beforeRouteEnter(e,t,i){i((t=>t.startGame(e.params.id)))}});const Be=g();w("data-v-418e0cea");const Te=u("h2",null,"Beschlossene Gesetze",-1),xe=u("p",null,"Wenn Du fertig bist, wechsle zum nächsten Jahr und sieh' Dir die Auswirkungen an.",-1),ze={class:"button-bar"};b();const Oe=Be(((e,t,i,s,n,a)=>{const r=p("LawProposals"),l=p("AcceptedLaws"),o=p("GameSetup");return h(),d(o,null,{default:Be((()=>[u(r,{"proposed-laws":e.proposedLaws},null,8,["proposed-laws"]),Te,u(l),xe,u("div",ze,[u("button",{onClick:t[1]||(t[1]=(...t)=>e.advanceYear&&e.advanceYear(...t))},"Jahr abschließen")])])),_:1})}));Ee.render=Oe,Ee.__scopeId="data-v-418e0cea";var Ke=c({components:{GameSetup:we},methods:{newGame(){this.$router.push("/games")}}});const We=u("h2",null,"Deine erste Entscheidung steht bevor...",-1),Ne=u("p",null,[M("Wähle weise, denn "),u("u",null,"alles hat Einfluss"),M(" auf deine Beliebtheit, das Klimaziel sowie den Finanzhaushalt.")],-1),Pe=u("p",null,[M(" Durch manche Entscheidungen entstehen neue Möglichkeiten."),u("br"),M(" Es kann aber auch sein, dass du dir durch bestimmte Entscheidungen andere Möglichkeiten nimmst. ")],-1),Ve=u("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),je={class:"button-bar"};Ke.render=function(e,t,i,s,n,a){const r=p("GameSetup");return h(),d(r,null,{default:D((()=>[We,Ne,Pe,Ve,u("div",je,[u("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Leg' los")])])),_:1})};var Qe=c({methods:{start(){this.$router.push("/start")}}});const Re={class:"wrapper"},Ue=u("h2",null,"Stell dir vor...",-1),He=u("h3",null,"... du bist Politiker.",-1),Ye=u("p",null," Du wurdest gerade ins Amt gewählt. Dein Ziel? Die Wiederwahl! ",-1),Je=u("p",null," Du hast vier Jahre Zeit um... ",-1),Xe=u("ul",null,[u("li",null,"Beliebtheit in der Bevölkerung zu erlangen"),u("li",null,"der Klimakatastrophe entgegenzusteuern"),u("li",null,"das Soll des Bundeshaushaltes zu erreichen/nicht zu übersteigen")],-1),Ze={class:"button-bar"};Qe.render=function(e,t,i,s,n,a){return h(),d("div",Re,[Ue,He,Ye,Je,Xe,u("div",Ze,[u("button",{onClick:t[1]||(t[1]=(...t)=>e.start&&e.start(...t))},"Starte das Spiel!")])])};var Fe=c({components:{GameSetup:we},setup:()=>({store:It()}),computed:{co2(){var e,t;const i=null==(e=this.store.state.game)?void 0:e.values.co2budget;return(null==(t=this.store.state.game)?void 0:t.values.co2emissions)>0?i>0?"sind weiterhin vorhanden, aber zumindest ist das Budget noch nicht aufgebraucht, dein:e Nachfolger:in hat vielleicht noch eine Chance.":"sind explodiert, das Budget ist aufgebraucht. Hätte die AfD nicht besser hinbekommen.":i>0?"hast du im Griff! Es verbleibt sogar noch ein Rest-CO2-Budget, Gratulation!":"hast du gerade noch rechtzeitig ausreichend senken können. Punktlandung."},debt(){var e;return(null==(e=this.store.state.game)?void 0:e.values.stateDebt)<1e3?"sind ausgeglichen. Die Stabilitätskriterien werden eingehalten.":"sind dir leider aus dem Ruder gelaufen."},popularity(){var e;const t=null==(e=this.store.state.game)?void 0:e.values.popularity;return t<20?"entspricht dem, was man von einem langhährigen Diktator erwarten kann.":t<50?"ist nicht berauschend, wiedergewählt würdest du wohl eher nicht.":t<80?"reicht aus, dass du noch länger am Ruder bleiben könntest. Gratulation!":"ist völlig unglaubwürdig - war das wirklich eine freie Wahl?"}},methods:{loadGame(e){this.store.dispatch("loadGame",{gameId:e})},newGame(){this.$router.push("/games")}},beforeRouteEnter(e,t,i){i((t=>{t.loadGame(e.params.id)}))}});const qe={class:"wrapper"},_e=u("h2",null,"Das Spiel ist leider zu Ende",-1),$e=u("p",null,"Deine Entscheidungen haben etwas verändert - soviel kann man sagen.",-1),et=u("p",null,"Gar nicht so einfach, Politiker zu sein, oder?",-1),tt={class:"button-bar"};Fe.render=function(e,t,i,s,n,a){const r=p("GameSetup");return h(),d(r,null,{default:D((()=>[u("div",qe,[_e,$e,u("ul",null,[u("li",null,"Die CO2-Emmissionen "+A(e.co2),1),u("li",null,"Die Staatsfinanzen "+A(e.debt),1),u("li",null,"Deine Beliebtheit "+A(e.popularity),1)]),et,u("div",tt,[u("button",{onClick:t[1]||(t[1]=(...t)=>e.newGame&&e.newGame(...t))},"Neuer Versuch")])])])),_:1})};const it=[{path:"/",component:Qe},{path:"/start",component:Ke},{path:"/games",component:Ee},{path:"/games/:id",component:Ee},{path:"/games/:id/over",component:Fe}],st=C({history:I(),routes:it});var nt={title:"Kohleverstromung einstellen",description:"Die Verbrennung von Kohle zur Erzeugung von Strom wird verboten.",effects(e,t,i){const s=i-t,n=s<18?4.3/18:0,a=(10-s)/55,r=Math.max(50*a,0);return{electricityHardCoal:-e.electricityHardCoal,electricityBrownCoal:-e.electricityBrownCoal,stateDebt:2.5-n,unemployment:r}},priority:e=>e.values.electricityCoal/e.values.electricityDemand<=.1?0:1e4-e.values.unemployment/100},at={title:"Energiemix regelt der Markt",description:"Subventionen in der Energiewirtschaft werden insgesamt eingestellt.",effects:(e,t,i)=>({stateDebt:-37,electricityHardCoal:Math.max(-e.electricityHardCoal,-.1*V.electricityHardCoal),electricityBrownCoal:Math.max(-e.electricityBrownCoal,-.05*V.electricityBrownCoal),electricityWind:5,electricitySolar:3,electricityWater:.5}),priority:e=>(2050-e.currentYear)/29*100},rt={title:"Kernenergienutzung verlängern",description:"Kernkraftwerke länger nutzen, wieder in Betrieb nehmen und neu bauen.",removeLawsWithLabels:["Kernenergie"],effects:(e,t,i)=>({electricityNuclear:104.3-e.electricityNuclear,stateDebt:-2.5,popularity:Math.max(-e.popularity,-4)}),priority:e=>1e3*(e.values.electricityGas-56.77)/56.77},lt={title:"Initial: Atomausstieg",description:"Atomausstieg finded wie beschlossen 2022 statt",labels:["hidden","initial","Kernenergie"],effects:(e,t,i)=>({electricityNuclear:({2021:60.45,2022:30.21}[i]||0)-e.electricityNuclear}),priority:e=>0},ot={title:"Windenergie subventionieren",description:"Garantierte Einspeisevergütung für neue und erneuterte Windanlagen",effects:(e,t,i)=>({electricityWind:20,stateDebt:1}),priority:e=>100*((e.values.electricityDemand-e.values.electricityWind-e.values.electricitySolar-e.values.electricityWater-e.values.electricityBiomass)/e.values.electricityDemand)},ct={title:"Dämmung von Wohngebäuden fördern",description:"Die nachträgliche Dämmung von Wohngebäuden wird mit günstigen Krediten gefördert.",effects:(e,t,i)=>i-t>=2?{stateDebt:1,co2emissionsBuildings:Math.max(-e.co2emissionsBuildings,-2)}:{stateDebt:1},priority:e=>1e3*(e.values.co2emissionsBuildings/e.values.co2emissions-.15)},dt={title:"Nahverkehr Ausbauen",description:"Der Ausbau des Nahverkehrs wird bundesweit stärker bezuschusst.",effects:(e,t,i)=>i-t>=5?{stateDebt:3,co2emissionsMobility:Math.max(-e.co2emissionsMobility,-2),popularity:Math.min(100-e.popularity,2)}:{stateDebt:3},priority:e=>1e3*(e.values.co2emissionsMobility/e.values.co2emissions-.25)},ut={title:"Förderung für Tierhaltung abschaffen",description:"Subventionen für Tierhaltung werden ersatzlos gestrichen",effects:(e,t,i)=>t===i?{co2emissionsAgriculture:Math.max(-e.co2emissionsAgriculture,-10),stateDebt:-10,popularity:Math.max(-e.popularity,-20)}:{stateDebt:-10},priority:e=>100-e.values.unemployment/100},mt={title:"Nahverkehr Kostenlos",description:"Die Kosten für den Nahverkehr werden bundesweit bezuschusst, so dass keine Tickets mehr benötigt werden.",effects:(e,t,i)=>t===i?{unemployment:20,stateDebt:10,popularity:Math.min(100-e.popularity,10),co2emissionsMobility:Math.max(-e.co2emissionsMobility,-2)}:{stateDebt:10,co2emissionsMobility:Math.max(-e.co2emissionsMobility,-2)},priority:e=>1e3*(e.values.co2emissionsMobility/e.values.co2emissions)};const ht=Object.entries({KohleverstromungEinstellen:nt,EnergiemixRegeltDerMarkt:at,KernenergienutzungVerlaengern:rt,InitialAtomausstieg:lt,WindenergieSubventionieren:ot,DaemmungVonWohngebaeudenFoerdern:ct,NahverkehrAusbauen:dt,FoerderungFuerTierhaltungAbschaffen:ut,NahverkehrKostenlos:mt}).map((([e,t])=>{return i=e,o(l({},t),{id:i});var i}));function pt(e,t){const i=6-e.proposedLaws.length;if(i>0){const s=t.filter((t=>!e.proposedLaws.includes(t.id))).filter((t=>{var i;return!(null==(i=e.acceptedLaws)?void 0:i.some((e=>e.lawId===t.id)))})).filter((t=>{var i;return!(null==(i=e.rejectedLaws)?void 0:i.includes(t.id))})).filter((e=>{var t;return!(null==(t=e.labels)?void 0:t.includes("hidden"))})).map((t=>({law:t,priority:t.priority?t.priority(e):1}))).filter((e=>e.priority>0)).sort(((e,t)=>e.priority-t.priority)).slice(0,i);e.proposedLaws=e.proposedLaws.concat(s.map((e=>e.law.id)))}}function vt(e,t){e.proposedLaws=e.proposedLaws.filter((e=>e!==t)),pt(e,ht)}function gt(e){const t=function(e){const t=ht.find((t=>t.id===e));if(t)return t;throw Error(`Law #${e} not found`)}(e.lawId);if(t)return o(l({},t),{effectiveSince:e.effectiveSince});throw Error(`Law #${e.lawId} not found`)}function wt(e,t){let i;function s(){if(e.state.game){const i=t.map((t=>o(l({},t),{priority:t.probability(e)*Math.random()}))).filter((e=>e.priority)).sort(((e,t)=>t.priority-e.priority));i.length&&e.dispatch("applyEvent",{event:i[0]})}}return{start(){this.pause(),i=setTimeout(s,6e4*Math.random())},pause(){i&&clearTimeout(i),i=0},initiateEvent:s}}function bt(e){return e.find((e=>e.title.match(/subvention/i)&&e.title.match(/abbau/i)))}const yt=[{title:"Social Media Alarm!",description:"Deine Wahlkampfberaterin ruft dich völlig aufgelöst an. Ob denn an den Geschichten was dran sein, die da im\n    Netz kursieren, dass du vor einigen Jahren bei einer Demo dabei warst, bei der die Gewalt eskaliert ist.\n    Die Zeitungen haben die Meldung schon aufgegriffen und es gibt Spekulationen, ob man dir das Misstrauen aussprechen wird.\n  ",apply(e){const t=e.state.game;t&&(t.values.popularity+=Math.max(-t.values.popularity,-20))},probability:()=>Math.random()},{title:"Anruf von befreundetem Unternehmer",description:"Klaus, ein Unternehmer, den du auf einer Dienstreise kennen gelernt hast, ruft an und möchte dich in seine\n    Ferienvilla auf Sardinien einladen. Er verlässt sich natürlich darauf, dass du dem Gesetzentwurf zum Abbau von Subventionen\n    nicht zustimmen wirst.\n  ",apply(e){const t=bt(e.getters.proposedLaws);t&&e.dispatch("rejectLaw",{lawId:t.id})},probability:e=>bt(e.getters.proposedLaws)?Math.random():0},{title:"Wahl verloren",description:"Deine Beliebtheit in der Bevölkerung ist katastrophal, lieber würde man Mao Zedong wählen als dich.\n    Deine Partei hat daher bei der Wahl gerade mal 1.3% erreicht (weil wohl manche nicht wussten, zu welcher Partei du gehörst) und ist damit unter\n    die 5% Marke gerutscht. An eine weitere Kanzlerschaft hat schon länger kein vernünftiger Mensch mehr geglaubt.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.popularity<=0?1:0},{title:"Zusammenbruch des Finanzsystems",description:"Deine Staatsfinanzen sind desaströs. Kein Land der Welt, keine Institutionen oder Privatpersonen trauen dir zu, dass du deine Schulden\n    jemals wieder wirst zurückahlen können. Daher gibt dir auch niemand mehr Geld, mit dem du die Staatsangestellten oder die offenen Verpflichtungen zahlen\n    könntest. Das Spiel ist damit leider beendet.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.stateDebt>2*V.stateDebt?1:0},{title:"Du hast durchgehalten",description:"Es ist vielleicht nicht alles optimal nach deiner inzwischen sehr langen Amtszeit, aber du hast es geschafft,\n    bis hierhin durchzuhalten! Das ist wunderbar, denn noch immer ist der Planet bewohnbar, deine Maßnahmen waren zu finanzieren\n    und die Menschen hast du auf diesem Weg auch mitgenommen. Gratulation!\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&2050===e.state.game.currentYear?1:0},{title:"Hitzehölle",description:"Die CO2-Werte sind soweit gestiegen, dass die Erde nur noch an wenigen Orten bewohnbar ist. Die ehemaligen Küstenregionen\n  stehen unter Wasser, ganze Landstriche sind verschwunden. In den trockeneren Gebieten ist die Temperatur so hoch, dass nichts mehr wächst.\n  Um die verbleibdenden Teile sind erbitterte Kämpfe ausgebrochen.\n  ",apply(e){e.dispatch("gameOver")},probability:e=>e.state.game&&e.state.game.values.co2budget<=0?1:0}],ft={loadGame(e){const t=localStorage.getItem("game");if(!t)throw Error("Game not found");const i=R(JSON.parse(t));return i.id=e,i},saveGame(e){localStorage.setItem("game",JSON.stringify(e))}};let At;function kt(){return At||(At=wt(Gt,yt))}const Lt={startGame(e){const t=R();t.acceptedLaws=e.state.allLaws.filter((e=>{var t;return null==(t=e.labels)?void 0:t.includes("initial")})).map((e=>({lawId:e.id,effectiveSince:t.currentYear}))),pt(t,e.state.allLaws),ft.saveGame(t),kt().start(),st.push("/games/"+t.id)},loadGame(e,t){const i=ft.loadGame(t.gameId);ft.saveGame(i),kt().start(),e.commit("setGameState",{game:i})},gameOver(e){var t;e.commit("gameOver",void 0),st.push("/games/"+(null==(t=e.state.game)?void 0:t.id)+"/over")},acceptLaw(e,t){const i=l({},e.state.game),s={lawId:t.lawId,effectiveSince:i.currentYear+1},n=gt(s).removeLawsWithLabels,a=i.acceptedLaws.map(gt).filter((e=>!(null==n?void 0:n.some((t=>{var i;return null==(i=e.labels)?void 0:i.includes(t)}))))).map((e=>({lawId:e.id,effectiveSince:e.effectiveSince})));i.acceptedLaws=[...a,s],vt(i,t.lawId),ft.saveGame(i),e.commit("setGameState",{game:i})},rejectLaw(e,t){const i=l({},e.state.game);i.rejectedLaws=[...i.rejectedLaws,t.lawId],vt(i,t.lawId),ft.saveGame(i),e.commit("setGameState",{game:i})},advanceYear(e){const t=l({},e.state.game),i=t.acceptedLaws.map(gt);t.currentYear++,t.values=function(e,t,i){const s=Q(e);return t.forEach((e=>{const t=e.effects(s,e.effectiveSince,i);U(s,t)})),s.co2budget-=s.co2emissions,s}(t.values,i,t.currentYear),ft.saveGame(t),e.commit("setGameState",{game:t}),kt().start()},applyEvent(e,t){t.event.apply(e);const i=l({},e.state.game);i.events.unshift(t.event),e.commit("setGameState",{game:i}),ft.saveGame(e.state.game)}},St={setGameState(e,t){e.game=t.game},gameOver(e){e.game=o(l({},e.game),{over:!0})}},Dt={proposedLaws:e=>e.game&&e.game.proposedLaws?e.game.proposedLaws.map((t=>{const i=e.allLaws.find((e=>e.id===t));return i||console.error(`Inconsistency: Proposed law #${t} not found`),i})).filter((e=>e)):[]},Mt={allLaws:ht,game:void 0,visibleEvent:null},Ct=Symbol();function It(){return E(Ct)}const Gt=G({state:Mt,mutations:St,actions:Lt,getters:Dt}),Et=B(T);Et.use(Gt,Ct),Et.use(st),Et.mount("#app");
